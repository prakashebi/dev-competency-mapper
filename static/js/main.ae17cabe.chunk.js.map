{"version":3,"sources":["app/services/http/headers.js","app/services/http/http.js","app/containers/navigation/Navigation.jsx","app/containers/login-form/LoginForm.jsx","app/containers/masthead/Masthead.jsx","shared/components/edit-inline/EditInline.tsx","app/containers/simple-form/SimpleForm.tsx","app/components/error-loading/ErrorLoading.tsx","app/containers/framework-versions/FrameworkVersions.tsx","app/services/competency/body.js","app/services/competency/competency.js","app/services/active-requests/active-requests.js","app/services/util/util.js","app/containers/ManageAttributes.jsx","app/containers/version-controls/VersionControls.tsx","app/containers/ManageCompetencies.jsx","app/containers/ManageAttribute.jsx","app/containers/ManageCompetency.jsx","app/containers/ManageDomains.jsx","app/containers/ManageData.jsx","app/services/courses/courses.js","app/containers/CompetencyDetails.jsx","app/components/competency-list/CompetencyList.jsx","app/components/domain-list/DomainList.jsx","app/containers/courses/Courses.jsx","app/containers/ProfileList.jsx","app/containers/PathwaysList.jsx","app/components/FAIRDownload.jsx","app/containers/CompetencyList.jsx","app/containers/competency-nested-components/ProfilePanel.jsx","app/containers/ResourceEdit.jsx","app/containers/ResourceCreate.jsx","app/containers/AttributeMap.jsx","app/containers/framework-versions/VersionNotice.jsx","app/containers/ResourceDetails.jsx","app/containers/ResourcesList.jsx","app/containers/ResourcesHome.jsx","app/containers/ChangePassword.jsx","app/containers/UserView.jsx","app/components/about/About.js","app/components/framework-buttons/FrameworkButtons.jsx","app/containers/Frameworks.jsx","app/containers/CompetencySettings.jsx","app/containers/AttributeSettings.jsx","app/containers/AttributeDemap.jsx","app/services/profile/body.js","app/services/profile/profile.js","app/containers/ProfileCreate.jsx","app/containers/GuestHelp.jsx","app/containers/ProfileCreateGuest.jsx","app/containers/ProfileView.jsx","app/containers/ProfilesCompareButterfly.jsx","app/containers/ProfilesCompare.jsx","app/containers/ProfileMapDownload.jsx","app/containers/ProfileViewGuest.jsx","app/containers/ProfileMapGuest.jsx","app/containers/ProfileEdit.jsx","app/containers/ProfileMap.jsx","app/containers/ProfilesCompareSummary.jsx","app/containers/Documentation.jsx","app/services/auth/auth.js","app/containers/Login.jsx","app/containers/navigation/ManageFrameworks.jsx","app/components/Footer.jsx","app/containers/Breadcrumbs.jsx","app/containers/Root.jsx","index.jsx","app/containers/user_icon.png","app/components/assets/european-union.png","app/components/assets/PerMedCoE.jpg","app/components/assets/Bioexcel.png"],"names":["HeadersService","Object","classCallCheck","this","instance","type","arguments","length","undefined","csfrToken","window","localStorage","getItem","Accept","Content-Type","X-CSRF-Token","Authorization","apiUrl","process","axios","defaults","baseURL","HttpService","headers","Headers","url","credentialType","get","withCredentials","body","option","post","patch","Component","LoginForm","props","_this","possibleConstructorReturn","getPrototypeOf","call","onChange","event","setState","defineProperty","currentTarget","name","value","submit","onSubmit","_this$state","state","username","password","showModal","e","preventDefault","_this2","_this$state2","react_default","a","createElement","style","float","href","onClick","OpenModal","className","aria-hidden","dist","open","onClose","CloseModal","center","classNames","overlay","modal","autoComplete","placeholder","Masthead","onLogin","onLogout","_this$props","bgStyle","roles","user","backgroundImage","JSON","stringify","marginBottom","Fragment","width","height","xmlns","d","fill","fill-rule","defaultState","oriValue","active","EditInline","selfRef","React","createRef","inputRef","toggleActive","current","contains","target","reset","change","render","staticElement","editable","ref","aria-label","key","text","document","addEventListener","removeEventListener","prevProps","prevState","setTimeout","focus","defaultProps","newValue","description","uuid","mapping","SimpleForm","onCreate","trim","setDefaultOption","options","title","showMappingField","selectOptions","map","_ref","required","ErrorLoading","message","customStyles","content","top","left","right","bottom","marginRight","transform","border","FrameworkVersion","versions","framework","_useState","useState","_useState2","slicedToArray","showNotes","setShowNotes","_useState3","_useState4","notes","setNotes","versionItems","filter","version","number","id","react_router_dom","to","concat","release_notes","lib_default","isOpen","Parser","httpApiURl","replace","BodyService","_links","_embedded","domainId","domainUuid","_ref$mapping","draftId","draftUuid","target_id","field_map_other_competency","self","lang","_links2","_embedded2","_ref2","attributeTypeId","attributeTypeUuid","competencyId","competencyUuid","mutate","_ref3","releaseNotes","field_parent","field_release_notes","field_item","nodeId","vid","attribuiteId","_links4","_embedded4","resourceID","dates","dates2","location","target_audience","learning_outcomes","keywords","organisers","trainers","parentID","versionID","newData","addtional","field_type","field_additional_information","items","CompetencyService","http","response","data","Date","now","console","log","Body","createAttribute","createCompetency","mutateCompetency","mutateDomain","mutateCompetencyPosition","toggleArchivingVersionedNode","attributeId","mutateAttribute","publishFramework","createDraftFramework","versionId","updateReleaseNotes","changeDomain","editResource","attribiuteId","changeAttributeSettings","resource","attributes","framework_id","createBulkData","saveSorting","ActiveRequestsService","counter","callbacks","fn","push","index","forEach","safeFlat","array","Array","prototype","flat","reduce","acc","cur","toConsumableArray","tagsReg","RegExp","nbspReg","removeHtmlTags","htmlString","replaceBy","ManageAttributes","activeRequests","competencyService","match","params","frameworkName","frameworkVersion","frameworStatus","attributeTypes","domainName","cid","competencyName","competencyData","path","pathname","split","loadingError","_callee","draftVersion","regenerator_default","wrap","_context","prev","next","startRequest","find","attribute","fetchFramework","t0","enqueueSnackbar","variant","finishRequest","finish","stop","scroll","loadData","fetchVersions","getAllVersionedFrameworks","allFrameworks","currentFramework","fw","toLowerCase","attribute_types","reverse","liveVersion","status","frameworkData","getVersionedDraftFramework","getVersionedFramework","competencyMatch","filterByCompetencyId","frameworkStatus","domainTitle","item","domains","domain","competencies","competency","nid","patchAttribute","position","patchAttributePosition","isArchived","attributeType","_this$state3","archived","EditInline_EditInline","editAttribute","field_number","editAttributePosition","toggleArchive","_this3","_this$state4","getAttributeRows","_this$state5","error_loading_ErrorLoading","SimpleForm_SimpleForm","getAttributeList","FrameworkVersions","withSnackbar","VersionControls","release","updateNotes","createDraft","curr","originalNotes","setVersion","_useState5","_useState6","pressedRelease","setPressedRelease","_useState7","_useState8","pressedNotes","setPressedNotes","react_ckeditor_component_lib_default","events","editor","getData","cleanNotes","ManageCompetencies","frameworkVersionId","competencyTypes","allowedFrms","releaseNewVersion","_callee2","_context2","_callee3","_context3","_callee4","_context4","refs","scrollIntoView","patchCompetency","patchCompetencyPosition","getCompetencyRows","_this4","editCompetency","editCompetencyPosition","bind","_this$state6","version_controls_VersionControls","getCompetencyList","ManageAttribute","asyncToGenerator","mark","sorting","closeModalPosition","_x","apply","parentTitle","showAttributeModal","attributeTypeTitle","newAttributes","typetitle","handleOpenAttributeModal","assertThisInitialized","handleCloseAttributeModal","OpenModalPosition","showModalPosition","dataset","competencyid","competencytitle","attributetype","aid","version_id","dragged","dataTransfer","effectAllowed","setData","display","parentNode","removeChild","from","Number","over","splice","insertBefore","frameworkDef","editableFrm","def","data-competencyid","data-competencytitle","data-typetitle","data-attributetype","attr","archiveAttribute","_this$props4","getAttributes","rows","setAttributes","saveAttributes","onDragOver","dragOver","i","listStyleType","data-position","draggable","onDragEnd","dragEnd","onDragStart","dragStart","ManageCompetency","comp","OpenModalMapping","CloseModalMapping","showModalMapping","mapped_other_competency","_this$props2","archiveCompetency","Collapsible_default","trigger","triggerWhenOpen","containers_ManageAttribute","_this$props3","getCompetencies","editMapping","activeclassName","config","toolbarGroups","groups","ManageDomains","newDomains","showModalCompetency","newCompetencies","archiveDomain","OpenModalCompetency","closeModalCompetency","handleRemoveCompetencies","setCompetencies","domainid","domaintitle","patchDomain","editDomain","data-domainid","data-domaintitle","containers_ManageCompetency","count","saveCompetencies","activeClass","paddingTop","handleAddMoreCompetencies","ManageData","_x2","_x3","parent","handleOpenModal","handleCloseModal","saveDomains","alert","_context7","containers_ManageDomains","setDomains","CoursesService","page","filterType","$framework","$competencyID","CompetencyDetails","coursesService","attributeDefs","resources","string","Promise","all","getFramework","getResources","getAllFrameworks","frameworkMatch","getByCompetency","slugify","training_resource_id","objectSpread","competencyDetails","resourceBlock","aria-current","CompetencyList","disable","attributesGrouped","groupBy","paddingLeft","parentIndex","DomainList","childIndex","components_competency_list_CompetencyList","Courses","onFilter","term","courses","filteredCourses","course","test","activePage","totalItemsCount","noResultsFound","loading","frameworkId","pageNumber","fetchData","scrollTo","getByFramework","allCourses","filterCourses","showAllTrainingResources","hitcount","then","filteredProfiles","competency_profile","profile","framework_label","modifiedCourse","findIndex","c","competency_id","competency_label","searchSubmit","filterTypeHandle","alt","src","Pagination_default","itemsCountPerPage","pageRangeDisplayed","handlePageChange","innerClass","itemClass","itemClassPrev","itemClassNext","linkClass","prevPageText","nextPageText","ProfileList","history","useHistory","guestProfile","setGuestProfile","profiles","setProfiles","userFrameworks","setUserFrameworks","profilesToCompare","userName","useEffect","parse","fetch","Response","json","findresponse","method","credentials","setProfilesToCompare","checked","getAttribute","arr","redirectToCompare","temp","includes","checkFMAccess","image","user_icon","versionNumber","job_title","data-profileid","color","confirmAlert","customUI","removeItem","reload","handleDelete","publishing_status","url_alias","PathwaysList","pathways","setPathways","checkUserAccess","pathway","FAIRDownload","setHeaders","filters","setFilters","facets","setFacets","sent","facetClick","indexOf","join","action","identifiers","defaultChecked","htmlFor","columnCount","for","react_csv","filename","header","frameworkDescription","filteredDomains","trainingResourcesExist","profileCount","pathwayCount","allResourcesFetched","visibleTabs","selectedTabIndex","filteredCompetencies","currentUrl","fetchProfiles","fetchPathways","checkForTrainingResources","setCurrentTab","findResponse","frameWorkId","versionStatus","vr","attrTypes","_this5","domainList","domain_list_DomainList","esm","selectedIndex","onSelect","containers_ProfileList","containers_PathwaysList","courses_Courses","components_FAIRDownload","_props$match$params","ResourceEdit","csrf","updateFlag","redirectTo","evt","newContent","csrfURL","findresponse2","fetchResource","checkUser","field_dates","field_end_date","field_description","field_location","field_url","field_target_audience","field_learning_outcomes","field_domain_topics","field_organisers","field_trainers","ResourceEdit_EditForm","EditForm","setRedirect","redirect","handleTitle","handleDates","handleDates2","handleType","handleDesc","handleLocation","handleURL","handleTargetAudience","handleLearningOutcomes","handleKeywords","handleOrganisers","handleTrainers","d1","d2","dateValidate","cookies","format","handleSubmit","contextTypes","router","PropTypes","object","EditResources","react_router","exact","component","ResourceCreate","changeDescription","changeTargetAudience","changeLearningOutcomes","changeOrganisers","changeTrainers","token","CreateResources","$","AttributeMap","frameworkdetails","frameworkUUID","selectedAttributes","resourceDetails","resourcePath","handleSelect","checkedAttributes","attributeIDs","attrmap","childItems","getElementsByName","getElementById","is","lists","each","fetchFrameworkDetails","findresponse1","latest_version","detail","fetchCompetencyList","nextProps","nextState","frameworkDetails","frameworkDefs","domainsOptions","attributeTypeOptions","resDetails","selectedAttributesArray","selectedCompetenciesArray","ikey","attribute_type","data-id","ListOfCompetencies","did","data-test","handleAllCheck","marginLeft","data-uuid","handleAttributeClick","AttrMap","Modal","setAppElement","ItemVersions","modalIsOpen","openModal","closeModal","onAfterOpen","afterOpenModal","onRequestClose","contentLabel","ResourceDetails","frameworks","selectedFramework","URL","searchParams","resourcesURL","findresponse3","margin","start","end","months","start_dt","end_date","start_day","getDate","start_month","getMonth","start_year","getFullYear","end_day","end_month","end_year","rid","archivedStatus","field_archived","frameworkLiveVersion","check_array","isArray","Resource","VersionNotice","class","cursor","archiveHandle","formatDates","mappingBlock","overflow","overlayClassName","text-align","toUpperCase","data-close","containers_AttributeMap","selectedCompetencies","ResDetails","ResourcesList","filterMapping","userid","author_id","ListOfResources","maxWidth","checkAuthor","author","filterMappingHandle","innerclassName","itemclassName","linkclassName","Resources","ResourcesHome","ResourcesHomepage","ChangePassword","handlePasswordChange","old","new1","uid","pass","existing","resp","UserView","setUser","setFrameworks","frm","setFrm","field_frameworks","mail","About","FrameworkButtons","Frameworks","CompetencySettings","competencyUUID","competencyTitle","frameworkList","domainID","handleChange","onTextChange","competencyID","result","setMappingText","versoinManagerURL","selectedDomainID","selectedDomainUUID","field_domain","target_uuid","competency_title","domain_id","domain_title","domainOptions","domainArray","colSpan","CompetencySettingsRoot","AttributeSettings","attributeID","attributeTypeID","attributeTypeUUID","changeSettings","handleCompetencyChange","handleTypeChange","selectedCompetencyID","field_competency","selectedCompetencyUUID","selectedAttributeTypeID","field_attribute_type","selectedAttributeTypeUUID","attribute_title","attribute_type_id","attribute_type_title","competencyOptions","competencyArray","attributeTypeArray","rowSpan","AttributeSettingsRoot","AttributeDemap","demap","AttributeDemapRoot","frameworkUuid","age","currentRole","gender","jobTitle","qualification","additionalInfo","fileid","field_versions","field_age","field_current_role","field_gender","field_job_title","field_qualification_background","field_image","field_publishing_status","profileId","publishStatus","mappingBody","expertise","field_profile_mapping","ProfileService","createProfile","editProfile","mapProfile","current_role","qualification_background","additional_information","existingGuestProfile","profile_mapping","setItem","doc","jsPDF","setFont","qDim","currentDate","moment","currentTime","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","marginright","fifthCol","profileBody","pdfProfileImgHeight","selectedFile","selectedFileData","currentYAxis","setFontType","setFontSize","frameworkLogoData","pdfLogoHeight","logoData","addImage","imgData","splitTextToSize","getTextDimensions","fromHTML","h","jobTitleUnderscored","save","ProfileCreate","profileService","setTitle","setAge","setCurrentRole","setGender","_useState9","_useState10","setSelectedFile","_useState11","_useState12","setSelectedFileData","_useState13","_useState14","imgpreview","setImgpreview","_useState15","_useState16","fileSizeError","setFileSizeError","_useState17","_useState18","fileTypeError","setFileTypeError","_useState19","_useState20","setJobTitle","_useState21","_useState22","setQualification","_useState23","_useState24","setAdditionalInfo","_useState25","_useState26","setFramework","_useState27","_useState28","setProfile","_useState29","_useState30","frameworkMoreData","setFrameworkMoreData","promise1","promise2","data1","data2","response1","response2","storedProfile","bootstrap","_ref4","ver","mapDownloadProfile","mappingAttributes","accept","Content-Disposition","fid","alias","getWhoCreateProfile","titleCalloutClass","jobTitleCalloutClass","nameHelp","jobTitleHelp","defaultValue","files","size","reader","FileReader","img","Image","readAsDataURL","padding","clearimgpreview","ckeditor_default","ClassicEditor","onInit","submitButtonLabel","CreateProfile","GuestHelp","modalOpen","backgroundColor","ProfileCreateGuest","setModelOpen","parseInt","_ref5","abrupt","createGuestProfile","containers_GuestHelp","Path","ProfileView","frameworkInfo","setFrameworkInfo","competencyView","expertise_levels_legend","frameworkFullName","user_roles","getExpertise","obj","o","info","expertise_levels","level","getBarWidth","totalLevels","rating_level","infoIndex","levelIndex","textAlign","data-tip","data-html","data-type","data-multiline","index_es","itemIndex","domainIndex","compIndex","typeIndex","data-accordion-item","attrIndex","getAttributeStatus","search","marginTop","print","ViewProfile","ProfilesCompareButterfly","isGuestProfile","profile1","profile2","mapping1","mapping2","expertise_array","chart_props","includeSummary","profileid","label","frmIndex","profile1Expertise","profile2Expertise","width1","margin1","width2","floatRight","generateProfileView","textAling","profileJobTitle","handleSummary","handlePrint","ProfilesCompare","profile1Id","profile2Id","setProfile1","setProfile2","setIsGuestProfile","link1","setLink1","link2","setLink2","containers_ProfilesCompareButterfly","sendRoute","ProfileMapDownload","expertiseLevels","setExpertiseLevels","competencyForm","expertise_not_applicable","promiseFramework","promiseVersion","dataFramework","dataVersion","responseFramework","responseVersion","getExpertiseLevels","downloadProfileFromHtml","addCompetencyAttributes","removeCompetencyAttributes","fId","levels","margins","source","profileTitle","elementHandlers","#editor","element","renderer","dispose","setFieldContent","heading","field","__html","jIndex","attribute_id","prop","handleCheckboxMapping","data-competency","expertise_id","tempMap","handleMapping","data-expertise","generateForm","charAt","slice","dangerouslySetInnerHTML","MapProfileDownload","ProfileViewGuest","ViewGuestProfile","ProfileMapGuest","setMapping","mapProfileGuest","checkboxStatus","tempMapping","handleCheckBox","disabled","attributesList","checkBoxes","ProfileEdit","setFid","setPublishStatus","objectUrl","createObjectURL","EditProfile","ProfileMap","MapProfile","ProfilesCompareSummary","useLocation","summary","setSummary","resourceLink","rel","resourceName","findResources","SummaryPath","Documentation","swagger_ui_react","spec","loginUrl","logoutUrl","login","_login","current_user","csrf_token","logout_token","logout","Login","login_form_LoginForm","ManageFrameworks","exportURL","Footer","EU","PerMed","BioExcel","Breadcrumbs","convertFrameworkName","Root","isActive","handleActiveRequests","hasPendingRequests","detectUserChangesFromOtherTabs","handleLogin","error","t1","handleLogout","subcription","build","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","containers_Breadcrumbs","masthead_Masthead","role","Root_ProtectedRoute","condition","components_Footer","ProtectedRoute","objectWithoutProperties","assign","root","ReactDOM","basename","containers_Root","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.ae17cabe.chunk.js","sourcesContent":["class HeadersService {\r\n  static instance;\r\n\r\n  constructor() {\r\n    if (HeadersService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    HeadersService.instance = this;\r\n  }\r\n\r\n  get(type = 'hal+json') {\r\n    const csfrToken = window.localStorage.getItem('csrf_token');\r\n    if (type === 'json') {\r\n      return {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': csfrToken,\r\n        Authorization: 'Basic'\r\n      };\r\n    }\r\n\r\n    return {\r\n      Accept: 'application/hal+json',\r\n      'Content-Type': 'application/hal+json',\r\n      'X-CSRF-Token': csfrToken,\r\n      Authorization: 'Basic'\r\n    };\r\n  }\r\n}\r\n\r\nexport default HeadersService;\r\n","import Headers from './headers';\r\nimport axios from 'axios';\r\n\r\nexport const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\naxios.defaults.baseURL = apiUrl;\r\n\r\nclass HttpService {\r\n  static instance;\r\n  headers = new Headers();\r\n\r\n  constructor() {\r\n    if (HttpService.instance) {\r\n      return HttpService.instance;\r\n    }\r\n\r\n    HttpService.instance = this;\r\n  }\r\n\r\n  get(url, credentialType = '') {\r\n    if (credentialType) {\r\n      return axios.get(url, {\r\n        headers: this.headers.get(credentialType),\r\n        withCredentials: true\r\n      });\r\n    }\r\n    return axios.get(url);\r\n  }\r\n\r\n  post(url, body, option = 'hal+json') {\r\n    return axios.post(url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  patch(url, body, option = 'hal+json') {\r\n    return axios.patch(url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n}\r\n\r\nexport default HttpService;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { apiUrl } from '../../services/http/http';\r\n//import HttpService from '../../services/http/http';\r\n//import ManageFrameworks from './ManageFrameworks';\r\n\r\n//const http = new HttpService();\r\n\r\n//const $ = window.$;\r\n\r\nclass Navigation extends Component {\r\n  navRef = React.createRef();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: this.props.user,\r\n      frameworks: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //$(this.navRef.current).foundation();\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/api/authorisation/${this.state.user}?_format=json`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: {\r\n        'X-CSRF-Token': token\r\n      }\r\n    })\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  logout = () => {\r\n    const { onLogout } = this.props;\r\n    onLogout();\r\n  };\r\n\r\n  render() {\r\n    const { roles } = this.props;\r\n    const frameworkResources = (\r\n      <>\r\n        <li className=\"vf-list__item\" key=\"navigation\">\r\n          <Link\r\n            className=\"vf-link\"\r\n            to=\"/manage-frameworks\" // eslint-disable-line jsx-a11y/anchor-is-valid\r\n            tabIndex=\"0\"\r\n          >\r\n            Manage frameworks\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          |\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    const trainingResources = (\r\n      <>\r\n        <li className=\"vf-list__item\" key=\"resources\">\r\n          <Link className=\"vf-link\" to=\"/all-training-resources\">\r\n            Manage Training Resources\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          |\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    const userDropdown = (\r\n      <>\r\n        <li\r\n          className=\"vf-list__item\"\r\n          key=\"myaccount\"\r\n          style={{ padding: '5px' }}\r\n        >\r\n          <Link className=\"vf-link\" to={'/user/view'}>\r\n            My account\r\n          </Link>\r\n        </li>\r\n        <li\r\n          className=\"vf-list__item\"\r\n          key=\"changepwd\"\r\n          style={{ padding: '5px' }}\r\n        >\r\n          <Link className=\"vf-link\" to={'/user/change/password'}>\r\n            Change password\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          <span\r\n            className=\"vf-link\"\r\n            href=\"#\" // eslint-disable-line jsx-a11y/anchor-is-valid\r\n            onClick={this.logout}\r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            Logout\r\n          </span>\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"vf-breadcrumbs\">\r\n          <ul className=\"vf-breadcrumbs__list | vf-list vf-list--inline\">\r\n            {roles.includes('framework_manager') && frameworkResources}\r\n            {roles.includes('content_manager') && trainingResources}\r\n            {userDropdown}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport 'react-responsive-modal/styles.css';\r\nimport { Modal } from 'react-responsive-modal';\r\n\r\nclass LoginForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showModal: false,\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  // state = {\r\n  //   username: \"\",\r\n  //   password: \"\"\r\n  // };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  OpenModal(e) {\r\n    e.preventDefault();\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  CloseModal() {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  submit = () => {\r\n    const { onSubmit } = this.props;\r\n    const { username, password } = this.state;\r\n    if (username && password) {\r\n      onSubmit(username, password);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <nav>\r\n        {/* The wrapping in an `ul.menu.float-left > li` is necessary for the sticky header to work */}\r\n        <button\r\n          style={{ float: 'right' }}\r\n          href={'#'}\r\n          //id=\"loginSwitch\"\r\n          onClick={e => this.OpenModal(e)}\r\n          className=\"vf-button vf-button--sm vf-button--tertiary vf-button--outline\"\r\n        >\r\n          Admin login <i className=\"fa fa-key\" aria-hidden=\"true\" />\r\n        </button>\r\n        <Modal\r\n          open={this.state.showModal}\r\n          onClose={e => this.CloseModal()}\r\n          center\r\n          classNames={{\r\n            overlay: 'customOverlay',\r\n            modal: 'customModal'\r\n          }}\r\n        >\r\n          <div className=\"columns small-12 medium-12 large-12 margin-top-large\">\r\n            <h3>Admin login</h3>\r\n            <p>\r\n              If you are a framework manager or content manager, please login to\r\n              continue\r\n            </p>\r\n          </div>\r\n          <div className=\"vf-form__item\">\r\n            <input\r\n              value={username}\r\n              name=\"username\"\r\n              onChange={event => this.onChange(event)}\r\n              type=\"text\"\r\n              autoComplete=\"username\"\r\n              placeholder=\"Username\"\r\n              className=\"vf-form__input\"\r\n            />\r\n          </div>\r\n          <div className=\"vf-form__item\">\r\n            <input\r\n              value={password}\r\n              name=\"password\"\r\n              onChange={event => this.onChange(event)}\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              placeholder=\"Password\"\r\n              className=\"vf-form__input\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"vf-button vf-button--sm vf-button--primary\"\r\n              onClick={() => this.submit()}\r\n            >\r\n              <i className=\"fa fa-key\" aria-hidden=\"true\" /> Login\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from 'react';\r\n//import { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n//import ProgressBar from '../../../shared/components/progress-bar/progress-bar';\r\nimport Navigation from '../navigation/Navigation';\r\nimport LoginForm from '../login-form/LoginForm';\r\n\r\nclass Masthead extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.string.isRequired,\r\n    roles: PropTypes.string.isRequired,\r\n    onLogin: PropTypes.func.isRequired,\r\n    onLogout: PropTypes.func.isRequired\r\n  };\r\n\r\n  onLogin = (username, password) => {\r\n    this.props.onLogin(username, password);\r\n  };\r\n\r\n  onLogout = () => {\r\n    this.props.onLogout();\r\n  };\r\n\r\n  render() {\r\n    //const { roles, user, isActive } = this.props;\r\n    const { roles, user } = this.props;\r\n    const bgStyle = {\r\n      backgroundImage:\r\n      'url(' +\r\n      JSON.stringify(\r\n        'https://acxngcvroo.cloudimg.io/v7/https://dev-competency-mapper.pantheonsite.io/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg'\r\n        ) +\r\n      ')',\r\n      marginBottom: 0\r\n    };\r\n\r\n    return (\r\n      <>\r\n      <section className=\"vf-hero | vf-u-fullbleed\" style={bgStyle}>\r\n        <div className=\"vf-hero__content | vf-box | vf-stack vf-stack--400\">\r\n          <h1 className=\"vf-hero__heading\"><a className=\"vf-hero__heading_link\" href=\"JavaScript:Void(0);\">Competency Hub</a></h1>\r\n\r\n          <p className=\"vf-hero__subheading\">Supporting competency-based training and professional development.</p>\r\n          <p className=\"vf-hero__text\">Browse competencies, career profiles and training resources to advance your career.</p> <a className=\"vf-hero__link\" href=\"/about\">Learn more about the Competency Hub<svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"\" fill-rule=\"nonzero\"></path>\r\n          </svg>\r\n          </a>\r\n        </div>\r\n      </section>\r\n        {/*<section\r\n          className=\"vf-hero vf-hero--primary vf-hero--800 | vf-u-fullbleed\"\r\n          style={bgStyle}\r\n          data-vf-google-analytics-region=\"masthead\"\r\n        >\r\n          <div className=\"vf-hero__content | vf-stack vf-stack--400\">\r\n            <h1 className=\"vf-hero__heading\">Competency Hub</h1>\r\n            <h4 className=\"vf-hero__subheading\">\r\n              Supporting competency-based training and professional development.\r\n            </h4>\r\n          </div>\r\n        </section>*/}\r\n        {/*<div>\r\n        <div className=\"vf-grid\">\r\n        <div />\r\n        <div />\r\n        <div />\r\n        {user && roles ? (\r\n          <Navigation roles={roles} user={user} onLogout={this.onLogout} />\r\n          ) : (\r\n          <LoginForm onSubmit={this.onLogin} />\r\n          )}\r\n         <ProgressBar isActive={isActive} />\r\n        </div>\r\n        </div> */}\r\n        </>\r\n        );\r\n  }\r\n}\r\n\r\nexport default Masthead;\r\n","import React, { Component } from 'react';\r\n\r\nimport './EditInline.css';\r\n\r\nconst defaultProps = {\r\n  style: {} as Record<string, string | number>,\r\n  text: '',\r\n  change: (newValue: string) => {},\r\n  staticElement: 'div',\r\n  editable: true\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  oriValue: '',\r\n  value: '',\r\n  active: false\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class EditInline extends Component<Props, State> {\r\n  static defaultProps = defaultProps; // No idea why the props are marked as optional (see '!' in the code below)\r\n  readonly state: State = defaultState;\r\n  selfRef = React.createRef<HTMLDivElement>();\r\n  inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  componentDidMount() {\r\n    const { text } = this.props;\r\n    this.setState({ value: text!, oriValue: text! });\r\n    document.addEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props, prevState: State) {\r\n    const { active } = this.state;\r\n    if (active && !prevState.active) {\r\n      // Unable to focus on the input element.\r\n      // this.inputRef.current && this.inputRef.current.focus();\r\n\r\n      // Dirty: The only way I was able to focus on the input element.\r\n      setTimeout(\r\n        () => this.inputRef.current && this.inputRef.current.focus(),\r\n        0\r\n      );\r\n    }\r\n  }\r\n\r\n  toggleActive = (event: MouseEvent) => {\r\n    if (\r\n      this.selfRef.current &&\r\n      this.selfRef.current.contains(event.target as Node)\r\n    ) {\r\n      this.setState({ active: true });\r\n      return;\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  onChange(value: string) {\r\n    this.setState({ value });\r\n  }\r\n\r\n  reset = () => {\r\n    const { oriValue, active } = this.state;\r\n    if (active) {\r\n      this.setState({ active: false, value: oriValue });\r\n    }\r\n  };\r\n\r\n  submit = () => {\r\n    const { change } = this.props;\r\n    const { value } = this.state;\r\n    change!(value);\r\n    this.setState({ active: false, oriValue: value });\r\n  };\r\n\r\n  render = () => {\r\n    const { style, staticElement, editable } = this.props;\r\n    const { value, active } = this.state;\r\n\r\n    if (!editable) {\r\n      return React.createElement(staticElement!, { style }, value);\r\n    }\r\n\r\n    if (!active) {\r\n      return React.createElement(staticElement!, { style, ref: this.selfRef }, [\r\n        value,\r\n        <>\r\n          <i\r\n            key=\"dummy\"\r\n            className=\"icon icon-common icon-edit icon-left-spacer edit-indicator cursor\"\r\n            aria-label=\"edit\"\r\n          />\r\n          <span className=\"edit-indicator cursor\">Edit</span>\r\n        </>\r\n      ]);\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-inline-container\" ref={this.selfRef}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"inner-input vf-form__input\"\r\n          value={value}\r\n          onChange={event => this.onChange(event.target.value)}\r\n          ref={this.inputRef}\r\n          // autoFocus={true} // It only works when it is rendered after mounting\r\n        />\r\n        <div className=\"edit-inline-controls\">\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.submit}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-check\"\r\n              aria-label=\"accept changes\"\r\n            />\r\n          </button>\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.reset}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-undo\"\r\n              aria-label=\"undo changes\"\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nconst defaultProps = {\r\n  showMappingField: false\r\n};\r\n\r\ntype Props = {\r\n  title: string;\r\n  placeholder: string;\r\n  options: Record<'description' | 'uuid', string>[];\r\n  onCreate(newValue: string, uuid: string, mapping: string): any;\r\n} & Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  description: '',\r\n  uuid: '',\r\n  mapping: ''\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class SimpleForm extends Component<Props, State> {\r\n  static defaultProps = defaultProps;\r\n  readonly state = defaultState;\r\n\r\n  componentDidMount() {\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  setDefaultOption() {\r\n    const { options } = this.props;\r\n    if (options.length) {\r\n      const { uuid } = options[0];\r\n      this.setState({ uuid });\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.setState(defaultState);\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  onChange = (event: React.FormEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    event.preventDefault();\r\n    const { value } = event.currentTarget;\r\n    const name = event.currentTarget.name;\r\n    // https://github.com/Microsoft/TypeScript/issues/13948\r\n    if (name === 'uuid') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'description') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'mapping') {\r\n      this.setState({ [name]: value });\r\n    }\r\n  };\r\n\r\n  onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const { onCreate } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    if (description.trim() && uuid) {\r\n      onCreate(description, uuid, mapping);\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { title, placeholder, options, showMappingField } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    const selectOptions = options.map(({ description, uuid }) => (\r\n      <option key={uuid} value={uuid}>\r\n        {description}\r\n      </option>\r\n    ));\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"callout\">\r\n        <h4>{title}</h4>\r\n        <div className=\"row\">\r\n          <div className=\"column large-7\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder={placeholder}\r\n              name=\"description\"\r\n              value={description}\r\n              required\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className=\"column large-3\">\r\n            <select name=\"uuid\" value={uuid} required onChange={this.onChange}>\r\n              {selectOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"column large-2\">\r\n            <input type=\"submit\" className=\"button\" value=\"Create\" />\r\n          </div>\r\n          {showMappingField ? (\r\n            <div className=\"column\">\r\n              <label>\r\n                Maps to competency/attribute from other framework\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Framework (version), competency or attribute\"\r\n                  name=\"mapping\"\r\n                  value={mapping}\r\n                  onChange={this.onChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst defaultProps = {\r\n  message: 'Sorry, there was a problem when fetching the data!',\r\n  style: {} as Record<string, string | number>\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nexport const ErrorLoading: React.FC<Props> = ({ message, style }) => {\r\n  return (\r\n    <div className=\"margin-top-large callout alert\" style={style}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorLoading.defaultProps = defaultProps;\r\n\r\nexport default ErrorLoading;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport Parser from 'html-react-parser';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  versions: Version[];\r\n  framework: string;\r\n  style: string;\r\n};\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: '80%',\r\n    height: '50%',\r\n    border: '1px solid #000'\r\n  }\r\n};\r\n\r\nexport const FrameworkVersion: React.FC<Props> = ({ versions, framework }) => {\r\n  const [showNotes, setShowNotes] = useState(false);\r\n  const [notes, setNotes] = useState('');\r\n\r\n  //let versionNumber = '';\r\n\r\n  const versionItems = versions\r\n    .filter(version => version.number !== 'draft')\r\n    .map(version => (\r\n      <li key={version.id}>\r\n        <Link to={`/framework/${framework}/${version.number}`}>\r\n          {version.number}\r\n        </Link>{' '}\r\n        <button\r\n          className=\"vf-link ch_link\"\r\n          onClick={() => {\r\n            setNotes('Version: ' + version.number + version.release_notes);\r\n            setShowNotes(true);\r\n          }}\r\n        >\r\n          (release notes)\r\n        </button>\r\n      </li>\r\n    ));\r\n\r\n  return (\r\n    <>\r\n      <Modal isOpen={showNotes} style={customStyles}>\r\n        <h4>Release notes for {framework} </h4>\r\n        <div style={{ float: 'right' }}>\r\n          <button\r\n            className=\"button\"\r\n            onClick={() => {\r\n              setNotes('');\r\n              setShowNotes(false);\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        </div>\r\n        {Parser(notes)}\r\n        {versionItems}\r\n        <div className=\"padding-top-large\">\r\n          <button\r\n            className=\"button\"\r\n            onClick={() => {\r\n              setNotes('');\r\n              setShowNotes(false);\r\n            }}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n      <div>\r\n        <h5>Framework versions</h5>\r\n        {versions.length === 0 ? (\r\n          'No previous versions'\r\n        ) : (\r\n          <ul>{versionItems}</ul>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FrameworkVersion;\r\n","import { apiUrl } from '../http/http';\r\n//requests fail when https is included in _links.type.href below\r\n//so we moved changed the value of apiUrl to exclude the s and only have http\r\nconst httpApiURl = apiUrl.replace('https', 'http');\r\n\r\nclass BodyService {\r\n  static createCompetency({\r\n    description,\r\n    domainId,\r\n    domainUuid,\r\n    mapping = '',\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/competency`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'competency'\r\n        }\r\n      ],\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static createAttribute({\r\n    description,\r\n    attributeTypeId,\r\n    attributeTypeUuid,\r\n    competencyId,\r\n    competencyUuid,\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/attribute`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'attribute'\r\n        }\r\n      ],\r\n\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static mutateCompetency(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateCompetencyPosition(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateAttribute(key, value) {\r\n    return BodyService.mutate(key, value, 'attribute');\r\n  }\r\n\r\n  static mutateDomain(key, value) {\r\n    return BodyService.mutate(key, value, 'domain');\r\n  }\r\n  // https://cms.competency.ebi.ac.uk\r\n  static mutate(key, value, target) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/${target}`\r\n          // href: `http://cms.competency.ebi.ac.uk/rest/type/node/${target}`\r\n        }\r\n      },\r\n      [key]: [\r\n        {\r\n          value: value\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: target\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static publishFramework(framework, version, releaseNotes) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: releaseNotes\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: version\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createDraftFramework(framework) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: 'draft'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static toggleArchivingVersionedNode(framework, nodeId) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: nodeId\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static updateReleaseNotes(notes) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href:\r\n            //'https://dev-competency-mapper.pantheonsite.io/rest/type/taxonomy_term/version'\r\n            `${httpApiURl}/rest/type/taxonomy_term/version`\r\n        }\r\n      },\r\n      vid: [\r\n        {\r\n          target_id: 'version'\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: notes\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  // Change domain service\r\n\r\n  static changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/competency`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n        }\r\n      },\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      type: {\r\n        target_id: 'competency'\r\n      },\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  // Change competency service\r\n\r\n  static changeAttributeSettings(\r\n    attribuiteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${httpApiURl}/node/${attribuiteId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/attribute`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n        }\r\n      },\r\n      type: {\r\n        target_id: 'attribute'\r\n      },\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/training_resource`\r\n        }\r\n      },\r\n      title: [\r\n        {\r\n          value: title\r\n        }\r\n      ],\r\n\r\n      type: [\r\n        {\r\n          target_id: 'training_resource'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createBulkData(parentID, versionID, newData, type, addtional) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: newData\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: parentID\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: versionID\r\n        }\r\n      ],\r\n      field_type: [\r\n        {\r\n          value: type\r\n        }\r\n      ],\r\n      field_additional_information: [\r\n        {\r\n          value: addtional\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static saveSorting(items) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: items\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\nexport default BodyService;\r\n","import HttpService from '../http/http';\r\nimport Body from './body';\r\n\r\nclass CompetencyService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor() {\r\n    if (CompetencyService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CompetencyService.instance = this;\r\n  }\r\n\r\n  async getFramework(framework) {\r\n    const response = await this.http.get(\r\n      `/api/v1/framework/${framework}?_format=json`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedDraftFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/edit?_format=json&timestamp=${Date.now()}`,\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/${version}?_format=json&timestamp=${Date.now()}`\r\n    );\r\n    console.log('framework returned', response.data);\r\n    return response.data;\r\n  }\r\n\r\n  async getAllFrameworks() {\r\n    const response = await this.http.get(`/api/v1/framework?_format=json`);\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getAllVersionedFrameworks() {\r\n    // const response = await this.http.get(\r\n    //   `/api/version_manager?_format=json&timestamp=${Date.now()}`\r\n    // );\r\n    const response = await this.http.get(\r\n      `/api/version_manager?_format=json`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createAttribute(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createAttribute(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async createCompetency(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createCompetency(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetency(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetency(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchDomain(domainId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${domainId}?_format=hal_json`,\r\n      Body.mutateDomain(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetencyPosition(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetencyPosition(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async toggleArchivingVersionedNode(framework, nodeId) {\r\n    const response = await this.http.patch(\r\n      `/api/${framework}/edit?_format=json`,\r\n      Body.toggleArchivingVersionedNode(framework, nodeId),\r\n      'json'\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttribute(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttributePosition(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async publishFramework(framework, version, releaseNotes) {\r\n    const response = await this.http.patch(\r\n      '/api/version_manager?_format=json',\r\n      Body.publishFramework(framework, version, releaseNotes),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createDraftFramework(framework) {\r\n    const response = await this.http.post(\r\n      '/api/version_manager?_format=json',\r\n      Body.createDraftFramework(framework),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async updateReleaseNotes(notes, versionId) {\r\n    const response = await this.http.patch(\r\n      `/taxonomy/term/${versionId}?_format=hal_json`,\r\n      Body.updateReleaseNotes(notes)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.changeDomain(competencyId, domainId, domainUuid, mapping)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${resourceID}?_format=hal_json`,\r\n      Body.editResource(\r\n        resourceID,\r\n        title,\r\n        dates,\r\n        dates2,\r\n        type,\r\n        description,\r\n        location,\r\n        url,\r\n        target_audience,\r\n        learning_outcomes,\r\n        keywords,\r\n        organisers,\r\n        trainers\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeAttributeSettings(\r\n    attribiuteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${attribiuteId}?_format=hal_json`,\r\n      Body.changeAttributeSettings(\r\n        attribiuteId,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async demap(resource, items) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&items=` +\r\n        items +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async attrmap(resource, attributes, framework_id) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&attributes=` +\r\n        attributes +\r\n        `&framework_id=` +\r\n        framework_id +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createBulkData(parentID, versionID, newData, type, addtional) {\r\n    const response = await this.http.post(\r\n      '/api/data_manager?_format=json',\r\n      Body.createBulkData(parentID, versionID, newData, type, addtional),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async saveSorting(items) {\r\n    const response = await this.http.patch(\r\n      '/api/data_manager?_format=json',\r\n      Body.saveSorting(items),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default CompetencyService;\r\n","class ActiveRequestsService {\r\n  static instance;\r\n  counter = 0;\r\n  callbacks = [];\r\n\r\n  get isActive() {\r\n    return !!this.counter;\r\n  }\r\n\r\n  constructor() {\r\n    if (ActiveRequestsService.instance) {\r\n      return ActiveRequestsService.instance;\r\n    }\r\n\r\n    ActiveRequestsService.instance = this;\r\n  }\r\n\r\n  addEventListener(fn) {\r\n    return this.callbacks.push(fn);\r\n  }\r\n\r\n  removeEventListener(index) {\r\n    return delete this.callbacks[index - 1];\r\n  }\r\n\r\n  startRequest() {\r\n    if (this.counter === 0) {\r\n      this.callbacks.forEach(fn => fn && fn(true));\r\n    }\r\n    ++this.counter;\r\n  }\r\n\r\n  finishRequest() {\r\n    if (this.counter === 1) {\r\n      this.callbacks.forEach(fn => fn && fn(false));\r\n    }\r\n\r\n    if (this.counter > 0) {\r\n      --this.counter;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ActiveRequestsService;\r\n","// In modern browser (es2018), instead of `reduce` it is possible to call `flat`\r\nexport const safeFlat = array =>\r\n  Array.prototype.flat\r\n    ? array.flat()\r\n    : array.reduce((acc, cur) => [...acc, ...cur], []);\r\n\r\nconst tagsReg = new RegExp('</?.+?/?>', 'g');\r\nconst nbspReg = /&nbsp;/g;\r\n\r\nexport const removeHtmlTags = (htmlString, replaceBy = '') =>\r\n  htmlString.replace(tagsReg, replaceBy).replace(nbspReg, ' ');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat } from '../services/util/util';\r\n\r\nclass ManageAttributes extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    // framework level\r\n    framework: this.props.match.params.framework,\r\n    frameworkName: '',\r\n    frameworkVersion: '',\r\n    frameworStatus: '',\r\n    attributeTypes: [], // defined at framework level\r\n    versions: [],\r\n\r\n    // domain level\r\n    domainId: '',\r\n    domainName: '',\r\n\r\n    // competency level\r\n    competencyId: this.props.match.params.cid,\r\n    competencyUuid: '',\r\n    competencyName: '',\r\n    competencyData: [],\r\n\r\n    path: this.props.location.pathname.split('/'),\r\n\r\n    loadingError: false,\r\n    editable: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scroll(0, 0);\r\n    this.loadData();\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions() {\r\n    const { framework } = this.state;\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const attributeTypes = currentFramework[0].attribute_types.map(\r\n        attribute => ({ description: attribute.title, uuid: attribute.uuid })\r\n      );\r\n      this.setState({\r\n        versions: currentFramework[0].versions.reverse(),\r\n        attributeTypes\r\n      });\r\n    }\r\n  }\r\n\r\n  async fetchFramework() {\r\n    const { framework, versions, competencyId } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    const competencyMatch = this.filterByCompetencyId(\r\n      frameworkData,\r\n      competencyId\r\n    );\r\n\r\n    if (competencyMatch.length) {\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        domainName: competencyMatch[0].domainTitle,\r\n        domainId: competencyMatch[0].domainId,\r\n        competencyUuid: competencyMatch[0].uuid,\r\n        competencyName: competencyMatch[0].title,\r\n        competencyData: competencyMatch[0],\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  filterByCompetencyId(data, id) {\r\n    return safeFlat(\r\n      data.map(item =>\r\n        safeFlat(\r\n          item.domains.map(domain =>\r\n            domain.competencies\r\n              .filter(competency => competency.id === id)\r\n              .map(competency => {\r\n                competency.domainTitle = domain.title;\r\n                competency.domainId = domain.nid;\r\n                return competency;\r\n              })\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  createAttribute = async (description, attributeTypeUuid, mapping) => {\r\n    const {\r\n      competencyId,\r\n      competencyUuid,\r\n      attributeTypes,\r\n      versions\r\n    } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const attributeTypeId = attributeTypes.find(\r\n        attribute => attribute.uuid === attributeTypeUuid\r\n      ).id;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createAttribute({\r\n        description,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editAttribute(attributeId, title) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(attributeId, 'title', title);\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editAttributePosition(attributeId, position) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttributePosition(\r\n        attributeId,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(attributeId, isArchived) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(\r\n        attributeId,\r\n        'field_archived',\r\n        isArchived === '1' ? false : true\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  getAttributeRows(attributeType) {\r\n    const { competencyData, editable } = this.state;\r\n\r\n    return competencyData.attributes\r\n      .filter(attribute => attribute.type === attributeType.description)\r\n      .map(attribute => {\r\n        if (editable) {\r\n          return (\r\n            <tr key={attribute.uuid}>\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.title}\r\n                  change={newValue =>\r\n                    this.editAttribute(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.field_number}\r\n                  change={newValue =>\r\n                    this.editAttributePosition(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td>\r\n                <button\r\n                  className=\"cursor\"\r\n                  onClick={() =>\r\n                    this.toggleArchive(attribute.id, attribute.archived)\r\n                  }\r\n                >\r\n                  {attribute.archived === '1' ? (\r\n                    <span className=\"fas fa-toggle-on\">\r\n                      <span>Archived</span>\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"fas fa-toggle-off\" />\r\n                  )}\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <Link\r\n                  to={`/framework/${this.state.framework}/competency/${\r\n                    this.state.competencyId\r\n                  }/attribute/${attribute.id}/settings`}\r\n                >\r\n                  <i className=\"fas fa-cog\" />\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          );\r\n        }\r\n\r\n        if (attribute.archived === '1') {\r\n          return null;\r\n        }\r\n        return (\r\n          <tr key={attribute.uuid}>\r\n            <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={attribute.title}\r\n                change={newValue => this.editAttribute(attribute.id, newValue)}\r\n                editable={editable}\r\n              />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n  }\r\n\r\n  getAttributeList() {\r\n    const { attributeTypes, editable } = this.state;\r\n    return attributeTypes.map(attributeType => (\r\n      <React.Fragment key={attributeType.uuid}>\r\n        <tr className=\"secondary-background-important white-color\">\r\n          <td>\r\n            <strong>\r\n              <em>{attributeType.description}</em>\r\n            </strong>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getAttributeRows(attributeType)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      attributeTypes,\r\n      versions,\r\n      domainId,\r\n      domainName,\r\n      competencyName,\r\n      competencyData,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (competencyData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage attributes</h2>\r\n        <h4>\r\n          <Link to={`/framework/${framework}/manage/competencies`}>\r\n            {frameworkName}\r\n          </Link>\r\n          {' / '}\r\n          <Link to={`/framework/${framework}/manage/competencies/${domainId}`}>\r\n            {domainName}\r\n          </Link>\r\n          {' / '}\r\n          {competencyName}\r\n        </h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new attribute\"\r\n            placeholder=\"Attribute description\"\r\n            options={attributeTypes}\r\n            onCreate={this.createAttribute}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getAttributeList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageAttributes);\r\n","import React, { FC, useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport CKEditor from 'react-ckeditor-component';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  release(version: string, notes: string): void;\r\n  updateNotes(notes: string): void;\r\n  createDraft(): void;\r\n  versions: Version[];\r\n  editable: false;\r\n};\r\n\r\nexport const VersionControls: React.FC<Props> = ({\r\n  release,\r\n  updateNotes,\r\n  createDraft,\r\n  versions,\r\n  editable\r\n}) => {\r\n  const liveVersion = versions.reduce((prev, curr) => {\r\n    if (curr.status === 'live') {\r\n      return curr.number;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const originalNotes = versions.reduce((prev, curr) => {\r\n    if (curr.number === 'draft') {\r\n      return curr.release_notes;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const [version, setVersion] = useState('');\r\n  const [notes, setNotes] = useState(originalNotes);\r\n  const [pressedRelease, setPressedRelease] = useState(false);\r\n  const [pressedNotes, setPressedNotes] = useState(false);\r\n\r\n  const reset = () => {\r\n    setVersion('');\r\n    setPressedRelease(false);\r\n  };\r\n\r\n  const publish = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const cleanNotes = notes.trim();\r\n    if (pressedRelease && version && cleanNotes) {\r\n      release(version, cleanNotes);\r\n      reset();\r\n    }\r\n  };\r\n\r\n  if (editable) {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={pressedNotes}>\r\n          <CKEditor\r\n            content={notes}\r\n            events={{\r\n              change: (event: any) => setNotes(event.editor.getData())\r\n            }}\r\n          />\r\n          <div className=\"padding-top-large\">\r\n            <span className=\"padding-right-small\">\r\n              <button\r\n                className=\"button\"\r\n                onClick={() => {\r\n                  setNotes(originalNotes);\r\n                  setPressedNotes(false);\r\n                }}\r\n              >\r\n                Close\r\n              </button>\r\n            </span>\r\n            <button\r\n              className=\"button\"\r\n              onClick={() => {\r\n                updateNotes(notes);\r\n                setPressedNotes(false);\r\n              }}\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n        <Modal isOpen={pressedRelease}>\r\n          <form onSubmit={publish}>\r\n            <label>\r\n              Version{' '}\r\n              {liveVersion\r\n                ? `(live version ${liveVersion})`\r\n                : '(no live version)'}\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"1.0.0\"\r\n                value={version}\r\n                required\r\n                onChange={event => setVersion(event.currentTarget.value.trim())}\r\n              />\r\n            </label>\r\n            <CKEditor\r\n              content={notes}\r\n              events={{\r\n                change: (event: any) => setNotes(event.editor.getData())\r\n              }}\r\n            />\r\n            <div className=\"padding-top-large\">\r\n              <span className=\"padding-right-small\">\r\n                <button className=\"button\" onClick={reset}>\r\n                  Cancel\r\n                </button>\r\n              </span>\r\n              <button className=\"button\" type=\"submit\">\r\n                Publish\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n        <span className=\"padding-right-small\">\r\n          <button\r\n            className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n            onClick={() => setPressedRelease(true)}\r\n          >\r\n            Release new version <i className=\"icon icon-common icon-send\" />\r\n          </button>\r\n        </span>\r\n        <button\r\n          className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n          onClick={() => setPressedNotes(true)}\r\n        >\r\n          Update release notes <i className=\"icon icon-common icon-edit\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"padding-right-small\">\r\n        <button\r\n          className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n          onClick={() => createDraft()}\r\n        >\r\n          Create draft\r\n        </button>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VersionControls;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\nimport VersionControls from '../containers/version-controls/VersionControls';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\n\r\nclass ManageCompetencies extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkName: '',\r\n    frameworkData: [],\r\n    frameworkVersion: '',\r\n    frameworkVersionId: '',\r\n    frameworkStatus: '',\r\n    competencyTypes: [],\r\n    versions: [],\r\n    loadingError: false,\r\n    editable: false,\r\n    allowedFrms: []\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework } = props.match.params;\r\n    if (framework !== state.framework) {\r\n      return {\r\n        framework,\r\n        frameworkData: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, domainId } = this.props.match.params;\r\n    await this.loadData(framework);\r\n\r\n    if (domainId) {\r\n      setTimeout(() => {\r\n        const ref = this.refs[domainId];\r\n        if (ref) {\r\n          ref.scrollIntoView();\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkData, loadingError } = this.state;\r\n    if (framework !== prevState.framework) {\r\n      if (frameworkData.length === 0 && !loadingError) {\r\n        this.loadData(framework);\r\n      }\r\n    }\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  async fetchFramework(framework) {\r\n    const { versions } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      this.setState({ frameworkVersionId: draftVersion[0].id });\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    if (frameworkData.length) {\r\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\r\n        description: domain.title,\r\n        uuid: domain.uuid\r\n      }));\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkData,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        competencyTypes,\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  createCompetency = async (description, domainUuid, mapping) => {\r\n    const { framework, frameworkData, versions } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const domainId = frameworkData[0].domains.find(\r\n        domain => domain.uuid === domainUuid\r\n      ).nid;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createCompetency({\r\n        description,\r\n        domainId,\r\n        domainUuid,\r\n        mapping,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editCompetency(cid, title) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetency(cid, 'title', title);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editCompetencyPosition(cid, position) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetencyPosition(\r\n        cid,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(cid, isArchived) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.toggleArchivingVersionedNode(framework, cid);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  releaseNewVersion = async (version, notes) => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.publishFramework(framework, version, notes);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  updateNotes = async notes => {\r\n    const { framework, frameworkVersionId } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.updateReleaseNotes(\r\n        notes,\r\n        frameworkVersionId\r\n      );\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  createDraft = async () => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.createDraftFramework(framework);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  getCompetencyList() {\r\n    const { frameworkData, editable } = this.state;\r\n    return frameworkData[0].domains.map(domain => (\r\n      <React.Fragment key={domain.nid}>\r\n        <tr\r\n          className=\"secondary-background-important white-color\"\r\n          ref={domain.nid}\r\n        >\r\n          <td>\r\n            <h4>{domain.title}</h4>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          <td>Attributes</td>\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getCompetencyRows(domain.competencies)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  getCompetencyRows(competencies) {\r\n    const { framework, editable } = this.state;\r\n    return competencies.map(competency => {\r\n      if (editable) {\r\n        return (\r\n          <tr key={competency.id}>\r\n            <td className={competency.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={competency.title}\r\n                change={newValue =>\r\n                  this.editCompetency(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n            <td>\r\n              <InlineEdit\r\n                text={competency.position}\r\n                change={newValue =>\r\n                  this.editCompetencyPosition(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n\r\n            <td>\r\n              <button\r\n                className=\"cursor\"\r\n                onClick={this.toggleArchive.bind(\r\n                  this,\r\n                  competency.id,\r\n                  competency.archived\r\n                )}\r\n              >\r\n                {competency.archived === '1' ? (\r\n                  <span className=\"fas fa-toggle-on\">\r\n                    <span>Archived</span>\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"fas fa-toggle-off\" />\r\n                )}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/manage/competencies/${\r\n                  competency.id\r\n                }/manage-attributes`}\r\n              >\r\n                <i className=\"fas fa-sitemap\" />\r\n              </Link>\r\n            </td>\r\n\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/competency/${\r\n                  competency.id\r\n                }/settings`}\r\n              >\r\n                <i className=\"fas fa-cog\" />\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        );\r\n      }\r\n\r\n      if (competency.archived === '1') {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <tr key={competency.id}>\r\n          <td>\r\n            <InlineEdit\r\n              text={competency.title}\r\n              change={newValue => this.editCompetency(competency.id, newValue)}\r\n              editable={editable}\r\n            />\r\n          </td>\r\n          <td>\r\n            <Link\r\n              to={`/framework/${framework}/manage/competencies/${\r\n                competency.id\r\n              }/manage-attributes`}\r\n            >\r\n              <i className=\"fas fa-sitemap\" />\r\n            </Link>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // if(this.state.allowedFrms.length > 0){\r\n    //   if(this.state.allowedFrms.indexOf(this.state.framework) == -1){\r\n    //     return(<h4 className=\"callout warning\"> <i className=\"icon icon-common icon-exclamation-triangle\"></i> You are not authorised to manage this framework </h4> );\r\n    //   }\r\n    // }\r\n\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkData,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      competencyTypes,\r\n      versions,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (frameworkData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage framework</h2>\r\n        <h4>{frameworkName}</h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        <VersionControls\r\n          editable={editable}\r\n          createDraft={this.createDraft}\r\n          versions={versions}\r\n          release={this.releaseNewVersion}\r\n          updateNotes={this.updateNotes}\r\n        />\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new competency\"\r\n            placeholder=\"Competency description\"\r\n            options={competencyTypes}\r\n            onCreate={this.createCompetency}\r\n            showMappingField={true}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getCompetencyList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageCompetencies);\r\n","import React from 'react';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageAttribute extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      parentID: '',\n      parentTitle: '',\n      showAttributeModal: '',\n      attributeType: '',\n      attributeTypeTitle: '',\n      newAttributes: '',\n      competency: [],\n      typetitle: ''\n    };\n    this.handleOpenAttributeModal = this.handleOpenAttributeModal.bind(this);\n    this.handleCloseAttributeModal = this.handleCloseAttributeModal.bind(this);\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n    //this.archiveAttribute = this.archiveAttribute.bind(this);\n  }\n\n  OpenModalPosition(e, competency) {\n    this.setState({ showModalPosition: true });\n    this.setState({ competency: competency });\n    this.setState({ typetitle: e.target.dataset.typetitle });\n    console.log(e.target.dataset.typetitle);\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  handleOpenAttributeModal(e) {\n    this.setState({ showAttributeModal: true });\n    this.setState({ parentID: e.target.dataset.competencyid });\n    this.setState({ parentTitle: e.target.dataset.competencytitle });\n    this.setState({ attributeType: e.target.dataset.attributetype });\n    this.setState({ attributeTypeTitle: e.target.dataset.typetitle });\n\n    e.preventDefault();\n  }\n\n  handleCloseAttributeModal() {\n    this.setState({ showAttributeModal: false });\n  }\n\n  async editAttribute(aid, title) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(aid, 'title', title);\n      await loadData(framework);\n      this.props.enqueueSnackbar('Attribute updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  setAttributes(e) {\n    this.setState({ newAttributes: e.target.value });\n    console.log(e.target.value);\n  }\n\n  async saveAttributes(e) {\n    const { frameworkData, framework, loadData } = this.props;\n    const { newAttributes, attributeType, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newAttributes;\n    let type = 'attribute';\n    let addtional = attributeType;\n    let response = '';\n    try {\n      //this.activeRequests.startRequest();\n      response = this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      console.log(response);\n      loadData(framework);\n      this.props.enqueueSnackbar('Attributes created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n    e.preventDefault();\n    this.handleCloseAttributeModal();\n  }\n\n  async archiveAttribute(attribute, isArchived) {\n    const { framework, loadData } = this.props;\n\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        attribute\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Attribute status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.competency.attributes;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.id));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getAttributes(frameworkDef, frameworkData, competency, domain, editableFrm) {\n    return frameworkDef.map(def => (\n      <div className=\"row\">\n        <div className=\"column medium-12\">\n          <li className=\"attribute_type\">\n            <em>{def.title}</em>\n            <span style={{ display: 'flex' }}>\n              {editableFrm === true ? (\n                <button\n                  className=\"ch_link addButton icon icon-common icon-plus-circle icon-custom \"\n                  data-competencyid={competency.id}\n                  data-competencytitle={competency.title}\n                  data-typetitle={def.title}\n                  data-attributetype={def.id}\n                  title=\"Add attributes\"\n                  onClick={e => this.handleOpenAttributeModal(e)}\n                >\n                  Add {def.title}{' '}\n                </button>\n              ) : (\n                ''\n              )}\n            </span>\n\n            <ul>\n              {competency.attributes.map(attr => {\n                if (attr.type === def.title)\n                  return (\n                    <li\n                      key={attr.id}\n                      className={attr.archived === '1' ? 'strikeout' : ''}\n                    >\n                      <div className=\"attribute_title\">\n                        <InlineEdit\n                          style={{ display: 'inline' }}\n                          text={attr.title}\n                          change={newValue =>\n                            this.editAttribute(attr.id, newValue)\n                          }\n                          editable={\n                            attr.archived === '1' || editableFrm === false\n                              ? false\n                              : true\n                          }\n                        />\n                        {editableFrm === true ? (\n                          <>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"ch_link\"\n                                onClick={() =>\n                                  this.archiveAttribute(attr.id, attr.archived)\n                                }\n                              >\n                                {attr.archived === '1' ? (\n                                  <span className=\"fas fa-toggle-on icon-left-spacer\">\n                                    <span>Archived</span>\n                                  </span>\n                                ) : (\n                                  <span className=\"fas fa-toggle-off icon-left-spacer\">\n                                    {' '}\n                                    <span> Archive</span>\n                                  </span>\n                                )}\n                              </button>\n                            </span>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"ch_link addButton icon icon-common icon-sort\"\n                                title=\"Change order\"\n                                data-typetitle={def.title}\n                                onClick={e =>\n                                  this.OpenModalPosition(e, competency)\n                                }\n                              >\n                                Change order{' '}\n                              </button>\n                            </span>\n                          </>\n                        ) : (\n                          ''\n                        )}\n                      </div>\n                    </li>\n                  );\n                return null;\n              })}\n            </ul>\n\n            <hr />\n          </li>\n        </div>\n        {/*<div className=\"column medium-4\" style={{ display: 'flex' }}>\n          <button\n            className=\"addButton\"\n            data-competencyid={competency.id}\n            data-competencytitle={competency.title}\n            data-typetitle={def.title}\n            data-attributetype={def.id}\n            title=\"Add attributes\"\n            onClick={e => this.handleOpenAttributeModal(e)}\n          >\n            Add {def.title} <i className=\"icon icon-common icon-plus-circle\" />\n          </button>\n          <button\n            className=\"addButton\"\n            title=\"Change order\"\n            data-typetitle={def.title}\n            onClick={e => this.OpenModalPosition(e, competency)}\n          >\n            Change order <i className=\"icon icon-common icon-sort\" />\n          </button>\n            </div>*/}\n      </div>\n    ));\n  }\n\n  render() {\n    const {\n      frameworkDef,\n      frameworkData,\n      competency,\n      domain,\n      editableFrm\n    } = this.props;\n    const {\n      //parentID,\n      parentTitle,\n      //attributeType,\n      attributeTypeTitle\n    } = this.state;\n    return (\n      <div>\n        {this.getAttributes(\n          frameworkDef,\n          frameworkData,\n          competency,\n          domain,\n          editableFrm\n        )}\n        {/* Modal for adding attributes */}\n        <Modal\n          open={this.state.showAttributeModal}\n          onClose={this.handleCloseAttributeModal}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Add {attributeTypeTitle} attributes</h3>\n          <h4>{parentTitle} </h4>\n          <h5>Please enter one {attributeTypeTitle} attribute per line</h5>\n          <form className=\"vf-form\">\n            <textarea\n              id=\"attribute_txt\"\n              rows=\"5\"\n              onChange={e => this.setAttributes(e)}\n              required\n              className=\"vf-form__input\"\n            />\n            <button\n              className=\"vf-button vf-button--primary vf-button--sm\"\n              onClick={e => this.saveAttributes(e)}\n            >\n              Save\n            </button>\n          </form>\n        </Modal>\n\n        {/* Modal for sorting attribute positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.competency.id ? (\n            <>\n              <h4>{this.state.competency.title}</h4>\n              <ul onDragOver={this.dragOver.bind(this)}>\n                {this.state.competency.attributes.map((attribute, i) => {\n                  if (attribute.type === this.state.typetitle) {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={attribute.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i className=\"icon icon-common icon-move\" />{' '}\n                        {attribute.title}\n                      </li>\n                    );\n                  }\n                  return null;\n                })}\n              </ul>\n            </>\n          ) : (\n            ''\n          )}\n\n          <button\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageAttribute);\n","import React from 'react';\nimport CKEditor from 'react-ckeditor-component';\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n//import ErrorLoading from '../components/error-loading/ErrorLoading';\nimport Parser from 'html-react-parser';\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageAttribute from './ManageAttribute';\n\nimport Collapsible from 'react-collapsible';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageCompetency extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      domain: [],\n      comp: '',\n      mapping: ''\n    };\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n    this.OpenModalMapping = this.OpenModalMapping.bind(this);\n    this.CloseModalMapping = this.CloseModalMapping.bind(this);\n  }\n\n  OpenModalPosition(e, domain) {\n    this.setState({ showModalPosition: true });\n    this.setState({ domain: domain });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  OpenModalMapping(e, competency) {\n    this.setState({ showModalMapping: true });\n    this.setState({ comp: competency });\n    this.setState({ mapping: competency.mapped_other_competency });\n  }\n\n  CloseModalMapping() {\n    this.setState({ showModalMapping: false });\n  }\n\n  async editCompetency(competency, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(competency, 'title', title);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Competency updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async editMapping(e, competency, mapping) {\n    console.log(competency);\n    e.preventDefault();\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(\n        competency,\n        'field_map_other_competency',\n        mapping\n      );\n      await this.props.loadData(framework);\n      this.CloseModalMapping();\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Record updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  async archiveCompetency(competency, isArchived) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        competency\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Competency status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n      console.log(e);\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.domain.competencies;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getCompetencies(competencies) {\n    const {\n      frameworkData,\n      domain,\n      frameworkDef,\n      framework,\n      loadData,\n      editableFrm\n    } = this.props;\n    return competencies.map(competency => (\n      <li\n        id={competency.id}\n        key={competency.id}\n        style={{ listStyleType: 'none' }}\n      >\n        <div className=\"row competency_title\">\n          <h3 className={competency.archived === '1' ? 'strikeout' : ''}>\n            <InlineEdit\n              style={{ display: 'inline' }}\n              text={competency.title}\n              change={newValue => this.editCompetency(competency.id, newValue)}\n              editable={\n                competency.archived === '1' || editableFrm === false\n                  ? false\n                  : true\n              }\n            />\n            {editableFrm === true ? (\n              <>\n                <span className=\"edit-indicator\">\n                  <button\n                    className=\"ch_link\"\n                    onClick={() =>\n                      this.archiveCompetency(competency.id, competency.archived)\n                    }\n                  >\n                    {competency.archived === '1' ? (\n                      <span className=\"fas fa-toggle-on icon-left-spacer\">\n                        <span>Archived</span>\n                      </span>\n                    ) : (\n                      <span className=\"fas fa-toggle-off icon-left-spacer\">\n                        {' '}\n                        <span> Archive</span>\n                      </span>\n                    )}\n                  </button>\n                </span>\n\n                <span className=\"edit-indicator\">\n                  <button\n                    className=\"ch_link\"\n                    onClick={e => this.OpenModalPosition(e, domain)}\n                  >\n                    <span className=\"fas fa-sort icon-left-spacer\">\n                      <span>Change order</span>\n                    </span>\n                  </button>\n                </span>\n              </>\n            ) : (\n              ''\n            )}\n          </h3>\n        </div>\n\n        <Collapsible\n          trigger={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-right icon-custom\" />\n            </div>\n          }\n          triggerWhenOpen={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-down icon-custom\" />\n            </div>\n          }\n        >\n          <em>\n            {competency.mapped_other_competency ? (\n              <span>\n                This competency maps to:\n                {Parser(competency.mapped_other_competency)}\n                <button\n                  className=\"ch_link\"\n                  onClick={e => this.OpenModalMapping(e, competency)}\n                >\n                  <span className=\"fas fa-edit icon-left-spacer\" />\n                </button>\n              </span>\n            ) : (\n              ''\n            )}\n          </em>\n          <ul>\n            <ManageAttribute\n              framework={framework}\n              frameworkData={frameworkData}\n              domain={domain}\n              competency={competency}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              editableFrm={editableFrm}\n            />\n          </ul>\n        </Collapsible>\n      </li>\n    ));\n  }\n\n  render() {\n    const { frameworkData, domain } = this.props;\n    const competencies = frameworkData.map(item =>\n      item.domains.map(item => {\n        if (item.nid === domain.nid) {\n          return <ul>{this.getCompetencies(item.competencies)}</ul>;\n        }\n        return null;\n      })\n    );\n    return (\n      <>\n        <div key={'domainlist'}>\n          {competencies\n            ? competencies\n            : 'No competencies found. Add new competencies to start.'}\n        </div>\n        <Modal\n          open={this.state.showModalMapping}\n          onClose={this.CloseModalMapping}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <form\n            onSubmit={e =>\n              this.editMapping(e, this.state.comp.id, this.state.mapping)\n            }\n          >\n            <div className=\"column medium-9\">\n              <h3>{this.state.comp.title}</h3>\n              <h4>This competency maps to:</h4>\n              {console.log(this.state.comp.id)}\n              <CKEditor\n                key={'mapsto_'}\n                content={this.state.mapping}\n                events={{\n                  change: e => this.setState({ mapping: e.editor.getData() }) //this.editMapping(this.state.comp.id, \"This info\")\n                }}\n                activeclassName=\"p10\"\n                config={{\n                  toolbarGroups: [\n                    {\n                      name: 'document',\n                      groups: ['mode', 'document', 'doctools']\n                    },\n                    {\n                      name: 'paragraph',\n                      groups: [\n                        'list',\n                        'indent',\n                        'blocks',\n                        'align',\n                        'bidi',\n                        'paragraph'\n                      ]\n                    },\n                    { name: 'links', groups: ['links'] }\n                  ]\n                }}\n              />\n              <input type=\"submit\" className=\"button\" value=\"Save\" />\n            </div>\n          </form>\n        </Modal>\n\n        {/* Modal for sorting competency positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.domain.nid ? <h4>{this.state.domain.title}</h4> : ''}\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map(domain => {\n                if (domain.nid === this.state.domain.nid) {\n                  return domain.competencies.map((competency, i) => {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={competency.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i className=\"icon icon-common icon-move\" />{' '}\n                        {competency.title}\n                      </li>\n                    );\n                  });\n                }\n                return null;\n              })\n            )}\n          </ul>\n          <button\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withSnackbar(ManageCompetency);\n","import React from 'react';\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\nimport CKEditor from 'react-ckeditor-component';\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageCompetency from './ManageCompetency';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageDomains extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      newDomains: '',\n      showModalCompetency: false,\n      showModalMapping: false,\n      newCompetencies: [{ competency: '', mapping: '' }],\n      parentID: '',\n      parentTitle: '',\n      sorting: []\n    };\n\n    this.archiveDomain = this.archiveDomain.bind(this);\n    this.OpenModalCompetency = this.OpenModalCompetency.bind(this);\n    this.closeModalCompetency = this.closeModalCompetency.bind(this);\n\n    this.OpenModalMapping = this.OpenModalMapping.bind(this);\n    this.CloseModalMapping = this.CloseModalMapping.bind(this);\n\n    this.handleRemoveCompetencies = this.handleRemoveCompetencies.bind(this);\n    this.setCompetencies = this.setCompetencies.bind(this);\n\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n  }\n\n  OpenModalMapping(e, domain) {\n    this.setState({ showModalMapping: true });\n    //this.setState({ domain: domain });\n  }\n\n  CloseModalMapping() {\n    this.setState({ showModalMapping: false });\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e) {\n    this.setState({ showModalPosition: true });\n    console.log('change positions');\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  OpenModalCompetency(e) {\n    this.setState({ parentID: e.target.dataset.domainid });\n    this.setState({ parentTitle: e.target.dataset.domaintitle });\n    this.setState({ showModalCompetency: true });\n  }\n\n  closeModalCompetency() {\n    this.setState({ showModalCompetency: false });\n  }\n\n  handleAddMoreCompetencies(e) {\n    this.setState({\n      newCompetencies: [\n        ...this.state.newCompetencies,\n        { competency: '', mapping: '' }\n      ]\n    });\n    e.preventDefault();\n  }\n\n  handleRemoveCompetencies(e, index) {\n    this.state.newCompetencies.splice(index, 1);\n    this.setState({ newCompetencies: this.state.newCompetencies });\n    e.preventDefault();\n  }\n\n  setCompetencies(e, index, type) {\n    let newData = this.state.newCompetencies;\n    if (type === 'competency') {\n      newData[index].competency = e.target.value;\n    } else {\n      newData[index].mapping = e.editor.getData(); //e.target.value;\n    }\n    this.setState({ newCompetencies: newData });\n  }\n\n  async saveCompetencies(e) {\n    const { framework, frameworkData } = this.props;\n    const { newCompetencies, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newCompetencies;\n    let type = 'competency';\n    let addtional = '';\n    e.preventDefault();\n\n    console.log(this.state.newCompetencies);\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Competencies added successfully', {\n        variant: 'success'\n      });\n    }\n    this.setState({ newCompetencies: [{ competency: '', mapping: '' }] });\n    this.closeModalCompetency();\n  }\n\n  async editDomain(domain, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchDomain(domain, 'title', title);\n      await this.props.loadData(framework);\n      await this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      // this.props.enqueueSnackbar('Domain updated', {\n      //   variant: 'success'\n      // });\n    }\n  }\n\n  async archiveDomain(domain, isArchived) {\n    const { framework } = this.props;\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        domain\n      );\n      this.props.loadData(framework);\n      console.log('all good gg');\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    var data = this.props.frameworkData[0].domains;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.nid));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.nid);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkData,\n      frameworkDef,\n      loadData,\n      editableFrm\n    } = this.props;\n    const domains = frameworkData.map(item =>\n      item.domains.map((domain, index) => (\n        <li\n          key={'li_' + index}\n          id={domain.nid}\n          className={domain.archived === '1' ? 'strikeout' : ''}\n          style={{ listStyleType: 'none' }}\n        >\n          <div key={'div1_' + domain.nid} className=\"row domain_title\">\n            <hr />\n            <div key={'div2_' + domain.nid} className=\"column medium-12\">\n              <h2 key={'h4_' + domain.nid}>\n                <InlineEdit\n                  style={{ display: 'inline' }}\n                  text={domain.title}\n                  change={newValue => this.editDomain(domain.nid, newValue)}\n                  editable={\n                    domain.archived === '1' || editableFrm === false\n                      ? false\n                      : true\n                  }\n                  key={'inline_edit_' + domain.nid}\n                />\n                {editableFrm !== false ? (\n                  <>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        key={domain.nid}\n                        className=\"ch_link \"\n                        onClick={() =>\n                          this.archiveDomain(domain.nid, domain.archived)\n                        }\n                      >\n                        {domain.archived === '1' ? (\n                          <span className=\"ch_link fas fa-toggle-on icon-left-spacer\">\n                            <span>Archived</span>\n                          </span>\n                        ) : (\n                          <span className=\"fas fa-toggle-off icon-left-spacer\">\n                            {' '}\n                            <span> Archive</span>\n                          </span>\n                        )}\n                      </button>\n                    </span>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        className=\"ch_link addButton\"\n                        onClick={this.OpenModalPosition}\n                      >\n                        {' '}\n                        <i className=\"icon icon-common icon-sort icon-left-spacer\" />{' '}\n                        Change order{' '}\n                      </button>\n                    </span>\n                    {domain.archived !== '1' ? (\n                      <span\n                        key={'span_' + domain.nid}\n                        className=\"edit-indicator\"\n                      >\n                        <button\n                          className=\"ch_link addButton icon icon-common icon-plus-circle icon-left-spacer\"\n                          href=\"#\"\n                          data-domainid={domain.nid}\n                          data-domaintitle={domain.title}\n                          onClick={e => this.OpenModalCompetency(e)}\n                        >\n                          Add competencies\n                        </button>\n                      </span>\n                    ) : (\n                      ''\n                    )}\n                  </>\n                ) : (\n                  ''\n                )}\n              </h2>\n            </div>\n          </div>\n          <div key={'p_' + domain.nid}>\n            <ManageCompetency\n              framework={framework}\n              frameworkData={frameworkData}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              domain={domain}\n              editableFrm={editableFrm}\n            />\n          </div>\n        </li>\n      ))\n    );\n\n    return (\n      <div key={'domains_list'}>\n        {domains[0].length > 0 ? (\n          <>\n            <ul key={'ul_' + domains.count}>{domains}</ul>{' '}\n            {console.log(domains)}{' '}\n          </>\n        ) : (\n          <>\n            <p className=\"callout\">\n              No data found. You may start by adding domains.\n            </p>{' '}\n            {console.log(domains)}\n          </>\n        )}\n\n        {/* Modal for mapping */}\n\n        {/* <Modal\n          open={this.state.showModalCompetency}\n          onClose={this.closeModalCompetency}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n         <form onSubmit={e => this.saveCompetencies(e)}>\n            {this.state.newCompetencies.map((item, index) => (\n              <div key={'competency_' + index} className=\"row callout\">\n                <div className=\"column medium-9\">\n\n                  Add/edit this competency maps to:\n  \n                   <CKEditor\n                    key={'mapsto_' + index}\n                    content={item.mapping}\n                    events={{\n                      change: (e) => this.setCompetencies(e, index, 'mapping')\n                    }}\n                    activeClass=\"p10\"\n                    config={{\n                      toolbarGroups :[\n                        { name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\n                        { name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },\n                        { name: 'links', groups: [ 'links' ] },\n                    ]\n                  }}\n                  />\n                </div>\n\n              </div>\n            ))}\n\n            <input type=\"submit\" className=\"button\" value=\"Save\" />\n          </form> \n        </Modal> */}\n\n        {/* Modal for competencies */}\n\n        <Modal\n          open={this.state.showModalCompetency}\n          onClose={this.closeModalCompetency}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h2>{this.state.parentTitle}</h2>\n          <h3>Add competencies(s) </h3>\n\n          <form className=\"vf-form\" onSubmit={e => this.saveCompetencies(e)}>\n            {this.state.newCompetencies.map((item, index) => (\n              <div key={'competency_' + index} className=\"row callout\">\n                <div className=\"column medium-9\">\n                  Competency\n                  <input\n                    key={index}\n                    type=\"text\"\n                    onChange={e => this.setCompetencies(e, index, 'competency')}\n                    value={item.competency}\n                    required\n                    className=\"vf-form__input\"\n                  />\n                  This competency maps to:\n                  <CKEditor\n                    key={'mapsto_' + index}\n                    className=\"vf-form__input\"\n                    content={item.mapping}\n                    events={{\n                      change: e => this.setCompetencies(e, index, 'mapping')\n                    }}\n                    activeClass=\"p10\"\n                    config={{\n                      toolbarGroups: [\n                        {\n                          name: 'document',\n                          groups: ['mode', 'document', 'doctools']\n                        },\n                        {\n                          name: 'paragraph',\n                          groups: [\n                            'list',\n                            'indent',\n                            'blocks',\n                            'align',\n                            'bidi',\n                            'paragraph'\n                          ]\n                        },\n                        { name: 'links', groups: ['links'] }\n                      ]\n                    }}\n                  />\n                </div>\n                <div className=\"column medium-3\" style={{ paddingTop: '1%' }}>\n                  {index > 0 ? (\n                    <button\n                      className=\"vf-button vf-button--sm\"\n                      onClick={e => this.handleRemoveCompetencies(e, index)}\n                    >\n                      <i className=\"icon icon-common icon-close\" />{' '}\n                    </button>\n                  ) : (\n                    ''\n                  )}\n                </div>\n              </div>\n            ))}\n\n            <div className=\"row\">\n              <div className=\"column medium-10\">\n                <button\n                  className=\"vf-button vf-button--sm vf-button--secondary\"\n                  onClick={e => this.handleAddMoreCompetencies(e)}\n                >\n                  <i className=\"icon icon-common icon-plus-circle\" /> Add more\n                </button>\n              </div>\n            </div>\n            <input\n              type=\"submit\"\n              className=\"vf-button vf-button--sm vf-button--primary\"\n              value=\"Save\"\n            />\n          </form>\n        </Modal>\n\n        {/* Modal for sorting domain positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map((domain, i) => {\n                return (\n                  <li\n                    style={{ listStyleType: 'none' }}\n                    data-position={i}\n                    key={item.position}\n                    draggable=\"true\"\n                    onDragEnd={this.dragEnd.bind(this)}\n                    onDragStart={this.dragStart.bind(this)}\n                  >\n                    <i className=\"icon icon-common icon-move\" /> {domain.title}\n                  </li>\n                );\n              })\n            )}\n          </ul>\n          <button\n            className=\"vf-button vf-button--sm vf-button--primary\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageDomains);\n","import React from 'react';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\nimport VersionControls from '../containers/version-controls/VersionControls';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageDomains from './ManageDomains';\n\nclass ManageData extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      framework: '',\n      frameworkName: '',\n      frameworkData: [],\n      frameworkVersion: '',\n      frameworkVersionId: '',\n      frameworkStatus: '',\n      frameworkDef: [],\n      versions: [],\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      showModalPosition: false,\n      newDomains: '',\n      parent: ''\n    };\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.saveDomains = this.saveDomains.bind(this);\n    this.loadData = this.loadData.bind(this);\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e) {\n    this.setState({ showModalPosition: true });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  setDomains(e) {\n    this.setState({ newDomains: e.target.value });\n  }\n\n  async saveDomains(e) {\n    const { framework, frameworkData, newDomains } = this.state;\n\n    let parentID = frameworkData[0].nid;\n    let versionID = frameworkData[0].version_id;\n    let newData = newDomains;\n    let type = 'domain';\n    let addtional = '';\n    e.preventDefault();\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      await this.loadData(framework);\n      this.props.enqueueSnackbar('Domains created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n\n    this.handleCloseModal();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { framework } = props.match.params;\n    if (framework !== state.framework) {\n      return {\n        framework,\n        frameworkData: [],\n        loadingError: false\n      };\n    }\n\n    // No state update necessary\n    return null;\n  }\n\n  async componentDidMount() {\n    const { framework, domainId } = this.props.match.params;\n    await this.loadData(framework);\n\n    if (domainId) {\n      setTimeout(() => {\n        const ref = this.refs[domainId];\n        if (ref) {\n          ref.scrollIntoView();\n        }\n      }, 100);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { framework, frameworkData, loadingError } = this.state;\n    if (framework !== prevState.framework) {\n      if (frameworkData.length === 0 && !loadingError) {\n        this.loadData(framework);\n      }\n    }\n  }\n\n  async loadData(framework) {\n    try {\n      this.activeRequests.startRequest();\n      await this.fetchVersions(framework);\n      await this.fetchFramework(framework);\n    } catch (error) {\n      this.setState({ loadingError: true });\n      alert(`Error: ${error}`);\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async fetchVersions(framework) {\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\n    const currentFramework = allFrameworks.filter(\n      fw => fw.title.toLowerCase().replace(/\\s+/g, '') === framework\n    );\n    if (currentFramework.length > 0) {\n      this.setState({ versions: currentFramework[0].versions.reverse() });\n      this.setState({ frameworkDef: currentFramework[0].attribute_types });\n    }\n  }\n\n  async fetchFramework(framework) {\n    const { versions } = this.state;\n    const liveVersion = versions.filter(version => version.status === 'live');\n    const draftVersion = versions.filter(version => version.status === 'draft');\n    let frameworkData = [];\n    let editable = false;\n\n    if (draftVersion.length) {\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\n        framework\n      );\n      this.setState({ frameworkVersionId: draftVersion[0].id });\n      editable = true;\n      console.log(frameworkData);\n    } else {\n      if (liveVersion.length) {\n        frameworkData = await this.competencyService.getVersionedFramework(\n          framework,\n          liveVersion[0].number\n        );\n      }\n    }\n\n    if (frameworkData.length) {\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\n        description: domain.title,\n        uuid: domain.uuid\n      }));\n      this.setState({\n        frameworkName: frameworkData[0].title,\n        frameworkData: frameworkData,\n        frameworkVersion: frameworkData[0].version,\n        frameworkStatus: frameworkData[0].status,\n        competencyTypes,\n        editable\n      });\n    }\n  }\n\n  releaseNewVersion = async (version, notes) => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.publishFramework(framework, version, notes);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  updateNotes = async notes => {\n    const { framework, frameworkVersionId } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.updateReleaseNotes(\n        notes,\n        frameworkVersionId\n      );\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  createDraft = async () => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createDraftFramework(framework);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkName,\n      frameworkData,\n      frameworkVersion,\n      frameworkStatus,\n      frameworkDef,\n      //competencyTypes,\n      versions,\n      loadingError,\n      editable\n    } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    if (frameworkData.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"row\">\n        <h2>Manage framework data</h2>\n        <h4>{frameworkName}</h4>\n        <p>\n          <span className=\"tag\">{frameworkVersion}</span>\n          <span className=\"tag secondary-background\">\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\n          </span>\n        </p>\n        <div className=\"row\">\n          <div className=\"column medium-9\">\n            <VersionControls\n              editable={editable}\n              createDraft={this.createDraft}\n              versions={versions}\n              release={this.releaseNewVersion}\n              updateNotes={this.updateNotes}\n            />\n          </div>\n          <div className=\"vf-grid vf-grid vf-grid__col-4\">\n            <div className=\"vf-grid vf-grid__col--span-3\" />\n\n            <div className=\"vf-grid vf-grid__col--span-1\">\n              {editable === true ? (\n                <button\n                  href=\"#\"\n                  className=\"vf-button vf-button--tertirary vf-button--sm\"\n                  onClick={this.handleOpenModal}\n                >\n                  {' '}\n                  <i className=\"icon icon-common icon-plus-circle\" /> Add\n                  domains{' '}\n                </button>\n              ) : (\n                ''\n              )}\n            </div>\n          </div>\n        </div>\n\n        <ManageDomains\n          editableFrm={editable}\n          framework={framework}\n          frameworkData={frameworkData}\n          frameworkDef={frameworkDef}\n          loadData={this.loadData}\n        />\n\n        <FrameworkVersions framework={framework} versions={versions} />\n\n        {/* Modal for adding domains */}\n\n        <Modal\n          open={this.state.showModal}\n          onClose={this.handleCloseModal}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h2>Add domain(s) </h2>\n          <h3>Please enter one domain per line</h3>\n          <form className=\"vf-form\">\n            <textarea\n              id=\"domain_txt_area\"\n              rows=\"5\"\n              onChange={e => this.setDomains(e)}\n              required\n              className=\"vf-form__input\"\n            />\n            <button\n              className=\"vf-button vf-button--sm vf-button--primary\"\n              onClick={e => this.saveDomains(e)}\n            >\n              Save\n            </button>\n          </form>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageData);\n","import HttpService from '../http/http';\r\n\r\nexport const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nclass CoursesService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor(props) {\r\n    //super(props);\r\n    if (CoursesService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CoursesService.instance = this;\r\n  }\r\n\r\n  async checkForTrainingResources(page, filter, filterType, $framework) {\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency_framework_resources?_format=json&timestamp=${Date.now()}&page=${page}&title=${filter}&type=${filterType}&framework=${$framework}&checkForTrainingResources=${true}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getCourses(page, filter, filterType) {\r\n    const response = await this.http.get(\r\n      //`${apiUrl}/api/resources?_format=json`\r\n      // `${apiUrl}/api/resources?_format=json&page=${page}&title=${filter}&type=${filterType}`\r\n      `${apiUrl}/api/resources?_format=json&page=${page}&title=${filter}&type=${filterType}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getByFramework(page, filter, filterType, $framework) {\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency_framework_resources?_format=json&timestamp=${Date.now()}&page=${page}&title=${filter}&type=${filterType}&framework=${$framework}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getByCompetency($competencyID) {\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency-resources?field_competency_target_id=${$competencyID}`\r\n    );\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default CoursesService;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Parser from 'html-react-parser';\r\nimport { withSnackbar } from 'notistack';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport CoursesService from '../services/courses/courses';\r\n\r\nclass CompetencyDetails extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  coursesService = new CoursesService();\r\n\r\n  state = {\r\n    framework: this.props.match.params.framework,\r\n    version: this.props.location.pathname.split('/'),\r\n    frameworkData: [],\r\n    competencyId: this.props.match.params.cid,\r\n    attributeDefs: [],\r\n    resources: []\r\n  };\r\n\r\n  slugify(string) {\r\n    return string\r\n      .toLowerCase()\r\n      .replace(/[^\\w ]+/g, '')\r\n      .replace(/ +/g, '-');\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.getFramework(),\r\n        this.getAttributes(),\r\n        this.getResources()\r\n      ]);\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async getFramework() {\r\n    const { framework } = this.state;\r\n    const { version } = this.state;\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      version[3]\r\n    );\r\n\r\n    this.setState({\r\n      frameworkData\r\n    });\r\n  }\r\n\r\n  async getAttributes() {\r\n    const allFrameworks = await this.competencyService.getAllFrameworks();\r\n    const { framework } = this.state;\r\n    const frameworkMatch = allFrameworks.filter(\r\n      item => item.name.toLowerCase() === framework\r\n    );\r\n    if (frameworkMatch.length) {\r\n      const attributeDefs = frameworkMatch[0].attribute_types.map(\r\n        attribute => attribute.title\r\n      );\r\n      this.setState({ attributeDefs });\r\n    }\r\n  }\r\n\r\n  async getResources() {\r\n    try {\r\n      const resources = await this.coursesService.getByCompetency(\r\n        this.state.competencyId\r\n      );\r\n      // const resources = allResources.filter(\r\n      //   resource =>\r\n      //     resource.archived === 'no' &&\r\n      //     !!resource.competency_profile.find(\r\n      //       profile => profile.competency_id === this.state.competencyId\r\n      //     )\r\n      // );\r\n\r\n      this.setState({ resources });\r\n      /*const resources = [{\"id\":1, \"title\":this.state.version[3]}];*/\r\n      this.setState({ resources });\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar('Unable to retrieve training resources', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  }\r\n\r\n  resourceBlock() {\r\n    const { resources } = this.state;\r\n    return resources.map(resource => (\r\n      <li key={resource.nid}>\r\n        <Link\r\n          to={{\r\n            pathname: `/training-resources/${this.slugify(resource.title)}`,\r\n            state: {\r\n              training_resource_id: resource.nid\r\n            }\r\n          }}\r\n        >\r\n          {resource.title}\r\n        </Link>\r\n        {/*<Link to={`/training-resources/${resource.nid}`}>{resource.title}</Link>*/}\r\n      </li>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      competencyId,\r\n      frameworkData,\r\n      attributeDefs,\r\n      resources\r\n    } = this.state;\r\n\r\n    const competencies = [];\r\n    console.log(frameworkData);\r\n    frameworkData.forEach(item =>\r\n      item.domains.forEach(domain =>\r\n        domain.competencies.forEach(competency => {\r\n          if (competency.id === competencyId) {\r\n            competencies.push({\r\n              ...competency,\r\n              framework: item.title,\r\n              domain: domain.title\r\n            });\r\n          }\r\n        })\r\n      )\r\n    );\r\n\r\n    const competencyDetails = competencies.map(competency => (\r\n      <div key={competency.id}>\r\n        <h4>\r\n          {' '}\r\n          {competency.framework} / {competency.domain}\r\n        </h4>\r\n\r\n        <div className=\"vf-grid\">\r\n          <div>\r\n            <h3>{competency.title}</h3>\r\n            <ul>\r\n              {attributeDefs.map(def => {\r\n                return (\r\n                  <div key={def}>\r\n                    <div className=\"margin-top-medium\">\r\n                      {' '}\r\n                      <strong>\r\n                        <em>{def}</em>\r\n                      </strong>\r\n                    </div>\r\n                    {competency.attributes.map(attribute => {\r\n                      if (attribute.type === def) {\r\n                        return <li key={attribute.id}>{attribute.title} </li>;\r\n                      }\r\n                      return null;\r\n                    })}\r\n                  </div>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n\r\n          <div>\r\n            <h4>Competency derived from:</h4>\r\n            <p>\r\n              {' '}\r\n              {competency.mapped_other_competency\r\n                ? Parser(competency.mapped_other_competency)\r\n                : 'No data available'}{' '}\r\n            </p>\r\n\r\n            {resources.length === 0 ? null : (\r\n              <div>\r\n                <h4>Training resources mapped to this competency</h4>\r\n                <ul>{this.resourceBlock()}</ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"column large-12\">\r\n          {frameworkData.length > 0 ? (\r\n            <nav className=\"vf-breadcrumbs\" aria-label=\"Breadcrumb\">\r\n              <ul className=\"vf-breadcrumbs__list | vf-list vf-list--inline\">\r\n                <li className=\"vf-breadcrumbs__item\">\r\n                  <Link to=\"/\" className=\"vf-breadcrumbs__link\">\r\n                    Home\r\n                  </Link>\r\n                </li>\r\n                <li className=\"vf-breadcrumbs__item\">\r\n                  <Link\r\n                    to={`/framework/${frameworkData[0].title.toLowerCase()}/${\r\n                      frameworkData[0].version\r\n                    }`}\r\n                  >\r\n                    {frameworkData[0].title} {frameworkData[0].version}\r\n                  </Link>{' '}\r\n                </li>\r\n                <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\r\n                  Competency details\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          ) : (\r\n            ''\r\n          )}\r\n\r\n          <h3>Competency details</h3>\r\n\r\n          {competencyDetails}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(CompetencyDetails);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Collapsible from 'react-collapsible';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { groupBy } from 'lodash-es';\r\nimport './CompetencyList.css';\r\n\r\nfunction CompetencyList({\r\n  index,\r\n  framework,\r\n  competency,\r\n  disable,\r\n  version,\r\n  attributeTypes\r\n}) {\r\n  const attributesGrouped = groupBy(competency.attributes, 'type');\r\n  const attrTypes = attributeTypes;\r\n  const attributes = attrTypes.map(type => {\r\n    const attributes = attributesGrouped[type]\r\n      ? attributesGrouped[type].map(attribute => (\r\n          <li className=\"vf-list__item\" key={attribute.id}>\r\n            {attribute.title}\r\n          </li>\r\n        ))\r\n      : '';\r\n    return attributes ? (\r\n      <div key={type} className=\"attribute_type\">\r\n        <em>{type}</em>\r\n        <ul className=\"vf-list--unordered\" style={{ paddingLeft: '24px' }}>\r\n          {attributes}\r\n        </ul>\r\n      </div>\r\n    ) : (\r\n      ''\r\n    );\r\n  });\r\n\r\n  if (competency.archived === '1') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <Collapsible\r\n          trigger={\r\n            <div className=\"open-close-title\">\r\n              <span className=\"icon icon-common icon-angle-right float-left icon-custom\" />\r\n              <span>{competency.title}</span>\r\n            </div>\r\n          }\r\n          triggerWhenOpen={\r\n            <div className=\"open-close-title\">\r\n              <span className=\"icon icon-common icon-angle-down float-left icon-custom\" />\r\n              <span>{competency.title}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <div>\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.id\r\n              }`}\r\n            >\r\n              <span style={{ float: 'right' }}>\r\n                <i className=\"icon icon-spacer icon-common icon-info\" />\r\n                More details\r\n              </span>\r\n            </Link>\r\n            {attributes}\r\n          </div>\r\n        </Collapsible>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nCompetencyList.defaultProps = {\r\n  parentIndex: 0,\r\n  index: 0,\r\n  disable: true\r\n};\r\n\r\nCompetencyList.propTypes = {\r\n  parentIndex: PropTypes.number,\r\n  index: PropTypes.number,\r\n  framework: PropTypes.string,\r\n  competency: PropTypes.shape({\r\n    title: PropTypes.string\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default CompetencyList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CompetencyList from '../competency-list/CompetencyList';\r\n\r\nfunction DomainList({\r\n  index,\r\n  framework,\r\n  domain,\r\n  disable,\r\n  version,\r\n  attributeTypes\r\n}) {\r\n  const competencies = domain.competencies.map((competency, childIndex) => (\r\n    <CompetencyList\r\n      key={competency.id}\r\n      index={childIndex}\r\n      framework={framework}\r\n      competency={competency}\r\n      disable={disable}\r\n      version={version}\r\n      attributeTypes={attributeTypes}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <tbody style={{ border: 'none' }}>\r\n      <tr>\r\n        <td>\r\n          <h2> {domain.title}</h2>\r\n        </td>\r\n      </tr>\r\n      {competencies}\r\n    </tbody>\r\n  );\r\n}\r\n\r\nDomainList.defaultProps = {\r\n  domain: { title: '', competencies: [] },\r\n  disable: true\r\n};\r\n\r\nDomainList.propTypes = {\r\n  framework: PropTypes.string,\r\n  domain: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    competencies: PropTypes.array\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default DomainList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorLoading from '../../components/error-loading/ErrorLoading';\r\n\r\nimport ActiveRequestsService from '../../services/active-requests/active-requests';\r\nimport CoursesService from '../../services/courses/courses';\r\nimport { safeFlat } from '../../services/util/util';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass Courses extends Component {\r\n  static propTypes = {\r\n    framework: PropTypes.string,\r\n    frameworkId: PropTypes.string,\r\n    version: PropTypes.string\r\n  };\r\n  coursesService = new CoursesService();\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      courses: [],\r\n      filteredCourses: [],\r\n      filter: '',\r\n      filterType: '',\r\n      loadingError: false,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      noResultsFound: false,\r\n      loading: false\r\n    };\r\n    this.state.framework = props.framework;\r\n    this.state.frameworkId = props.frameworkId;\r\n    this.state.version = props.version;\r\n    this.state.totalItemsCount = 0;\r\n    this.slugify = this.slugify.bind(this);\r\n  }\r\n\r\n  async handlePageChange(pageNumber) {\r\n    await this.setState({ courses: null });\r\n    await this.setState({ activePage: pageNumber });\r\n    await this.fetchData();\r\n    setTimeout(function() {\r\n      window.scrollTo(0, 0);\r\n    }, 700);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const allCourses = await this.coursesService.getByFramework(\r\n        this.state.activePage,\r\n        this.state.filter,\r\n        this.state.filterType,\r\n        this.props.framework\r\n      );\r\n      const courses = this.filterCourses(allCourses);\r\n      this.showAllTrainingResources = this.showAllTrainingResources.bind(this);\r\n      this.setState({ courses, filteredCourses: courses });\r\n      if (courses.length > 0) {\r\n        this.setState({\r\n          totalItemsCount: courses[0].hitcount\r\n        });\r\n      } else {\r\n        this.setState({\r\n          noResultsFound: true\r\n        });\r\n      }\r\n      this.setState({\r\n        totalItemsCount: courses.length > 0 ? courses[0].hitcount : 0\r\n      });\r\n      this.setState({\r\n        loading: false\r\n      });\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  slugify(string) {\r\n    return string\r\n      .toLowerCase()\r\n      .replace(/[^\\w ]+/g, '')\r\n      .replace(/ +/g, '-');\r\n  }\r\n\r\n  async showAllTrainingResources() {\r\n    await this.setState({ filter: '' });\r\n    await this.setState({ activePage: 1 });\r\n    await this.setState({ filterType: '' });\r\n    await this.fetchData().then(() => {\r\n      this.setState({\r\n        noResultsFound: false\r\n      });\r\n    });\r\n  }\r\n\r\n  async searchSubmit(e) {\r\n    e.preventDefault();\r\n    //await this.setState({ resources: null });\r\n    await this.setState({ activePage: 0 });\r\n    await this.fetchData();\r\n  }\r\n\r\n  filterCourses(allCourses) {\r\n    const { framework } = this.state;\r\n    const { version } = this.state;\r\n    const filteredCourses = [];\r\n    allCourses.forEach(course => {\r\n      if (course.archived === 'archived') {\r\n        return;\r\n      }\r\n\r\n      const filteredProfiles = course.competency_profile.filter(\r\n        profile => (profile.framework_label || '').toLowerCase() === framework\r\n      );\r\n\r\n      if (filteredProfiles.length === 0) {\r\n        return;\r\n      }\r\n\r\n      const modifiedCourse = {\r\n        ...course,\r\n        competencies: safeFlat(filteredProfiles.map(profile => profile))\r\n      };\r\n      filteredCourses.push(modifiedCourse);\r\n    });\r\n    return filteredCourses;\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { courses } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredCourses = courses.filter(course => term.test(course.title));\r\n    this.setState({ filteredCourses, filter });\r\n  };\r\n\r\n  async filter(e) {\r\n    await this.setState({ filter: e.target.value });\r\n  }\r\n\r\n  async filterTypeHandle(e) {\r\n    await this.setState({ filterType: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      filteredCourses,\r\n      framework,\r\n      filter,\r\n      loadingError,\r\n      version\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    let duplicates = [];\r\n\r\n    const competencyList = competencies =>\r\n      competencies\r\n        .filter(\r\n          (competency, index, all) =>\r\n            all.findIndex(c => c.competency_id === competency.competency_id) ===\r\n            index\r\n        )\r\n        .map(competency => (\r\n          <li key={competency.id}>\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.competency_id\r\n              }`}\r\n            >\r\n              {competency.competency_label}\r\n            </Link>\r\n          </li>\r\n        ));\r\n    const resources = filteredCourses.map((course, index) => (\r\n      <tr key={course.id}>\r\n        <td>\r\n          {index +\r\n            1 +\r\n            (this.state.activePage ? (this.state.activePage - 1) * 15 : 0)}{' '}\r\n        </td>\r\n        <td>\r\n          <Link\r\n            to={{\r\n              pathname: `/training-resources/${this.slugify(course.title)}`,\r\n              state: {\r\n                training_resource_id: course.id\r\n              }\r\n            }}\r\n          >\r\n            {course.title}\r\n          </Link>\r\n        </td>\r\n        <td>{course.type}</td>\r\n        <td>\r\n          <ul>{competencyList(course.competencies)} </ul>\r\n        </td>\r\n      </tr>\r\n    ));\r\n\r\n    return (\r\n      <>\r\n        {this.state.noResultsFound ? (\r\n          <>\r\n            <p className=\"vf-text-body vf-text-body--2\">No results found</p>\r\n            <button\r\n              className=\"vf-button vf-button--primary vf-button--sm \"\r\n              onClick={this.showAllTrainingResources}\r\n            >\r\n              Show all training resources\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <div>\r\n            <form\r\n              className=\"vf-form | vf-search\"\r\n              onSubmit={e => this.searchSubmit(e)}\r\n            >\r\n              <div className=\"vf-grid vf-grid__col-4\">\r\n                <div className=\"vf-form__item | vf-search__item vf-grid__col--span-2\">\r\n                  <input\r\n                    type=\"search\"\r\n                    onChange={this.filter.bind(this)}\r\n                    placeholder=\"Type to search\"\r\n                    className=\"vf-form__input | vf-search__item\"\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item vf-grid__col--span-1\">\r\n                  <select\r\n                    ref={'type'}\r\n                    onChange={this.filterTypeHandle.bind(this)}\r\n                    className=\"vf-form__select\"\r\n                  >\r\n                    <option value={'All'}>All types</option>\r\n                    <option value={'Online'}>Online</option>\r\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                    <option value={'Webinar'}>Webinar</option>\r\n                    <option value={'Hackathon'}>Hackathon</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"vf-form__item vf-grid__col--span-1\">\r\n                  <input\r\n                    type=\"submit\"\r\n                    className=\"vf-search__button | vf-button vf-button--primary vf-button--sm\"\r\n                    value=\"Search\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n            {this.state.loading ? (\r\n              <div>\r\n                <div className=\"vf-u-margin__top--200\" />\r\n                <span>Fetching data...</span>\r\n                <img\r\n                  alt=\"progress\"\r\n                  style={{ width: '7%' }}\r\n                  src=\"/progressbar.gif\"\r\n                />\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>S. No.</th>\r\n                      <th>Training resource(s)</th>\r\n                      <th>Type</th>\r\n                      <th>Competencies</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{resources}</tbody>\r\n                </table>\r\n                <nav className=\"vf-pagination\" aria-label=\"Pagination\">\r\n                  <Pagination\r\n                    activePage={this.state.activePage}\r\n                    itemsCountPerPage={15}\r\n                    totalItemsCount={this.state.totalItemsCount}\r\n                    pageRangeDisplayed={10}\r\n                    onChange={e => this.handlePageChange(e)}\r\n                    innerClass=\"vf-pagination__list\"\r\n                    itemClass=\"vf-pagination__item\"\r\n                    itemClassPrev=\"vf-pagination__item--previous-page\"\r\n                    itemClassNext=\"vf-pagination__item--next-page\"\r\n                    linkClass=\"vf-pagination__link vf-pagination__label\"\r\n                    activeClass=\"vf-pagination__item--is-active\"\r\n                    prevPageText=\"Previous\"\r\n                    nextPageText=\"Next\"\r\n                  />\r\n                </nav>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Courses;\r\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\nimport './Profile.css';\nimport user_icon from './user_icon.png';\n\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\nconst ProfileList = props => {\n  let history = useHistory();\n\n  const frameworkName = props.framework;\n  const frameworkVersion = props.version;\n  const [guestProfile, setGuestProfile] = useState();\n  const [profiles, setProfiles] = useState();\n  //const [framework, setFramework] = useState();\n  const [userFrameworks, setUserFrameworks] = useState([]);\n  //const [userRole, setUserRole] = useState();\n\n  var profilesToCompare = [];\n\n  // var user_roles = localStorage.getItem('roles')\n  //   ? localStorage.getItem('roles')\n  //   : '';\n  var userName = localStorage.getItem('user')\n    ? localStorage.getItem('user')\n    : '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await setGuestProfile(JSON.parse(localStorage.getItem('guestProfile')));\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfiles(findresponse);\n        });\n      if (userName) {\n        await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n          method: 'GET',\n          credentials: 'include'\n        })\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setUserFrameworks(findresponse);\n          });\n      }\n    };\n\n    fetchData();\n  }, [frameworkVersion, frameworkName, userName]);\n\n  const checkUserAccess = () => {\n    if (localStorage.getItem('roles')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const setProfilesToCompare = e => {\n    if (profilesToCompare.length > 2) {\n      alert('You have to select two profiles to compare.');\n      return;\n    }\n\n    if (e.target.checked) {\n      profilesToCompare.push(e.target.getAttribute('data-profileid'));\n    } else {\n      profilesToCompare = profilesToCompare.filter(function(value, index, arr) {\n        return value !== e.target.getAttribute('data-profileid');\n      });\n    }\n  };\n\n  const redirectToCompare = e => {\n    e.preventDefault();\n    if (profilesToCompare.length !== 2) {\n      alert('You have to select two profiles to compare.');\n      return;\n    } else {\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n          profilesToCompare[0]\n        }/${profilesToCompare[1]}`\n      );\n    }\n  };\n\n  const handleDelete = e => {\n    e.preventDefault();\n    confirmAlert({\n      //   title: 'Delete my profile',\n      //   message: 'Are you sure you want to delete your profile? This action cannot be undone!!',\n      //   buttons: [\n      //     {\n      //       label: 'Yes',\n      //       onClick: () => localStorage.removeItem('guestProfile')\n      //     },\n      //     {\n      //       label: 'No',\n      //       onClick: () => alert('Profile not deleted')\n      //     }\n      //   ]\n      // });\n\n      customUI: ({ onClose }) => {\n        return (\n          <div className=\"react-confirm-alert-body\">\n            <h2>Delete my profile</h2>\n            <p>\n              Are you sure you want to delete your profile? This action cannot\n              be undone!!\n            </p>\n            <div className=\"react-confirm-alert-button-group\">\n              <button onClick={onClose}>No</button>\n              <button\n                onClick={() => {\n                  localStorage.removeItem('guestProfile');\n                  alert('Profile deleted');\n                  window.location.reload(false);\n                  onClose();\n                }}\n              >\n                Yes, Delete it!\n              </button>\n            </div>\n          </div>\n        );\n      }\n    });\n  };\n\n  const checkFMAccess = () => {\n    var temp = [];\n    if (userFrameworks.length > 0) {\n      userFrameworks.forEach(item => {\n        temp.push(item.toLowerCase().replace(/ /g, ''));\n      });\n      if (temp.includes(frameworkName)) {\n        return true;\n      }\n      return false;\n    }\n  };\n  return (\n    <div>\n      <div className=\"introduction\">\n        <div className=\"vf-grid vf-grid__col-2\">\n          <div>\n            <h5>\n              <i className=\"icon icon-common icon-search-document\" /> Discover\n              and explore{' '}\n            </h5>\n            <p>Explore career profiles within this competency framework</p>\n          </div>\n          <div>\n            <h5>\n              <i className=\"icon icon-common icon-user-plus\" /> Create your own\n              profile\n            </h5>\n            <p>\n              Create your own profile and assess yourself against the\n              competencies\n            </p>\n          </div>\n\n          <div>\n            <h5>\n              <i className=\"icon icon-common icon-compare\" /> Compare profiles\n            </h5>\n            <p>\n              Compare your profile with other reference profiles to help you\n              make career choices based on your competencies and interests\n            </p>\n          </div>\n          <div>\n            <h5>\n              <i className=\"icon icon-common icon-tutorial\" /> Identify training\n              oportunities\n            </h5>\n            <p>Training opportunities will help boost your career</p>\n          </div>\n        </div>\n      </div>\n      <div className=\"wrapper\">\n        <div className=\"vf-grid vf-grid__col-2\">\n          <div>\n            <h3>Career profiles</h3>\n          </div>\n          <div>\n            <span style={{ float: 'right' }}>\n              {localStorage.getItem('roles') && checkFMAccess() ? (\n                <span>\n                  <Link\n                    className=\"vf-button vf-button--primary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/`}\n                  >\n                    {' '}\n                    Create reference profile{' '}\n                    <i className=\"icon icon-common icon-user-plus\" />\n                  </Link>\n                  <Link\n                    onClick={e => redirectToCompare(e)}\n                    className=\"vf-button vf-button--tertiary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n                      profilesToCompare[0]\n                    }/${profilesToCompare[1]}`}\n                  >\n                    {' '}\n                    Compare selected profiles{' '}\n                    <i className=\"icon icon-common icon-compare\" />\n                  </Link>\n                </span>\n              ) : (\n                <span>\n                  <Link\n                    onClick={e => redirectToCompare(e)}\n                    className=\"vf-button vf-button--tertiary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n                      profilesToCompare[0]\n                    }/${profilesToCompare[1]}`}\n                  >\n                    {' '}\n                    Compare selected profiles{' '}\n                    <i className=\"icon icon-common icon-compare\" />\n                  </Link>\n                </span>\n              )}\n            </span>\n          </div>\n        </div>\n        <hr />\n        <div className=\"vf-grid vf-grid__col-3\">\n          {guestProfile ? (\n            <div className=\"vf-profile vf-profile--very-easy vf-profile--large vf-profile--block\">\n              <img\n                alt=\"profile\"\n                src={\n                  guestProfile.image[0] ? guestProfile.image[0].url : user_icon\n                }\n                className=\"vf-profile__image\"\n              />\n              <div>\n                <h3 className=\"vf-profile__title\">\n                  <Link\n                    className=\"vf-profile__link\"\n                    to={`/framework/${guestProfile.frameworkName}/${\n                      guestProfile.versionNumber\n                    }/profile/view/guest`}\n                  >\n                    {guestProfile.job_title}\n                  </Link>\n                </h3>\n\n                <span>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      onClick={e => setProfilesToCompare(e)}\n                      data-profileid=\"guest\"\n                    />\n                    Click to compare\n                  </label>\n                </span>\n\n                <div\n                  style={{\n                    color: '#999',\n                    bottom: '-15px',\n                    position: 'relative'\n                  }}\n                >\n                  <span>\n                    <hr className=\"vf-divider | vf-u-fullbleed\" />\n                    {/* Your profile {guestProfile.frameworkName} -{' '}\n                    {guestProfile.versionNumber} */}\n                  </span>\n\n                  <Link onClick={e => handleDelete(e)} to={`#`}>\n                    Delete your profile{' '}\n                    <i className=\"icon icon-common icon-trash-alt\" />\n                  </Link>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <article className=\"vf-profile vf-profile--very-easy vf-profile--large vf-profile--block\">\n              <img\n                alt=\"profile\"\n                src={user_icon}\n                className=\"vf-profile__image\"\n              />\n\n              <Link\n                className=\"vf-button vf-button--primary vf-button--sm\"\n                to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n              >\n                Create your profile{' '}\n                <i className=\"icon icon-common icon-user-plus\" />\n              </Link>\n            </article>\n          )}\n          {/* </div> */}\n          {profiles\n            ? profiles.map((profile, index) => {\n                if (!checkUserAccess()) {\n                  if (profile.publishing_status === 'Live') {\n                    return (\n                      <div key={index}>\n                        <article className=\"vf-profile vf-profile--very-easy vf-profile--large vf-profile--block\">\n                          {profile.image[0] ? (\n                            <div className={profile.publishing_status}>\n                              <img\n                                alt=\"profile\"\n                                src={profile.image[0].url}\n                                className=\"vf-profile__image\"\n                              />\n                            </div>\n                          ) : (\n                            <img\n                              alt=\"profile\"\n                              src={user_icon}\n                              className=\"vf-profile__image\"\n                            />\n                          )}\n                          <h3 className=\"vf-profile__title\">\n                            {profile.job_title ? (\n                              <Link\n                                className=\"vf-profile__link\"\n                                to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                  profile.id\n                                }${profile.url_alias}`}\n                              >\n                                {profile.job_title}\n                              </Link>\n                            ) : (\n                              'Job title'\n                            )}\n                          </h3>\n                          {/* <Link\n                            className=\"vf-profile__link\"\n                            to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                              profile.id\n                            }${profile.url_alias}`}\n                          >\n                            View profile{' '}\n                            <i className=\"icon icon-common icon-angle-right\" />\n                          </Link> */}\n                          <span>\n                            {' '}\n                            <label>\n                              <input\n                                type=\"checkbox\"\n                                onClick={e => setProfilesToCompare(e)}\n                                data-profileid={profile.id}\n                              />\n                              Click to compare\n                            </label>\n                          </span>\n                        </article>\n                      </div>\n                    );\n                  }\n                } else {\n                  return (\n                    <div>\n                      <div className=\"profile_badge\">\n                        <span>\n                          <label>\n                            <input\n                              type=\"checkbox\"\n                              onClick={e => setProfilesToCompare(e)}\n                              data-profileid={profile.id}\n                            />\n                            Click to compare\n                          </label>\n                        </span>\n                        <p className={profile.publishing_status}>\n                          {profile.image[0] ? (\n                            <img\n                              alt=\"profile\"\n                              src={profile.image[0].url}\n                              className=\"profile_img\"\n                            />\n                          ) : (\n                            <img\n                              alt=\"profile\"\n                              src={user_icon}\n                              className=\"profile_img\"\n                            />\n                          )}\n                        </p>\n\n                        <div className=\"row action-buttons-row my-profile-card\">\n                          <div>\n                            <h4>\n                              {profile.job_title\n                                ? profile.job_title\n                                : 'Job title'}\n                            </h4>\n                            <Link\n                              to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                profile.id\n                              }${profile.url_alias}`}\n                            >\n                              View profile{' '}\n                              <i className=\"icon icon-common icon-angle-right\" />\n                            </Link>\n                            <p>&nbsp;</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n                return null;\n              })\n            : ''}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileList;\n","import React, { useState, useEffect } from 'react';\n\nimport user_icon from './user_icon.png';\nimport { apiUrl } from '../services/http/http';\n\nconst PathwaysList = props => {\n  const frameworkName = props.framework;\n  const [pathways, setPathways] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/pathways/?_format=json&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setPathways(findresponse);\n        });\n    };\n\n    fetchData();\n  }, [frameworkName]);\n\n  const checkUserAccess = () => {\n    if (localStorage.getItem('roles')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return (\n    <>\n      <div>\n        <p>\n          Learning pathways are collections of training courses and material to\n          help you learn about a specific topic. Note that some of these\n          resources are external to the EBI Competency Hub.\n        </p>\n      </div>\n      {checkUserAccess() === true ? (\n        <a\n          style={{ float: 'right' }}\n          href={`${apiUrl}/node/add/learning_pathway`}\n        >\n          <button className=\"vf-button vf-button--primary vf-button--sm\">\n            Add new learning pathway\n          </button>\n        </a>\n      ) : (\n        ''\n      )}\n      <div className=\"vf-grid vf-grid__col-3\">\n        {pathways\n          ? pathways.map((pathway, index) => {\n              if (!checkUserAccess()) {\n                if (pathway.publishing_status === true) {\n                  return (\n                    <div>\n                      <article className=\"vf-profile vf-profile--very-easy vf-profile--large vf-profile--block\">\n                        {pathway.image[0] ? (\n                          <div className={pathway.publishing_status}>\n                            <img\n                              alt=\"profile\"\n                              src={pathway.image[0].url}\n                              className=\"vf-profile__image\"\n                            />\n                          </div>\n                        ) : (\n                          <img\n                            alt=\"pathway\"\n                            src={user_icon}\n                            className=\"vf-profile__image\"\n                          />\n                        )}\n                        <h3 className=\"vf-profile__title\">\n                          {pathway.title ? (\n                            <a\n                              className=\"vf-profile__link\"\n                              href={`${pathway.url_alias}`}\n                            >\n                              {pathway.title}\n                            </a>\n                          ) : (\n                            'Title'\n                          )}\n                        </h3>\n                      </article>\n                    </div>\n                  );\n                }\n              } else {\n                return (\n                  <div>\n                    <article\n                      className={`vf-profile vf-profile--very-easy vf-profile--large vf-profile--block ${\n                        pathway.publishing_status ? 'Live' : 'Draft'\n                      }`}\n                    >\n                      {pathway.image[0] ? (\n                        <div>\n                          <img\n                            alt=\"profile\"\n                            src={pathway.image[0].url}\n                            className=\"vf-profile__image\"\n                          />\n                        </div>\n                      ) : (\n                        <img\n                          alt=\"pathway\"\n                          src={user_icon}\n                          className=\"vf-profile__image\"\n                        />\n                      )}\n                      <h3 className=\"vf-profile__title\">\n                        {pathway.title ? (\n                          <a\n                            className=\"vf-profile__link\"\n                            href={`${pathway.url_alias}`}\n                          >\n                            {pathway.title}\n                          </a>\n                        ) : (\n                          'Title'\n                        )}\n                      </h3>\n                    </article>\n                  </div>\n                );\n              }\n              return null;\n            })\n          : ''}\n      </div>\n    </>\n  );\n};\n\nexport default PathwaysList;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CSVLink } from 'react-csv';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\n\nconst FAIRDownload = () => {\n  let http = new HttpService();\n  const [data, setData] = useState();\n  // const [data2, setData2] = useState();\n  const [headers, setHeaders] = useState();\n  const [filters, setFilters] = useState();\n  const [facets, setFacets] = useState('');\n  let history = useHistory();\n  let location = history.location;\n  const frameworkName = location.pathname.split('/')[2];\n  const frameworkVersion = location.pathname.split('/')[3];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await http\n        .get(\n          `${apiUrl}/api/export/${frameworkName}/${frameworkVersion}?_format=json&filters=${facets}&timestamp=${Date.now()}`\n        )\n        .then(response => response.data);\n      setData(response.data);\n      setHeaders(response.headers);\n      setFilters(response.filters);\n    };\n    fetchData();\n  }, [facets, frameworkName, frameworkVersion, http]);\n\n  const facetClick = e => {\n    let target = e.target;\n    let temp = facets.split(',');\n    //temp.push();\n    if (target.checked) {\n      let index = temp.indexOf(e.target.name);\n      temp.splice(index, 1);\n      console.log(index);\n    } else {\n      temp.push(...facets, e.target.name);\n    }\n    setFacets(temp.join());\n  };\n\n  return (\n    <>\n      <div>\n        <div className=\"vf-u-margin__top--400\" />\n        <h3>Filter columns</h3>\n      </div>\n      <div className=\"vf-grid\">\n        <div>\n          <div className=\"vf-u-margin__top--400\" />\n          <h4>Identifiers</h4>\n          <form action=\"#\" className=\"vf-form | vf-search\">\n            {filters\n              ? filters.identifiers.map(filter => {\n                  return (\n                    <div\n                      key={filter}\n                      className=\"vf-form__item vf-form__item--checkbox\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        id={filter}\n                        name={filter}\n                        className=\"vf-form__checkbox\"\n                        //checked={!facets.includes(filter)}\n                        defaultChecked={!facets.includes(filter)}\n                        onClick={e => facetClick(e)}\n                      />\n                      <label htmlFor={filter} className=\"vf-form__label\">\n                        {filter}\n                      </label>\n                    </div>\n                  );\n                })\n              : ''}\n          </form>\n        </div>\n        <div>\n          <div className=\"vf-u-margin__top--400\" />\n          <h4>Reference profiles</h4>\n          <form action=\"#\" className=\"vf-form | vf-search\">\n            <div className=\"vf-form__item\" style={{ columnCount: '2' }}>\n              {filters\n                ? filters.profiles.map(filter => {\n                    return (\n                      <div className=\"vf-form__item vf-form__item--checkbox\">\n                        <input\n                          type=\"checkbox\"\n                          id={filter}\n                          name={filter}\n                          className=\"vf-form__checkbox\"\n                          checked={!facets.includes(filter)}\n                          onClick={e => facetClick(e)}\n                        />\n                        <label for={filter} className=\"vf-form__label\">\n                          {filter}\n                        </label>\n                      </div>\n                    );\n                  })\n                : ''}\n            </div>\n          </form>\n        </div>\n        <div>\n          <div className=\"vf-u-margin__top--1600\" />\n          <CSVLink\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            filename={frameworkName + '_' + frameworkVersion + '.csv'}\n            data={data ? data : ''}\n          >\n            Export\n          </CSVLink>\n        </div>\n      </div>\n      <div className=\"vf-u-margin__top--400\" />\n      <div>\n        <svg className=\"vf-icon-sprite vf-icon-sprite--tables\" display=\"none\">\n          <defs>\n            <g id=\"vf-table-sortable--up\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M17.485,5.062,12.707.284a1.031,1.031,0,0,0-1.415,0L6.515,5.062a1,1,0,0,0,.707,1.707H10.25a.25.25,0,0,1,.25.25V22.492a1.5,1.5,0,1,0,3,0V7.019a.249.249,0,0,1,.25-.25h3.028a1,1,0,0,0,.707-1.707Z\"\n              />\n            </g>\n            <g id=\"vf-table-sortable--down\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M17.7,17.838a1,1,0,0,0-.924-.617H13.75a.249.249,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0V16.971a.25.25,0,0,1-.25.25H7.222a1,1,0,0,0-.707,1.707l4.777,4.778a1,1,0,0,0,1.415,0l4.778-4.778A1,1,0,0,0,17.7,17.838Z\"\n              />\n            </g>\n            <g id=\"vf-table-sortable\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M9,19a1,1,0,0,0-.707,1.707l3,3a1,1,0,0,0,1.414,0l3-3A1,1,0,0,0,15,19H13.5a.25.25,0,0,1-.25-.25V5.249A.25.25,0,0,1,13.5,5H15a1,1,0,0,0,.707-1.707l-3-3a1,1,0,0,0-1.414,0l-3,3A1,1,0,0,0,9,5h1.5a.25.25,0,0,1,.25.25v13.5a.25.25,0,0,1-.25.25Z\"\n              />\n            </g>\n          </defs>\n        </svg>\n        <table className=\"vf-table vf-table--striped\">\n          <thead className=\"vf-table__header\">\n            <tr className=\"vf-table__row\">\n              {headers ? (\n                headers.map((header, index) => {\n                  return (\n                    <th key={index} className=\"vf-table__heading\">\n                      {header}\n                    </th>\n                  );\n                })\n              ) : (\n                <th />\n              )}\n            </tr>\n          </thead>\n          <tbody className=\"vf-table__body\">\n            {data ? (\n              data.map((data, index) => {\n                return (\n                  <tr key={index} className=\"vf-table__row\">\n                    {headers ? (\n                      headers.map(header => (\n                        <td key={header} className=\"vf-table__cell\">\n                          {data[header]}\n                        </td>\n                      ))\n                    ) : (\n                      <td />\n                    )}\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <td>\n                  <img alt=\"progress\" src=\"progressbar.gif\" />\n                  <h4>Loading data...</h4>\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n};\n\nexport default FAIRDownload;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\n\r\nimport DomainList from '../components/domain-list/DomainList';\r\nimport Courses from './courses/Courses';\r\nimport ProfileList from './ProfileList';\r\nimport PathwaysList from './PathwaysList';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport CompetencyService from '../services/competency/competency';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat, removeHtmlTags } from '../services/util/util';\r\nimport FAIRDownload from '../components/FAIRDownload';\r\nimport CoursesService from '../services/courses/courses';\r\nimport ProfilePanel from './competency-nested-components/ProfilePanel';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\n\r\nclass CompetencyList extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.shape({\r\n      match: PropTypes.shape({ framework: PropTypes.string })\r\n    })\r\n  };\r\n\r\n  competencyService = new CompetencyService();\r\n  activeRequests = new ActiveRequestsService();\r\n  coursesService = new CoursesService();\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkVersion: '',\r\n    frameworkName: '',\r\n    frameworkStatus: '',\r\n    frameworkDescription: '',\r\n    versions: [],\r\n    domains: [],\r\n    filter: '',\r\n    filteredDomains: [],\r\n    loadingError: false,\r\n    trainingResourcesExist: false,\r\n    profileCount: 0,\r\n    pathwayCount: 0,\r\n    attributeTypes: [],\r\n    allResourcesFetched: false,\r\n    visibleTabs: [],\r\n    selectedTabIndex: 0\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework, version: frameworkVersion } = props.match.params;\r\n    if (\r\n      framework !== state.framework ||\r\n      frameworkVersion !== state.frameworkVersion\r\n    ) {\r\n      return {\r\n        framework,\r\n        frameworkVersion,\r\n        domains: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async setCurrentTab() {\r\n    let visibleTabs = [];\r\n    if (localStorage.getItem('roles') || this.state.profileCount > 0) {\r\n      visibleTabs.push('career-profiles');\r\n    }\r\n    if (localStorage.getItem('roles') || this.state.pathwayCount > 0) {\r\n      visibleTabs.push('learning-pathways');\r\n    }\r\n    visibleTabs.push('competencies');\r\n    if (this.state.trainingResourcesExist) {\r\n      visibleTabs.push('training-resources');\r\n    }\r\n    visibleTabs.push('export');\r\n    await this.setState({ visibleTabs: visibleTabs });\r\n    let currentUrl = window.location.href;\r\n    let selectedTabIndex = 0;\r\n    for (let i = 0; i < this.state.visibleTabs.length; i++) {\r\n      if (currentUrl.includes(this.state.visibleTabs[i])) {\r\n        selectedTabIndex = i;\r\n      }\r\n    }\r\n    this.setState({\r\n      selectedTabIndex: selectedTabIndex\r\n    });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, version: frameworkVersion } = this.props.match.params;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        await this.fetchFramework(framework, frameworkVersion),\r\n        await this.fetchVersions(framework),\r\n        await this.fetchProfiles(),\r\n        await this.fetchPathways(),\r\n        await this.coursesService\r\n          .checkForTrainingResources(1, '', 'All', framework)\r\n          .then(count => {\r\n            if (count > 0) {\r\n              this.setState({\r\n                trainingResourcesExist: true\r\n              });\r\n            }\r\n          })\r\n      ]).then(() => {\r\n        this.setState({\r\n          allResourcesFetched: true\r\n        });\r\n        this.setCurrentTab();\r\n      });\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkVersion, domains, loadingError } = this.state;\r\n    if (\r\n      framework !== prevState.framework ||\r\n      frameworkVersion !== prevState.frameworkVersion\r\n    ) {\r\n      if (domains.length === 0 && !loadingError) {\r\n        try {\r\n          this.activeRequests.startRequest();\r\n          await this.fetchFramework(framework, frameworkVersion);\r\n        } catch (error) {\r\n          this.setState({ loadingError: true });\r\n        } finally {\r\n          this.activeRequests.finishRequest();\r\n        }\r\n      }\r\n      this.fetchProfiles();\r\n      this.fetchPathways();\r\n    }\r\n  }\r\n\r\n  fetchProfiles() {\r\n    const { framework, frameworkVersion } = this.state;\r\n    fetch(\r\n      `${apiUrl}/api/${framework}/${frameworkVersion}/profiles?_format=json&timestamp=${Date.now()}`\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findResponse => {\r\n        this.setState({\r\n          profileCount: findResponse.filter(\r\n            item => item.publishing_status === 'Live'\r\n          ).length\r\n        });\r\n      });\r\n  }\r\n\r\n  fetchPathways() {\r\n    const { framework } = this.state;\r\n    fetch(\r\n      `${apiUrl}/api/${framework}/pathways?_format=json&timestamp=${Date.now()}`\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findResponse => {\r\n        this.setState({\r\n          pathwayCount: findResponse.filter(\r\n            item => item.publishing_status === true\r\n          ).length\r\n          //pathwayCount: findResponse.length\r\n        });\r\n      });\r\n  }\r\n\r\n  async fetchFramework(framework, frameworkVersion) {\r\n    window.scroll(0, 0);\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      frameworkVersion\r\n    );\r\n    const domains = safeFlat(frameworkData.map(item => item.domains));\r\n    const frameworkDescription = removeHtmlTags(frameworkData[0].description);\r\n\r\n    this.setState({\r\n      frameworkName: frameworkData[0].title,\r\n      //frameworkStatus: frameworkData[0].status,\r\n      frameworkDescription,\r\n      domains,\r\n      filteredDomains: domains,\r\n      frameWorkId: frameworkData[0].nid\r\n    });\r\n\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase().replace(/ /g, '') === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const versionStatus = currentFramework[0].versions.filter(\r\n        vr => vr.number === frameworkVersion\r\n      );\r\n      this.setState({ frameworkStatus: versionStatus[0].status });\r\n      let attrTypes = currentFramework[0].attribute_types.map(\r\n        type => type.title\r\n      );\r\n      this.setState({ attributeTypes: attrTypes });\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase().replace(/ /g, '') === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { domains } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredDomains = domains.map(domain => {\r\n      const filteredCompetencies = domain.competencies.filter(competency =>\r\n        term.test(competency.title)\r\n      );\r\n      if (filteredCompetencies.length === 0) {\r\n        return null;\r\n      }\r\n      return { ...domain, competencies: filteredCompetencies };\r\n    });\r\n    this.setState({ filter, filteredDomains });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkVersion,\r\n      frameworkName,\r\n      frameWorkId,\r\n      frameworkStatus,\r\n      frameworkDescription,\r\n      filteredDomains,\r\n      versions,\r\n      filter,\r\n      loadingError,\r\n      attributeTypes\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    const domainList = filteredDomains.map(domain =>\r\n      domain === null ? null : (\r\n        <DomainList\r\n          key={domain.nid}\r\n          framework={framework}\r\n          domain={domain}\r\n          disable={true}\r\n          version={frameworkVersion}\r\n          attributeTypes={attributeTypes}\r\n        />\r\n      )\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <h1 style={{ color: '#000000' }}>{frameworkName}</h1>\r\n        <p>\r\n          <span className=\"vf-badge\">{frameworkVersion}</span>\r\n          <span className=\"vf-badge vf-badge--primary\"> {frameworkStatus}</span>\r\n        </p>\r\n        <p>{frameworkDescription}</p>\r\n\r\n        {this.state.allResourcesFetched ? (\r\n          <Tabs\r\n            className=\"vf-tabs ch_tabs__list\"\r\n            selectedIndex={this.state.selectedTabIndex}\r\n            onSelect={index =>\r\n              this.setState({\r\n                selectedTabIndex: index\r\n              })\r\n            }\r\n          >\r\n            <TabList className=\"vf-tabs__list\">\r\n              {localStorage.getItem('roles') ? (\r\n                <Tab>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/career-profiles`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Career profiles\r\n                  </Link>\r\n                </Tab>\r\n              ) : this.state.profileCount > 0 ? (\r\n                <Tab>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/career-profiles`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Career profiles\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n              {localStorage.getItem('roles') ? (\r\n                <Tab>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/learning-pathways`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Learning pathways\r\n                  </Link>\r\n                </Tab>\r\n              ) : this.state.pathwayCount > 0 ? (\r\n                <Tab>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/learning-pathways`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Learning pathways\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              <Tab>\r\n                <Link\r\n                  to={`/framework/${framework}/${\r\n                    this.props.match.params.version\r\n                  }/competencies`}\r\n                  className=\"customTabLinks\"\r\n                >\r\n                  Competencies\r\n                </Link>\r\n              </Tab>\r\n\r\n              {this.state.trainingResourcesExist ? (\r\n                <Tab>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/training-resources`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Training resources\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <Tab>\r\n                <Link\r\n                  to={`/framework/${framework}/${\r\n                    this.props.match.params.version\r\n                  }/export`}\r\n                  className=\"customTabLinks\"\r\n                >\r\n                  Export\r\n                </Link>\r\n              </Tab>\r\n            </TabList>\r\n\r\n            {localStorage.getItem('roles') ? (\r\n              <TabPanel>\r\n                <ProfileList framework={framework} version={frameworkVersion} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n              </TabPanel>\r\n            ) : this.state.profileCount > 0 ? (\r\n              <TabPanel>\r\n                <ProfileList framework={framework} version={frameworkVersion} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {localStorage.getItem('roles') ? (\r\n              <TabPanel>\r\n                <PathwaysList framework={framework} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n              </TabPanel>\r\n            ) : this.state.pathwayCount > 0 ? (\r\n              <TabPanel>\r\n                <PathwaysList framework={framework} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <TabPanel>\r\n              <form\r\n                action=\"#\"\r\n                className=\"vf-form | vf-search vf-search--inline\"\r\n              >\r\n                <div className=\"vf-form__item | vf-search__item\">\r\n                  <label\r\n                    className=\"vf-form__label vf-u-sr-only | vf-search__label\"\r\n                    htmlFor=\"inlinesearchitem\"\r\n                  >\r\n                    Inline search\r\n                  </label>\r\n                  <input\r\n                    type=\"search\"\r\n                    placeholder=\"Filter competencies\"\r\n                    id=\"inlinesearchitem\"\r\n                    className=\"vf-form__input | vf-search__input\"\r\n                    onChange={event => this.onFilter(event.target.value)}\r\n                    value={filter}\r\n                  />\r\n                </div>\r\n              </form>\r\n              <table>{domainList}</table>\r\n              <FrameworkVersions framework={framework} versions={versions} />\r\n            </TabPanel>\r\n\r\n            {this.state.trainingResourcesExist ? (\r\n              <TabPanel>\r\n                <Courses\r\n                  framework={framework}\r\n                  version={frameworkVersion}\r\n                  frameworkId={frameWorkId}\r\n                />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <TabPanel>\r\n              <FAIRDownload />\r\n              <FrameworkVersions framework={framework} versions={versions} />\r\n            </TabPanel>\r\n          </Tabs>\r\n        ) : (\r\n          <div>\r\n            <div className=\"vf-u-margin__top--200\" />\r\n            <span>Fetching data...</span>\r\n            <img\r\n              alt=\"progress\"\r\n              style={{ width: '7%' }}\r\n              src=\"/progressbar.gif\"\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CompetencyList;\r\n","import React, { Children, Component } from 'react';\nimport { TabPanel } from 'react-tabs';\n\nclass ProfilePanel extends Component {\n  render() {\n    alert(123);\n    return (\n      <TabPanel>\n        <Children />\n      </TabPanel>\n    );\n  }\n}\n\nexport default ProfilePanel;\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport CKEditor from 'react-ckeditor-component';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nclass ResourceEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      path: this.props.location.pathname.split('/'),\r\n      nid: '',\r\n      title: '',\r\n      dates: '',\r\n      dates2: '',\r\n      type: '',\r\n      description: '',\r\n      location: '',\r\n      url: '',\r\n      target_audience: '',\r\n      learning_outcomes: '',\r\n      keywords: '',\r\n      organisers: '',\r\n      trainers: ''\r\n    };\r\n    this.redirectTo = this.redirectTo.bind(this);\r\n  }\r\n\r\n  changeDescription(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ description: newContent });\r\n  }\r\n\r\n  changeTargetAudience(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ target_audience: newContent });\r\n  }\r\n\r\n  changeLearningOutcomes(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ learning_outcomes: newContent });\r\n  }\r\n\r\n  changeOrganisers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ organisers: newContent });\r\n  }\r\n\r\n  changeTrainers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ trainers: newContent });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ nid: this.state.path[3] });\r\n\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    let fetchResource = `${apiUrl}/node/${this.state.path[3]}?_format=json`;\r\n    //let fetchResource = `${apiUrl}/api/v1/training-resources/all?_format=json`;\r\n    //let fetchResource = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\r\n    fetch(fetchResource)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          data: findresponse\r\n        });\r\n      });\r\n  }\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n    //console.log(localStorage.getItem('roles'));\r\n  }\r\n\r\n  redirectTo() {\r\n    //alert(this.state.nid)\r\n    this.props.history.push('/training-resources/' + this.state.nid);\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    let nid = '';\r\n    let title = '';\r\n    let dates = '';\r\n    let dates2 = '';\r\n    let type = '';\r\n    let description = '';\r\n    let location = '';\r\n    let url = '';\r\n    let target_audience = '';\r\n    let learning_outcomes = '';\r\n    let keywords = '';\r\n    let organisers = '';\r\n    let trainers = '';\r\n\r\n    //this.state.data.forEach(item => {\r\n    //  if (item.id === this.state.nid) {\r\n    if (this.state.data.nid) {\r\n      let item = this.state.data;\r\n      nid = item.nid[0].value;\r\n      title = item.title[0].value;\r\n      dates = item.field_dates[0] ? item.field_dates[0].value : null;\r\n      dates2 = item.field_end_date[0] ? item.field_end_date[0].value : null;\r\n      type = item.field_type[0].value;\r\n      description = item.field_description[0]\r\n        ? item.field_description[0].value\r\n        : null;\r\n      location = item.field_location[0] ? item.field_location[0].value : null;\r\n      url = item.field_url[0] ? item.field_url[0].value : null;\r\n      target_audience = item.field_target_audience[0]\r\n        ? item.field_target_audience[0].value\r\n        : null;\r\n      learning_outcomes = item.field_learning_outcomes[0]\r\n        ? item.field_learning_outcomes[0].value\r\n        : null;\r\n      keywords = item.field_domain_topics[0]\r\n        ? item.field_domain_topics[0].value\r\n        : null;\r\n      organisers = item.field_organisers[0]\r\n        ? item.field_organisers[0].value\r\n        : null;\r\n      trainers = item.field_trainers[0] ? item.field_trainers[0].value : null;\r\n      //console.log(item.nid[0].value)\r\n    }\r\n\r\n    //  }\r\n    //});\r\n    if (this.state.data.nid) {\r\n      console.log(dates);\r\n      return (\r\n        <EditForm\r\n          nid={nid}\r\n          title={title}\r\n          dates={dates}\r\n          dates2={dates2}\r\n          type={type}\r\n          description={description}\r\n          location={location}\r\n          url={url}\r\n          target_audience={target_audience}\r\n          learning_outcomes={learning_outcomes}\r\n          keywords={keywords}\r\n          organisers={organisers}\r\n          trainers={trainers}\r\n          redirectTo={this.redirectTo}\r\n        />\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nclass EditForm extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nid: this.props.nid,\r\n      title: this.props.title,\r\n      dates: this.props.dates,\r\n      dates2: this.props.dates2,\r\n      type: this.props.type,\r\n      description: this.props.description,\r\n      location: this.props.location,\r\n      url: this.props.url,\r\n      target_audience: this.props.target_audience,\r\n      learning_outcomes: this.props.learning_outcomes,\r\n      keywords: this.props.keywords,\r\n      organisers: this.props.organisers,\r\n      trainers: this.props.trainers,\r\n      redirect: false,\r\n      updateFlag: false,\r\n      csrf: ''\r\n    };\r\n    this.handleTitle = this.handleTitle.bind(this);\r\n    this.handleDates = this.handleDates.bind(this);\r\n    this.handleDates2 = this.handleDates2.bind(this);\r\n    this.handleType = this.handleType.bind(this);\r\n    this.handleDesc = this.handleDesc.bind(this);\r\n    this.handleLocation = this.handleLocation.bind(this);\r\n    this.handleURL = this.handleURL.bind(this);\r\n    this.handleTargetAudience = this.handleTargetAudience.bind(this);\r\n    this.handleLearningOutcomes = this.handleLearningOutcomes.bind(this);\r\n    this.handleKeywords = this.handleKeywords.bind(this);\r\n    this.handleOrganisers = this.handleOrganisers.bind(this);\r\n    this.handleTrainers = this.handleTrainers.bind(this);\r\n    //this.redirectTo = this.redirectTo.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n  }\r\n\r\n  static contextTypes = {\r\n    router: PropTypes.object\r\n  };\r\n\r\n  handleTitle(event) {\r\n    this.setState({ title: event.value });\r\n  }\r\n\r\n  handleDates(event) {\r\n    this.setState({ dates: event.value });\r\n  }\r\n\r\n  handleDates2(event) {\r\n    this.setState({ dates2: event.value });\r\n  }\r\n\r\n  handleType(event) {\r\n    this.setState({ type: event.value });\r\n  }\r\n\r\n  handleDesc(event) {\r\n    this.setState({ description: event.editor.getData() });\r\n    //this.setState({ description: \"test\" });\r\n    //console.log(this.setState({ description: event.editor.getData() }));\r\n  }\r\n  handleLocation(event) {\r\n    this.setState({ location: event.value });\r\n  }\r\n  handleURL(event) {\r\n    this.setState({ url: event.value });\r\n  }\r\n\r\n  handleTargetAudience(event) {\r\n    this.setState({ target_audience: event.editor.getData() });\r\n    //this.setState({ target_audience: \"test\" });\r\n  }\r\n\r\n  handleLearningOutcomes(event) {\r\n    this.setState({ learning_outcomes: event.editor.getData() });\r\n    //this.setState({ learning_outcomes: \"hi\" });\r\n  }\r\n\r\n  handleKeywords(event) {\r\n    this.setState({ keywords: event.value });\r\n  }\r\n\r\n  handleOrganisers(event) {\r\n    this.setState({ organisers: event.editor.getData() });\r\n    //this.setState({ organisers: \"test\" });\r\n  }\r\n\r\n  handleTrainers(event) {\r\n    this.setState({ trainers: event.editor.getData() });\r\n    //this.setState({ trainers: \"test\" });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.props.history.push('all-training-resources');\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      // setTimeout(() => {\r\n      //  // this.props.redirectTo()\r\n      // }, 1000);\r\n      //await this.handleSubmit();\r\n      //this.props.redirectTo();\r\n    }\r\n  }\r\n\r\n  dateValidate(d1, d2) {\r\n    let date1 = new Date(d1);\r\n    let date2 = new Date(d2);\r\n\r\n    if (date1 > date2) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    let resourceID = this.state.nid;\r\n    let title = this.refs.title.value;\r\n    let dates = this.refs.dates.value;\r\n    let dates2 = this.refs.dates2.value;\r\n\r\n    let type = this.refs.type.value;\r\n    let description = this.state.description;\r\n    let location = this.refs.location.value;\r\n    let url = this.refs.url.value;\r\n    let target_audience = this.state.target_audience;\r\n    let learning_outcomes = this.state.learning_outcomes;\r\n    let organisers = this.state.organisers;\r\n    let trainers = this.state.trainers;\r\n    let keywords = this.refs.keywords.value;\r\n    let csrf = localStorage.getItem('csrf_token');\r\n\r\n    if (this.dateValidate(dates, dates2)) {\r\n      await fetch(`${apiUrl}/node/` + resourceID + '?_format=hal_json', {\r\n        method: 'PATCH',\r\n        credentials: 'include',\r\n        cookies: 'x-access-token',\r\n        headers: {\r\n          Accept: 'application/hal+json',\r\n          'Content-Type': 'application/hal+json',\r\n          'X-CSRF-Token': csrf\r\n          //Authorization: 'Basic'\r\n        },\r\n        body: JSON.stringify({\r\n          _links: {\r\n            type: {\r\n              href: `${apiUrl}/rest/type/node/training_resource`\r\n            }\r\n          },\r\n          title: [\r\n            {\r\n              value: title\r\n            }\r\n          ],\r\n          field_dates: [\r\n            {\r\n              value: dates ? dates : null\r\n            }\r\n          ],\r\n          field_end_date: [\r\n            {\r\n              value: dates2 ? dates2 : null\r\n            }\r\n          ],\r\n          field_type: [\r\n            {\r\n              value: type\r\n            }\r\n          ],\r\n          field_description: [\r\n            {\r\n              value: description,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_location: [\r\n            {\r\n              value: location\r\n            }\r\n          ],\r\n          field_url: [\r\n            {\r\n              value: url\r\n            }\r\n          ],\r\n          field_target_audience: [\r\n            {\r\n              value: target_audience,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_learning_outcomes: [\r\n            {\r\n              value: learning_outcomes,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_domain_topics: [\r\n            {\r\n              value: keywords\r\n            }\r\n          ],\r\n          field_organisers: [\r\n            {\r\n              value: organisers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_trainers: [\r\n            {\r\n              value: trainers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          type: [\r\n            {\r\n              target_id: 'training_resource'\r\n            }\r\n          ]\r\n        })\r\n      });\r\n      // setTimeout(() => {\r\n      //   this.props.redirectTo();\r\n      // }, 1000);\r\n      this.props.redirectTo();\r\n    } else {\r\n      alert('Incorrect dates');\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Edit Training Resources</h2>\r\n        <p>(* fields are mandatory)</p>\r\n        <div className=\"row\">\r\n          <div className=\"column large-12 callout\">\r\n            <form\r\n              className=\"vf-form\"\r\n              id={'resource_edit_form'}\r\n              onSubmit={this.handleSubmit.bind(this)}\r\n            >\r\n              <div className=\"vf-form__item\">\r\n                <strong>Title *</strong>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"title\"\r\n                  id={'title'}\r\n                  value={this.state.title}\r\n                  onChange={this.handleTitle.bind(this)}\r\n                  required\r\n                  placeholder=\"Title\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-grid\">\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    ref=\"dates\"\r\n                    value={this.state.dates}\r\n                    onChange={this.handleDates.bind(this)}\r\n                    placeholder=\"Date\"\r\n                    className=\"vf-form__input\"\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    ref=\"dates2\"\r\n                    value={this.state.dates2}\r\n                    onChange={this.handleDates2.bind(this)}\r\n                    placeholder=\"Date\"\r\n                    className=\"vf-form__input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n\r\n              <div className=\"vf-form__item\">\r\n                <strong>Event type *</strong>\r\n                <select\r\n                  ref={'type'}\r\n                  value={this.state.type}\r\n                  onChange={this.handleType.bind(this)}\r\n                  className=\"vf-form__select\"\r\n                >\r\n                  <option value={'Online'}>Online</option>\r\n                  <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                  <option value={'Webinar'}>Webinar</option>\r\n                  <option value={'Hackathon'}>Hackathon</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Description</strong>\r\n                <CKEditor\r\n                  content={this.state.description}\r\n                  events={{\r\n                    change: this.handleDesc\r\n                  }}\r\n                  onChange={this.handleDesc}\r\n                  activeClass=\"p10\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Location</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"location\"\r\n                  value={this.state.location}\r\n                  onChange={this.handleLocation.bind(this)}\r\n                  placeholder=\"Location\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>URL *</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"url\"\r\n                  value={this.state.url}\r\n                  onChange={this.handleURL.bind(this)}\r\n                  required\r\n                  placeholder=\"URL\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Target audience</strong>\r\n                <CKEditor\r\n                  content={this.state.target_audience}\r\n                  events={{\r\n                    change: this.handleTargetAudience\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Learning outcomes</strong>\r\n                <CKEditor\r\n                  content={this.state.learning_outcomes}\r\n                  events={{\r\n                    change: this.handleLearningOutcomes\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Organisers</strong>\r\n                <CKEditor\r\n                  content={this.state.organisers}\r\n                  events={{\r\n                    change: this.handleOrganisers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Trainers</strong>\r\n                <CKEditor\r\n                  content={this.state.trainers}\r\n                  events={{\r\n                    change: this.handleTrainers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Keywords</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"keywords\"\r\n                  value={this.state.keywords}\r\n                  onChange={this.handleKeywords.bind(this)}\r\n                  placeholder=\"Keywords\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"vf-button vf-button--primary vf-button--sm\"\r\n                  value=\"Update\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst EditResources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resource/edit/:nid\" component={ResourceEdit} />\r\n  </Switch>\r\n);\r\n\r\nexport default EditResources;\r\n","import React from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport CKEditor from 'react-ckeditor-component';\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ResourceCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //this.onChange = this.onChange.bind(this);\r\n    this.changeDescription = this.changeDescription.bind(this);\r\n    this.changeTargetAudience = this.changeTargetAudience.bind(this);\r\n    this.changeLearningOutcomes = this.changeLearningOutcomes.bind(this);\r\n    this.changeOrganisers = this.changeOrganisers.bind(this);\r\n    this.changeTrainers = this.changeTrainers.bind(this);\r\n\r\n    this.state = {\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      content: 'content',\r\n      description: '',\r\n      target_audience: '',\r\n      learning_outcomes: '',\r\n      organisers: '',\r\n      trainers: ''\r\n    };\r\n  }\r\n\r\n  changeDescription(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ description: newContent });\r\n  }\r\n\r\n  changeTargetAudience(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ target_audience: newContent });\r\n  }\r\n\r\n  changeLearningOutcomes(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ learning_outcomes: newContent });\r\n  }\r\n\r\n  changeOrganisers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ organisers: newContent });\r\n  }\r\n\r\n  changeTrainers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ trainers: newContent });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      setTimeout(() => {\r\n        this.props.history.push('/all-training-resources');\r\n        //this.setState({'updateFlag': false});\r\n      }, 1000);\r\n\r\n      console.log('componentDidUpdate');\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n    console.log(localStorage.getItem('roles'));\r\n  }\r\n\r\n  componentDidMount() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n  }\r\n\r\n  dateValidate(d1, d2) {\r\n    let date1 = new Date(d1);\r\n    let date2 = new Date(d2);\r\n\r\n    if (date1 > date2) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let title = this.refs.title.value;\r\n    let dates = this.refs.dates.value;\r\n    let dates2 = this.refs.dates2.value;\r\n    let type = 'Online';\r\n    if (this.refs.type.value) {\r\n      type = this.refs.type.value;\r\n    }\r\n\r\n    let description = this.state.description;\r\n    let location = this.refs.location.value;\r\n    let url = this.refs.url.value;\r\n    let target_audience = this.state.target_audience;\r\n    let learning_outcomes = this.state.learning_outcomes;\r\n    let keywords = this.refs.keywords.value;\r\n    let organisers = this.state.organisers;\r\n    let trainers = this.state.trainers;\r\n\r\n    let token = localStorage.getItem('csrf_token');\r\n\r\n    //alert(learning_outcomes);\r\n    if (this.dateValidate(dates, dates2)) {\r\n      fetch(`${apiUrl}/node?_format=hal_json`, {\r\n        credentials: 'include',\r\n        method: 'POST',\r\n        cookies: 'x-access-token',\r\n        headers: {\r\n          Accept: 'application/hal+json',\r\n          'Content-Type': 'application/hal+json',\r\n          'X-CSRF-Token': token,\r\n          Authorization: 'Basic'\r\n        },\r\n        body: JSON.stringify({\r\n          _links: {\r\n            type: {\r\n              href: `${apiUrl}/rest/type/node/training_resource`\r\n            }\r\n          },\r\n          title: [\r\n            {\r\n              value: title\r\n            }\r\n          ],\r\n          field_dates: [\r\n            {\r\n              value: dates ? dates : null\r\n            }\r\n          ],\r\n          field_end_date: [\r\n            {\r\n              value: dates2 ? dates2 : null\r\n            }\r\n          ],\r\n          field_type: [\r\n            {\r\n              value: type\r\n            }\r\n          ],\r\n          field_description: [\r\n            {\r\n              value: description,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_location: [\r\n            {\r\n              value: location\r\n            }\r\n          ],\r\n          field_url: [\r\n            {\r\n              value: url\r\n            }\r\n          ],\r\n          field_target_audience: [\r\n            {\r\n              value: target_audience,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_learning_outcomes: [\r\n            {\r\n              value: learning_outcomes,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_domain_topics: [\r\n            {\r\n              value: keywords\r\n            }\r\n          ],\r\n          field_organisers: [\r\n            {\r\n              value: organisers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_trainers: [\r\n            {\r\n              value: trainers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n\r\n          type: [\r\n            {\r\n              target_id: 'training_resource'\r\n            }\r\n          ]\r\n        })\r\n      })\r\n        .then(response => response.json())\r\n        .then(data =>\r\n          this.props.history.push(`/training-resources/${data.nid[0].value}`)\r\n        );\r\n    } else {\r\n      alert('Incorrect dates');\r\n    }\r\n\r\n    //event.target.reset();\r\n    //this.setState({ updateFlag: true });\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    return (\r\n      <div>\r\n        <p>\r\n          <nav>\r\n            <Link to={`/`}>Home</Link> /{' '}\r\n            <Link to={`/all-training-resources`}>All training resources</Link> /\r\n            Create resource{' '}\r\n          </nav>\r\n        </p>\r\n        <h2>Create Training Resource</h2>\r\n        <p>(* fields are mandatory)</p>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"column large-12 callout\">\r\n            <form\r\n              className=\"vf-form\"\r\n              id={'resource_create_form'}\r\n              onSubmit={this.handleSubmit.bind(this)}\r\n            >\r\n              <div className=\"vf-form__item\">\r\n                <strong>Title *</strong>\r\n                <input\r\n                  className=\"vf-form__input\"\r\n                  type=\"text\"\r\n                  ref=\"title\"\r\n                  required\r\n                  placeholder=\"Title\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-grid\">\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Start Date</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"vf-form__input\"\r\n                    ref=\"dates\"\r\n                    placeholder=\"Date\"\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item\">\r\n                  <strong>End Date</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"vf-form__input\"\r\n                    ref=\"dates2\"\r\n                    placeholder=\"Date\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Event type *</strong>\r\n                <select className=\"vf-form__select\" ref={'type'}>\r\n                  <option value={'Online'}>Online</option>\r\n                  <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                  <option value={'Webinar'}>Webinar</option>\r\n                  <option value={'Hackathon'}>Hackathon</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Description</strong>\r\n                <CKEditor\r\n                  content={this.state.description}\r\n                  events={{\r\n                    change: this.changeDescription\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Location</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"location\"\r\n                  placeholder=\"Location\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>URL *</strong>\r\n                <input\r\n                  type=\"url\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"url\"\r\n                  required\r\n                  placeholder=\"URL\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Target audience</strong>\r\n                <CKEditor\r\n                  content={this.state.target_audience}\r\n                  events={{\r\n                    change: this.changeTargetAudience\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Learning outcomes</strong>\r\n                <CKEditor\r\n                  content={this.state.learning_outcomes}\r\n                  events={{\r\n                    change: this.changeLearningOutcomes\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Organisers</strong>\r\n                <CKEditor\r\n                  content={this.state.organisers}\r\n                  events={{\r\n                    change: this.changeOrganisers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Trainers</strong>\r\n                <CKEditor\r\n                  content={this.state.trainers}\r\n                  events={{\r\n                    change: this.changeTrainers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Keywords</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"keywords\"\r\n                  placeholder=\"Keywords\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"vf-button vf-button--primary\"\r\n                  value=\"Submit\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CreateResources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resource/create\" component={ResourceCreate} />\r\n  </Switch>\r\n);\r\n\r\nexport default CreateResources;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nconst $ = window.$;\r\n\r\nclass AttributeMap extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      //framework: this.props.selectedFramework,\r\n      //resourceID: this.props.resourceID,\r\n      framework: this.props.location.pathname.split('/')[4].replace(/ /g, ''),\r\n      framework_id: '',\r\n      resourceID: this.props.location.pathname.split('/')[2],\r\n      frameworkdetails: [],\r\n      csrf: '',\r\n      frameworkUUID: '',\r\n      competencies: [],\r\n      //attributes: this.props.selectedAttributes,\r\n      //selectedAttributes: this.props.selectedAttributes,\r\n      selectedAttributes: [],\r\n      //selectedCompetencies: this.props.selectedCompetencies,\r\n      resourceDetails: '',\r\n      resourcePath: this.props.location.pathname.split('/')\r\n    };\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    //this.loadSelectedAttributes = this.loadSelectedAttributes.bind(this);\r\n  }\r\n\r\n  async handleSelect() {\r\n    let checkedAttributes = this.state.selectedAttributes;\r\n    let framework_id = this.state.framework_id;\r\n    let attributeIDs = [];\r\n    //let token = localStorage.getItem('csrf_token');\r\n    for (let i = 0; i < checkedAttributes.length; i++) {\r\n      attributeIDs.push(checkedAttributes[i].split('id', 2));\r\n    }\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.competencyService.attrmap(\r\n          this.state.resourceID,\r\n          attributeIDs,\r\n          framework_id\r\n        )\r\n      ]);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n      this.props.history.push('/training-resources/' + this.state.resourceID);\r\n    }\r\n  }\r\n\r\n  handleAllCheck(id, uuid, e) {\r\n    const selectedAttributes = this.state.selectedAttributes;\r\n    let childItems = document.getElementsByName(id);\r\n    if (e.target.checked) {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        childItems[i].checked = true;\r\n        selectedAttributes.push(\r\n          // childItems[i].getAttribute('data-uuid') +\r\n          //   'id' +\r\n          childItems[i].getAttribute('data-id')\r\n        );\r\n        this.setState({ selectedAttributes });\r\n        //console.log(this.state.selectedAttributes);\r\n      }\r\n    } else {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        if (childItems[i].checked === true) {\r\n          childItems[i].checked = false;\r\n          //selectedAttributes.pop(childItems[i].getAttribute('data-id'));\r\n          //let index = array.indexOf(element);\r\n          selectedAttributes.splice(\r\n            selectedAttributes.indexOf(childItems[i]),\r\n            1\r\n          );\r\n          this.setState({ selectedAttributes });\r\n          //console.log(this.state.selectedAttributes);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAttributeClick(id, uuid, e) {\r\n    let selectedAttributes = this.state.selectedAttributes;\r\n    //let selectedAttributes =\r\n    let isChecked = e.target.checked;\r\n    if (isChecked) {\r\n      //selectedAttributes.push(uuid + 'id' + id);\r\n      selectedAttributes.push(id);\r\n      this.setState({ selectedAttributes });\r\n      document.getElementById(e.target.name).checked = true;\r\n      console.log(selectedAttributes);\r\n    } else {\r\n      //selectedAttributes.pop(id);\r\n      selectedAttributes.splice(selectedAttributes.indexOf(id), 1);\r\n      this.setState({ selectedAttributes });\r\n      if (!$(':checkbox[name=' + e.target.name + ']').is(':checked')) {\r\n        document.getElementById(e.target.name).checked = false;\r\n        //console.log(this.state.selectedAttributes);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleListAllChecked(e) {\r\n    let lists = [];\r\n    $(':checkbox').each(function() {\r\n      if ($(this).is(':checked')) {\r\n        lists.push($(this).attr('id'));\r\n      }\r\n    });\r\n    alert(lists);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch(\r\n      `${apiUrl}` +\r\n        '/api/resources/?_format=hal_json&id=' +\r\n        this.state.resourceID +\r\n        '&timestamp=' +\r\n        Date.now()\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resourceDetails: findresponse\r\n        });\r\n      });\r\n\r\n    console.log(this.state.resourceDetails);\r\n\r\n    let selectedAttributes = [];\r\n    this.state.resourceDetails.competency_profile.map(profile => {\r\n      //if(profile.title.toLowerCase() == this.state.framewor  k){\r\n      profile.domains.map(domain => {\r\n        domain.competencies.map(competency => {\r\n          competency.attributes.map(attribute => {\r\n            selectedAttributes.push(attribute.id);\r\n            return null;\r\n          });\r\n          return null;\r\n        });\r\n        return null;\r\n      });\r\n      //}\r\n      return null;\r\n    });\r\n\r\n    this.setState({ selectedAttributes: selectedAttributes });\r\n\r\n    //console.log(this.state.framework);\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    let fetchFrameworkDetails = `${apiUrl}/api/version_manager?_format=json&timestamp=${Date.now()}`;\r\n    await fetch(fetchFrameworkDetails)\r\n      .then(Response => Response.json())\r\n      .then(findresponse1 => {\r\n        this.setState({\r\n          frameworkdetails: findresponse1\r\n        });\r\n      });\r\n\r\n    let latest_version = '';\r\n\r\n    this.state.frameworkdetails.map(detail => {\r\n      if (\r\n        detail.title.toLowerCase().replace(/ /g, '') === this.state.framework\r\n      ) {\r\n        detail.versions.map(version => {\r\n          if (version.status === 'live') {\r\n            latest_version = version.number;\r\n            this.state.framework_id = detail.nid;\r\n            console.log(detail.nid);\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n      return null;\r\n    });\r\n\r\n    console.log(latest_version);\r\n\r\n    let fetchCompetencyList =\r\n      `${apiUrl}` +\r\n      '/api/' +\r\n      this.state.framework +\r\n      '/' +\r\n      latest_version +\r\n      '?_format=json';\r\n\r\n    await fetch(fetchCompetencyList)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          data: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.state.attributes === nextState.attributes;\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.state.data);\r\n    let frameworkDetails = this.state.frameworkdetails;\r\n    let data = this.state.data;\r\n    let frameworkDefs = [];\r\n    let domainsOptions = [];\r\n    let attributeTypeOptions = [];\r\n    let resDetails = this.state.resourceDetails;\r\n    //let resDetails = this.state.resourceDetails;\r\n    let selectedAttributesArray = [];\r\n    let selectedCompetenciesArray = [];\r\n    if (resDetails) {\r\n      resDetails.competency_profile.map(profile => {\r\n        profile.domains.map(domain => {\r\n          domain.competencies.map(competency => {\r\n            selectedCompetenciesArray.push(competency.id);\r\n            competency.attributes.map(attribute => {\r\n              selectedAttributesArray.push(attribute.id);\r\n              return null;\r\n            });\r\n            return null;\r\n          });\r\n          return null;\r\n        });\r\n        return null;\r\n      });\r\n\r\n      //console.log(selectedAttributesArray);\r\n    }\r\n    //this.loadSelectedAttributes();\r\n\r\n    frameworkDetails.forEach((item, ikey) => {\r\n      if (item.title.toLowerCase().replace(/ /g, '') === this.state.framework) {\r\n        //this.state.frameworkUUID = item.uuid;\r\n        item.attribute_types.forEach(attribute_type => {\r\n          frameworkDefs.push(attribute_type.title);\r\n          attributeTypeOptions.push(\r\n            <option data-id={attribute_type.id} value={attribute_type.uuid}>\r\n              {attribute_type.title}\r\n            </option>\r\n          );\r\n        });\r\n        item.domains.forEach(domain => {\r\n          domainsOptions.push(\r\n            <option data-id={domain.id} value={domain.uuid}>\r\n              {domain.title}\r\n            </option>\r\n          );\r\n        });\r\n      }\r\n    });\r\n\r\n    // console.log(data);\r\n\r\n    const ListOfCompetencies = data.map(item =>\r\n      item.domains.map((domain, did) => (\r\n        <tbody>\r\n          <tr key={domain.nid}>\r\n            <td>{did + 1}</td>{' '}\r\n            <td>\r\n              <strong> {domain.title}</strong>{' '}\r\n            </td>{' '}\r\n          </tr>\r\n          {domain.competencies.map((competency, cid) => (\r\n            <tr key={competency.id}>\r\n              <td>\r\n                {did + 1}.{cid + 1}\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type={'checkbox'}\r\n                  defaultChecked={\r\n                    -1 !== selectedCompetenciesArray.indexOf(competency.id)\r\n                  }\r\n                  data-test={competency.uuid}\r\n                  id={competency.id}\r\n                  onChange={this.handleAllCheck.bind(\r\n                    this,\r\n                    competency.id,\r\n                    competency.uuid\r\n                  )}\r\n                />{' '}\r\n                {competency.title}\r\n                <ul style={{ marginLeft: 1 + 'em', marginBottom: 1 + 'em' }}>\r\n                  {frameworkDefs.map(def => {\r\n                    return (\r\n                      <div style={{ marginLeft: 1 + 'em' }}>\r\n                        <div>\r\n                          {' '}\r\n                          <strong>\r\n                            <em>{def}</em>\r\n                          </strong>\r\n                        </div>\r\n                        {competency.attributes\r\n                          .filter(attribute => attribute.type === def)\r\n                          .map(attribute => {\r\n                            return (\r\n                              <li\r\n                                key={attribute.id}\r\n                                style={{ marginLeft: 1 + 'em' }}\r\n                              >\r\n                                <input\r\n                                  type={'checkbox'}\r\n                                  defaultChecked={\r\n                                    -1 !==\r\n                                    selectedAttributesArray.indexOf(\r\n                                      //attribute.uuid + 'id' + attribute.id\r\n                                      attribute.id\r\n                                    )\r\n                                  }\r\n                                  name={competency.id}\r\n                                  data-id={attribute.id}\r\n                                  data-uuid={attribute.uuid}\r\n                                  id={attribute.id}\r\n                                  onChange={this.handleAttributeClick.bind(\r\n                                    this,\r\n                                    attribute.id,\r\n                                    attribute.uuid\r\n                                  )}\r\n                                />{' '}\r\n                                <span className={attribute.archived}>\r\n                                  {' '}\r\n                                  {attribute.title}\r\n                                </span>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          <tr>\r\n            <td>\r\n              <td />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      ))\r\n    );\r\n    console.log(this.state.data);\r\n    return (\r\n      <div>\r\n        <h2>{resDetails.title}</h2>\r\n        <h4>Type: {resDetails.type}</h4>\r\n        <h4>URL: {resDetails.url}</h4>\r\n        <table className={'table'}>{ListOfCompetencies}</table>\r\n        <div id={'footer-button'}>\r\n          <button\r\n            className={'vf-button vf-button--primary vf-button--sm'}\r\n            onClick={this.handleSelect.bind(this)}\r\n          >\r\n            {' '}\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst AttrMap = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path=\"/training-resources/:id/map/:framework\"\r\n      component={AttributeMap}\r\n    />\r\n  </Switch>\r\n);\r\n\r\nexport default AttrMap;\r\n","import React from 'react';\n\nimport Modal from 'react-modal';\nimport { Link } from 'react-router-dom';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\n// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement('#root');\n\nclass ItemVersions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalIsOpen: false\n    };\n\n    this.openModal = this.openModal.bind(this);\n    // this.afterOpenModal = this.afterOpenModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  openModal() {\n    this.setState({ modalIsOpen: true });\n  }\n\n  // afterOpenModal() {\n  //   // references are now sync'd and can be accessed.\n  //   this.subtitle.style.color = '#f00';\n  // }\n\n  closeModal() {\n    this.setState({ modalIsOpen: false });\n  }\n\n  render() {\n    return (\n      <span>\n        <button onClick={this.openModal}>\n          {' '}\n          <i className={'fa fa-question-circle'} />{' '}\n        </button>\n        <Modal\n          isOpen={this.state.modalIsOpen}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModal}\n          style={customStyles}\n          contentLabel=\"Example Modal\"\n        >\n          <button className={'float-right'} onClick={this.closeModal}>\n            <i className={'fa fa-window-close'} />\n          </button>\n          <p />\n          <div className={'callout'}>\n            This item is deprecated in the latest version of this framework.\n            Please see the\n            <Link\n              to={`/framework/${this.props.framework.toLowerCase()}/${\n                this.props.version\n              }`}\n            >\n              {' '}\n              release notes\n            </Link>\n          </div>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default ItemVersions;\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ReactModal from 'react-modal';\r\nimport AttributeMap from './AttributeMap';\r\nimport Parser from 'html-react-parser';\r\nimport ItemVersions from '../containers/framework-versions/VersionNotice';\r\nimport { apiUrl } from '../services/http/http';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ResourceDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resource: [],\r\n      frameworks: [],\r\n      resourcePath: this.props.location.pathname.split('/'),\r\n      showModal: false,\r\n      selectedFramework: '',\r\n      updateFlag: ''\r\n    };\r\n    this.handleOpenModal = this.handleOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n  }\r\n\r\n  handleOpenModal(event, temp) {\r\n    this.setState({ showModal: true });\r\n    this.setState({ selectedFramework: event });\r\n    temp.preventDefault();\r\n    //console.log(event);\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ showModal: false });\r\n    this.setState({ updateFlag: true });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    console.log('location', window.location.href);\r\n\r\n    let training_resource_id = '';\r\n    if (this.props.location.state) {\r\n      training_resource_id = this.props.location.state.training_resource_id;\r\n    } else {\r\n      const url = new URL(window.location.href);\r\n      training_resource_id = url.searchParams.get('id');\r\n    }\r\n    console.log('tr id', training_resource_id);\r\n    let resourcesURL = `${apiUrl}/api/resources/?_format=json&id=${training_resource_id}&timestamp=${Date.now()}`;\r\n    // let resourcesURL = `${apiUrl}/api/resources/?_format=json&id=${\r\n    //     this.props.location.state.training_resource_id\r\n    // }&timestamp=${Date.now()}`;\r\n    fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse3 => {\r\n        this.setState({ resource: findresponse3 });\r\n      });\r\n\r\n    //fetch(`${apiUrl}/api/v1/framework?_format=json`)\r\n    fetch(`${apiUrl}/api/version_manager?_format=json`)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  mappingBlock() {\r\n    if (localStorage.getItem('roles')) {\r\n      if (localStorage.getItem('roles').includes('content_manager')) {\r\n        return (\r\n          <div>\r\n            <strong> Manage competency profile </strong>\r\n            <ul>\r\n              {this.state.frameworks.map((item, id) => {\r\n                return (\r\n                  <li style={{ display: 'inline', margin: '5px' }}>\r\n                    <Link\r\n                      to={\r\n                        '/training-resources/' +\r\n                        this.state.resourcePath[2] +\r\n                        '/map/' +\r\n                        item.title.toLowerCase().replace(/ /g, '')\r\n                      }\r\n                    >\r\n                      {' '}\r\n                      <i className=\"fas fa-tags\" /> {item.title}{' '}\r\n                    </Link>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  formatDates(start, end) {\r\n    let months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December'\r\n    ];\r\n\r\n    let start_dt = new Date(start);\r\n    let end_date = new Date(end);\r\n\r\n    let start_day = start_dt.getDate();\r\n    let start_month = start_dt.getMonth();\r\n    let start_year = start_dt.getFullYear();\r\n\r\n    if (end) {\r\n      let end_day = end_date.getDate();\r\n      let end_month = end_date.getMonth();\r\n      let end_year = end_date.getFullYear();\r\n\r\n      if (start_year === end_year) {\r\n        if (start_month === end_month) {\r\n          if (start_day === end_day) {\r\n            return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n          } else {\r\n            return (\r\n              start_day +\r\n              ' - ' +\r\n              end_day +\r\n              ' ' +\r\n              months[start_month] +\r\n              ' ' +\r\n              start_year\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            start_day +\r\n            ' ' +\r\n            months[start_month] +\r\n            ' - ' +\r\n            end_day +\r\n            ' ' +\r\n            months[end_month] +\r\n            ' ' +\r\n            start_year\r\n          );\r\n        }\r\n      } else {\r\n        return (\r\n          start_day +\r\n          ' ' +\r\n          months[start_month] +\r\n          ' ' +\r\n          start_year +\r\n          ' - ' +\r\n          end_day +\r\n          ' ' +\r\n          months[end_month] +\r\n          ' ' +\r\n          end_year\r\n        );\r\n      }\r\n    } else {\r\n      return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      return false;\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  archiveHandle(rid, status, event) {\r\n    console.log(status);\r\n    let archivedStatus = '';\r\n    if (status === 1) {\r\n      archivedStatus = false;\r\n    } else {\r\n      archivedStatus = true;\r\n    }\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        field_archived: [\r\n          {\r\n            value: archivedStatus\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    this.setState({ updateFlag: true });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    let attributes = [];\r\n    let selectedCompetencies = [];\r\n    let attribute_types = [];\r\n    let item = this.state.resource;\r\n    let frameworkLiveVersion = '';\r\n\r\n    let link = '/bioexcel/1.1';\r\n    let check_array = Array.isArray(item.competency_profile);\r\n    const Resource = (\r\n      <>\r\n        <h2>{item.title}</h2>\r\n        <div className=\"vf-grid  vf-grid__col-4\">\r\n          <div className=\"vf-grid__col--span-3\">\r\n            <h3>Overview</h3>\r\n            {item.description ? Parser(item.description) : ''}\r\n\r\n            {item.url ? (\r\n              <p>\r\n                <a href={item.url} target={'_blank'}>\r\n                  <button className=\"vf-button vf-button--primary vf-button--sm\">\r\n                    Go to resource\r\n                  </button>\r\n                </a>\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {item.target_audience\r\n              ? Parser('<h3>Target Audience</h3>' + item.target_audience)\r\n              : ''}\r\n            {item.learning_outcomes\r\n              ? Parser('<h3>Learning Outcomes</h3>' + item.learning_outcomes)\r\n              : ''}\r\n            {item.organisers\r\n              ? Parser('<h3>Organisers</h3>' + item.organisers)\r\n              : ''}\r\n\r\n            {/*{item.trainers ? Parser('<h3>Trainers</h3>' + item.trainers) : ''}*/}\r\n\r\n            <div>\r\n              <h3>Competency Profile</h3>\r\n\r\n              <div>\r\n                {check_array ? (\r\n                  item.competency_profile.map((profile, index) => {\r\n                    return (\r\n                      <div className=\"vf-grid\" key={index}>\r\n                        {this.state.frameworks.map(framework => {\r\n                          if (framework.nid === profile.id) {\r\n                            framework.attribute_types.map(type => {\r\n                              if (attribute_types.indexOf(type.title) === -1) {\r\n                                attribute_types.push(type.title);\r\n                              }\r\n                              return null;\r\n                            });\r\n                            frameworkLiveVersion = framework.versions.find(\r\n                              version => version.status === 'live'\r\n                            );\r\n                          }\r\n\r\n                          return null;\r\n                        })}\r\n                        <div>\r\n                          <h3>{profile.title}</h3>\r\n                        </div>\r\n                        <div>\r\n                          {profile.domains.map((domain, index) => (\r\n                            <div key={index}>\r\n                              <h3>{domain.title}</h3>\r\n                              <ul className=\"vf-list\">\r\n                                {domain.competencies.map(\r\n                                  (competency, index) => (\r\n                                    <li className=\"vf-list__item\" key={index}>\r\n                                      <span\r\n                                        className={\r\n                                          competency.archived === 'archived'\r\n                                            ? 'archived'\r\n                                            : ''\r\n                                        }\r\n                                      >\r\n                                        <h4> {competency.title} </h4>\r\n                                        {competency.archived === 'archived' ? (\r\n                                          <ItemVersions\r\n                                            framework=\"bioexcel\"\r\n                                            versions={link}\r\n                                          />\r\n                                        ) : (\r\n                                          ''\r\n                                        )}\r\n                                      </span>\r\n                                      <ul\r\n                                        className=\"vf-list\"\r\n                                        style={{ marginLeft: '2rem' }}\r\n                                      >\r\n                                        {attribute_types.map((type, index) => (\r\n                                          <span key={index}>\r\n                                            <li className=\"vf-list__item vf-u-type__text-body--2\">\r\n                                              {competency.attributes.find(\r\n                                                attribute =>\r\n                                                  attribute.type === type\r\n                                              )\r\n                                                ? type\r\n                                                : ''}\r\n                                              <div class=\"vf-u-margin__top--500\" />\r\n                                              <ul className=\"vf-list vf-list--unordered\">\r\n                                                {competency.attributes.map(\r\n                                                  (attribute, index) => {\r\n                                                    if (\r\n                                                      attribute.type === type\r\n                                                    ) {\r\n                                                      return (\r\n                                                        <li\r\n                                                          className=\"vf-list__item vf-u-type__text-body--2\"\r\n                                                          key={index}\r\n                                                        >\r\n                                                          <span\r\n                                                            className={\r\n                                                              attribute.archived ===\r\n                                                              'archived'\r\n                                                                ? 'archived'\r\n                                                                : ''\r\n                                                            }\r\n                                                          >\r\n                                                            {attribute.title}\r\n                                                            {attribute.archived ===\r\n                                                            'archived' ? (\r\n                                                              <ItemVersions\r\n                                                                framework={\r\n                                                                  profile.title\r\n                                                                }\r\n                                                                version={\r\n                                                                  frameworkLiveVersion.number\r\n                                                                }\r\n                                                              />\r\n                                                            ) : (\r\n                                                              ''\r\n                                                            )}\r\n                                                            {attribute.archived ===\r\n                                                            'archived' ? (\r\n                                                              <a\r\n                                                                href={\r\n                                                                  '/training-resources/' +\r\n                                                                  item.id +\r\n                                                                  '/demap/' +\r\n                                                                  attribute.id\r\n                                                                }\r\n                                                              >\r\n                                                                <i className=\"fas fa-times-circle\" />\r\n                                                              </a>\r\n                                                            ) : (\r\n                                                              ''\r\n                                                            )}\r\n                                                          </span>\r\n                                                        </li>\r\n                                                      );\r\n                                                    }\r\n                                                    return null;\r\n                                                  }\r\n                                                )}\r\n                                              </ul>\r\n                                            </li>\r\n                                          </span>\r\n                                        ))}\r\n                                      </ul>\r\n                                    </li>\r\n                                  )\r\n                                )}\r\n                              </ul>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td />\r\n                  </tr>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"vf-grid__col--span-1\">\r\n            {this.checkUser() ? (\r\n              <div className=\"float-right\">\r\n                <div>\r\n                  <Link\r\n                    to={'/training-resource/edit/' + this.state.resourcePath[2]}\r\n                  >\r\n                    <i className=\"fas fa-edit\" /> Edit this resource{' '}\r\n                  </Link>\r\n                </div>\r\n                {item.archived === 'archived' ? (\r\n                  <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                    style={{ cursor: 'pointer' }}\r\n                    onClick={this.archiveHandle.bind(this, item.id, 1)}\r\n                  >\r\n                    {' '}\r\n                    <i className=\"fas fa-toggle-on\" />{' '}\r\n                    <span>Resource is archived</span>{' '}\r\n                  </a>\r\n                ) : (\r\n                  <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                    style={{ cursor: 'pointer' }}\r\n                    onClick={this.archiveHandle.bind(this, item.id, 0)}\r\n                  >\r\n                    {' '}\r\n                    <i className=\"fas fa-toggle-off\" />{' '}\r\n                    <span>Archive this resource</span>\r\n                  </a>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <p />\r\n\r\n            <p>\r\n              {item.trainers ? Parser('<h3>Trainers</h3>' + item.trainers) : ''}\r\n            </p>\r\n\r\n            {item.dates ? (\r\n              <span>\r\n                <strong>Dates:</strong>{' '}\r\n                {this.formatDates(item.dates, item.end_date)}\r\n              </span>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {item.location ? (\r\n              <p>\r\n                <strong>Location:</strong> {item.location}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {item.type ? (\r\n              <p>\r\n                <strong>Type:</strong> {item.type}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {item.keywords ? (\r\n              <p>\r\n                <strong>Keywords:</strong> {item.keywords}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div className={'row'}>\r\n        <div className={'column large-12'}>\r\n          {Resource}\r\n          {this.mappingBlock()}\r\n        </div>\r\n\r\n        <div style={{ overflow: 'scroll' }}>\r\n          <ReactModal\r\n            isOpen={this.state.showModal}\r\n            className=\"Modal\"\r\n            overlayClassName=\"Overlay\"\r\n            contentLabel=\"Minimal Modal Example\"\r\n          >\r\n            <div>\r\n              <h2 style={{ 'text-align': 'center' }}>\r\n                Manage competency profile for{' '}\r\n                {this.state.selectedFramework.toUpperCase()}{' '}\r\n                <i\r\n                  className=\"fas fa-window-close float-right\"\r\n                  data-close\r\n                  onClick={this.handleCloseModal}\r\n                />{' '}\r\n              </h2>\r\n            </div>\r\n            <table>\r\n              <AttributeMap\r\n                selectedCompetencies={selectedCompetencies}\r\n                selectedAttributes={attributes}\r\n                selectedFramework={this.state.selectedFramework}\r\n                resourceID={this.state.resourcePath[2]}\r\n                handleCloseModal={this.handleCloseModal}\r\n              />\r\n            </table>\r\n          </ReactModal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ResDetails = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resources/:id\" component={ResourceDetails} />\r\n  </Switch>\r\n);\r\n\r\nexport default ResDetails;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n//import Parser from 'html-react-parser';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ResourcesList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resources: [],\r\n      filterType: '',\r\n      filterMapping: '',\r\n      userid: '',\r\n      activePage: 0,\r\n      totalItemsCount: 0,\r\n      filter: ''\r\n    };\r\n    this.archiveHandle = this.archiveHandle.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n    this.searchSubmit = this.searchSubmit.bind(this);\r\n  }\r\n\r\n  async handlePageChange(pageNumber) {\r\n    await this.setState({ resources: null });\r\n    await this.setState({ activePage: pageNumber });\r\n    await this.fetchData();\r\n    setTimeout(function() {\r\n      window.scrollTo(0, 0);\r\n    }, 700);\r\n  }\r\n\r\n  async searchSubmit(e) {\r\n    e.preventDefault();\r\n    await this.setState({ resources: null });\r\n    await this.setState({ activePage: 1 });\r\n    await this.setState({ totalItemsCount: 0 });\r\n    await this.fetchData();\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\r\n    //let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\r\n    let resourcesURL = `${apiUrl}/api/resources?_format=json&page=${\r\n      this.state.activePage\r\n    }&title=${this.state.filter}&type=${this.state.filterType}`;\r\n    await fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resources: findresponse\r\n        });\r\n      });\r\n    if (this.state.resources[0]) {\r\n      let hitcount = this.state.resources[0].hitcount;\r\n      this.setState({ totalItemsCount: hitcount });\r\n    }\r\n  }\r\n\r\n  checkAuthor(author_id) {\r\n    let userid = localStorage.getItem('userid');\r\n    if (userid === author_id) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async filter(e) {\r\n    await this.setState({ filter: e.target.value });\r\n  }\r\n\r\n  filterTypeHandle(e) {\r\n    this.setState({ filterType: e.target.value });\r\n  }\r\n\r\n  filterMappingHandle(e) {\r\n    if (this.state.filterMapping) {\r\n      this.setState({ filterMapping: 0 });\r\n    } else {\r\n      this.setState({ filterMapping: 1 });\r\n    }\r\n  }\r\n\r\n  archiveHandle(rid, status, event) {\r\n    console.log(status);\r\n    let archivedStatus = '';\r\n    if (status === 1) {\r\n      archivedStatus = false;\r\n    } else {\r\n      archivedStatus = true;\r\n    }\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        field_archived: [\r\n          {\r\n            value: archivedStatus\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    this.setState({ updateFlag: true });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  formatDates(start, end) {\r\n    let months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December'\r\n    ];\r\n\r\n    let start_dt = new Date(start);\r\n    let end_date = new Date(end);\r\n\r\n    let start_day = start_dt.getDate();\r\n    let start_month = start_dt.getMonth();\r\n    let start_year = start_dt.getFullYear();\r\n\r\n    if (end) {\r\n      let end_day = end_date.getDate();\r\n      let end_month = end_date.getMonth();\r\n      let end_year = end_date.getFullYear();\r\n\r\n      if (start_year === end_year) {\r\n        if (start_month === end_month) {\r\n          if (start_day === end_day) {\r\n            return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n          } else {\r\n            return (\r\n              start_day +\r\n              ' - ' +\r\n              end_day +\r\n              ' ' +\r\n              months[start_month] +\r\n              ' ' +\r\n              start_year\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            start_day +\r\n            ' ' +\r\n            months[start_month] +\r\n            ' - ' +\r\n            end_day +\r\n            ' ' +\r\n            months[end_month] +\r\n            ' ' +\r\n            start_year\r\n          );\r\n        }\r\n      } else {\r\n        return (\r\n          start_day +\r\n          ' ' +\r\n          months[start_month] +\r\n          ' ' +\r\n          start_year +\r\n          ' - ' +\r\n          end_day +\r\n          ' ' +\r\n          months[end_month] +\r\n          ' ' +\r\n          end_year\r\n        );\r\n      }\r\n    } else {\r\n      return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    let resources = this.state.resources;\r\n    var ListOfResources = '';\r\n    if (resources) {\r\n      ListOfResources = resources.map((item, index) => (\r\n        <tr className=\"vf-table__row\" key={index}>\r\n          <td className=\"vf-table__cell\">{index + 1} </td>\r\n          <td className=\"vf-table__cell\">\r\n            <div style={{ maxWidth: '500px' }}>\r\n              <Link to={'/training-resources/' + item.id}>{item.title} </Link>\r\n            </div>\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {item.dates ? this.formatDates(item.dates, item.end_date) : ''}\r\n          </td>\r\n          <td className=\"vf-table__cell\">{item.type}</td>\r\n          <td className=\"vf-table__cell\">\r\n            <a href={item.url} target={'_blank'}>\r\n              Resource URL\r\n            </a>\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {item.archived === 'archived' ? (\r\n              <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={this.archiveHandle.bind(this, item.id, 1)}\r\n              >\r\n                {' '}\r\n                <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\r\n              </a>\r\n            ) : (\r\n              <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={this.archiveHandle.bind(this, item.id, 0)}\r\n              >\r\n                {' '}\r\n                <i className=\"fas fa-toggle-off\" />\r\n              </a>\r\n            )}\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {this.checkAuthor(item.author) ? (\r\n              <Link to={`/training-resource/edit/${item.id}`}>\r\n                <i className=\"fas fa-edit\" />{' '}\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </td>\r\n        </tr>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>Training Resources</h3>\r\n        <form\r\n          className=\"vf-form | vf-search\"\r\n          onSubmit={e => this.searchSubmit(e)}\r\n        >\r\n          <div className=\"vf-grid vf-grid__col-6\">\r\n            <div className=\"vf-form__item | vf-search__item vf-grid__col--span-2\">\r\n              <input\r\n                type=\"search\"\r\n                onChange={this.filter.bind(this)}\r\n                placeholder=\"Type to search\"\r\n                className=\"vf-form__input | vf-search__item\"\r\n              />\r\n            </div>\r\n            <div className=\"vf-form__item vf-grid__col--span-1\">\r\n              <select\r\n                ref={'type'}\r\n                onChange={this.filterTypeHandle.bind(this)}\r\n                className=\"vf-form__select\"\r\n              >\r\n                <option value={'All'}>All</option>\r\n                <option value={'Online'}>Online</option>\r\n                <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                <option value={'Webinar'}>Webinar</option>\r\n                <option value={'Hackathon'}>Hackathon</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"vf-form__item vf-grid__col--span-1\">\r\n              <input\r\n                type=\"submit\"\r\n                className=\"vf-search__button | vf-button vf-button--primary vf-button--sm\"\r\n                value=\"Search\"\r\n              />\r\n            </div>\r\n            <div className=\"vf-grid__col--span-1\">\r\n              <Link\r\n                className={'vf-button vf-button--primary vf-button--sm'}\r\n                to={'/training-resource/create'}\r\n              >\r\n                <i className=\"fas fa-plus-circle\"> </i> Add training resource{' '}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <div className=\"vf-grid vf-grid__col-6\">\r\n          <div className=\"vf-form__item vf-grid__col--span-3\">\r\n            <h5>Total: {this.state.totalItemsCount}</h5>\r\n          </div>\r\n          <div\r\n            className=\"vf-form__item vf-grid__col--span-3\"\r\n            style={{ paddingTop: '30px' }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"checkboxMapping\"\r\n              checked={this.state.filterMapping}\r\n              onChange={this.filterMappingHandle.bind(this)}\r\n              className=\"vf-form__checkbox\"\r\n            />\r\n            <label for=\"checkboxMapping\" className=\"vf-form__label\">\r\n              {' '}\r\n              Show resources with deprecated mapping{' '}\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <table className=\"vf-table vf-table--striped\">\r\n          <thead className=\"vf-table__header\">\r\n            <tr className=\"vf-table__row\">\r\n              <th className=\"vf-table__heading\">S. No.</th>\r\n              <th className=\"vf-table__heading\">Title</th>\r\n              <th className=\"vf-table__heading\">Date(s)</th>\r\n              <th className=\"vf-table__heading\">Type</th>\r\n              <th className=\"vf-table__heading\">URL</th>\r\n              <th className=\"vf-table__heading\">Archive</th>\r\n              <th className=\"vf-table__heading\">Edit</th>\r\n            </tr>\r\n          </thead>\r\n          {resources ? (\r\n            resources.length > 0 ? (\r\n              <tbody className=\"vf-table__body\">{ListOfResources}</tbody>\r\n            ) : (\r\n              <h5>No results found</h5>\r\n            )\r\n          ) : (\r\n            <center>\r\n              <img alt=\"progress\" src=\"progressbar.gif\" />\r\n              <h4>Loading resources</h4>\r\n            </center>\r\n          )}\r\n        </table>\r\n        <nav className=\"vf-pagination\" aria-label=\"Pagination\">\r\n          <Pagination\r\n            activePage={this.state.activePage}\r\n            itemsCountPerPage={50}\r\n            totalItemsCount={this.state.totalItemsCount}\r\n            pageRangeDisplayed={5}\r\n            onChange={e => this.handlePageChange(e)}\r\n            innerclassName=\"vf-pagination__list\"\r\n            itemclassName=\"vf-pagination__item\"\r\n            itemClassPrev=\"vf-pagination__item--previous-page\"\r\n            itemClassNext=\"vf-pagination__item--next-page\"\r\n            linkclassName=\"vf-pagination__link vf-pagination__label\"\r\n            activeclassName=\"vf-pagination__item--is-active\"\r\n            prevPageText=\"Previous\"\r\n            nextPageText=\"Next\"\r\n          />\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Resources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/all-training-resources\" component={ResourcesList} />\r\n  </Switch>\r\n);\r\n\r\nexport default Resources;\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n//import Parser from 'html-react-parser';\nimport { Link } from 'react-router-dom';\n\n//import { apiUrl } from '../services/http/http';\n\nclass ResourcesHome extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resources: [],\n      filterType: ''\n    };\n    //this.archiveHandle = this.archiveHandle.bind(this);\n  }\n\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\n      alert(\n        'You are not authorised to access this page. Contact the administrator'\n      );\n      this.props.history.push('/');\n    }\n    console.log(localStorage.getItem('roles'));\n  }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (this.state.updateFlag) {\n  //     this.fetchData();\n  //     setTimeout(() => {\n  //       this.setState({ updateFlag: false });\n  //     }, 1000);\n  //     console.log('componentDidUpdate');\n  //   }\n  // }\n\n  // componentDidMount() {\n  //   this.fetchData();\n  // }\n\n  // fetchData() {\n  //   let csrfURL = `${apiUrl}/rest/session/token`;\n  //   fetch(csrfURL)\n  //     .then(Response => Response)\n  //     .then(findresponse2 => {\n  //       this.setState({ csrf: findresponse2 });\n  //     });\n\n  //   //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\n  //   let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\n  //   fetch(resourcesURL)\n  //     .then(Response => Response.json())\n  //     .then(findresponse => {\n  //       this.setState({\n  //         resources: findresponse\n  //       });\n  //     });\n  // }\n\n  // filter(e) {\n  //   this.setState({ filter: e.target.value });\n  // }\n\n  // filterTypeHandle(e) {\n  //   this.setState({ filterType: e.target.value });\n  // }\n\n  // archiveHandle(rid, status, event) {\n  //   //alert(\"competency \"+ cid+ \"is \"+ status);\n  //   let archivedStatus = '';\n  //   if (status === 1) {\n  //     archivedStatus = false;\n  //   } else {\n  //     archivedStatus = true;\n  //   }\n  //   let token = localStorage.getItem('csrf_token');\n  //   fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\n  //     credentials: 'include',\n  //     method: 'PATCH',\n  //     cookies: 'x-access-token',\n  //     headers: {\n  //       Accept: 'application/hal+json',\n  //       'Content-Type': 'application/hal+json',\n  //       'X-CSRF-Token': token,\n  //       Authorization: 'Basic'\n  //     },\n  //     body: JSON.stringify({\n  //       _links: {\n  //         type: {\n  //           href: `${apiUrl}/rest/type/node/training_resource`\n  //         }\n  //       },\n  //       field_archived: [\n  //         {\n  //           value: archivedStatus\n  //         }\n  //       ],\n  //       type: [\n  //         {\n  //           target_id: 'training_resource'\n  //         }\n  //       ]\n  //     })\n  //   });\n\n  //   this.setState({ updateFlag: true });\n\n  //   event.preventDefault();\n  // }\n\n  render() {\n    this.checkUser();\n    // let resources = this.state.resources;\n    // if (this.state.filter) {\n    //   resources = resources.filter(\n    //     item =>\n    //       item.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n    //       item.description\n    //         .toLocaleLowerCase()\n    //         .includes(this.state.filter.toLowerCase())\n    //   );\n    // }\n\n    // if (this.state.filterType !== 'All') {\n    //   resources = resources.filter(item =>\n    //     item.type\n    //       .toLocaleLowerCase()\n    //       .includes(this.state.filterType.toLowerCase())\n    //   );\n    // }\n\n    // const ListOfResources = resources.map((item, index) => (\n    //   <tr key={index}>\n    //     <td>{index + 1} </td>\n    //     <td>\n    //       {' '}\n    //       <h4>\n    //         {' '}\n    //         <Link to={'/training-resources/' + item.id}>{item.title} </Link>\n    //       </h4>\n    //       <p>{item.dates} </p>\n    //       <strong>Learning resource type:</strong> {item.type} <br />\n    //       {Parser(item.description.substr(0, 240) + '...')} <br />\n    //       <br />\n    //       <strong> URL: </strong>{' '}\n    //       <a href={item.url} target={'_blank'}>\n    //         {item.url}\n    //       </a>\n    //     </td>\n    //     <td>\n    //       {item.archived === '1' ? (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 1)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\n    //         </a>\n    //       ) : (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 0)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-off\" />\n    //         </a>\n    //       )}\n    //     </td>\n    //     <td>\n    //       <Link to={`/training-resource/edit/${item.id}`}>\n    //         <i className=\"fas fa-edit\" />{' '}\n    //       </Link>\n    //     </td>\n    //   </tr>\n    // ));\n    return (\n      <div className={'row'}>\n        <h3>Training Resources</h3>\n        <div className=\"row\">\n          <div className=\"column large-4 callout\">\n            <Link\n              className={'button float-right'}\n              to={'/all-training-resources'}\n            >\n              <i className=\"fas fa-list\"> </i> View published training resources{' '}\n            </Link>\n          </div>\n          <div className=\"column large-4 callout\">\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-list\"> </i> View unpublished training\n              resources{' '}\n            </Link>\n          </div>\n          <div className={'column large-4 callout'}>\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-tasks\"> </i> Manage training resources{' '}\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst ResourcesHomepage = () => (\n  <Switch>\n    <Route exact path=\"/training-resources-home\" component={ResourcesHome} />\n  </Switch>\n);\n\nexport default ResourcesHomepage;\n","import React from 'react';\r\n\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ChangePassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      roles: '',\r\n      user: ''\r\n    };\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n  }\r\n\r\n  handlePasswordChange(e) {\r\n    let old = this.refs.old.value;\r\n    let new1 = this.refs.new1.value;\r\n    let uid = localStorage.getItem('userid');\r\n    fetch(`${apiUrl}/user/` + uid + '?_format=json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': localStorage.getItem('csrf_token')\r\n      },\r\n      body: JSON.stringify({\r\n        pass: [\r\n          {\r\n            existing: old,\r\n            value: new1\r\n          }\r\n        ]\r\n      })\r\n    })\r\n      .then(resp => resp)\r\n      .then(data =>\r\n        setTimeout(() => {\r\n          alert('Password changed successfully');\r\n          window.location.reload();\r\n        }, 1000)\r\n      );\r\n    e.preventDefault();\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    return (\r\n      <div>\r\n        <h3>Change password:</h3>\r\n        <form className=\"vf-form\" id={'passChange'}>\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            ref={'old'}\r\n            placeholder={'Old password'}\r\n          />\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            ref={'new1'}\r\n            placeholder={'New password'}\r\n          />\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            placeholder={'Confirm new password'}\r\n          />\r\n          <input\r\n            type={'button'}\r\n            className={'vf-button vf-button--sm vf-button--primary'}\r\n            onClick={this.handlePasswordChange.bind(this)}\r\n            value={'Submit'}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n\nconst UserView = () => {\n  const [user, setUser] = useState();\n  //const [test, setTest] = useState();\n  const [frameworks, setFrameworks] = useState();\n  const [frm, setFrm] = useState();\n\n  let uid = localStorage.getItem('userid');\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/user/${uid}?_format=json`, {\n        credentials: 'include',\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRF-Token': localStorage.getItem('csrf_token')\n        }\n      })\n        .then(Response => Response.json())\n        .then(findResponse => setUser(findResponse));\n\n      await fetch(`${apiUrl}/api/version_manager/?_format=json`)\n        .then(Response => Response.json())\n        .then(findResponse => setFrameworks(findResponse));\n    };\n    fetchData();\n  }, [uid]);\n\n  if (!frm && user && frameworks) {\n    let test = [];\n    frameworks.map(item => {\n      user.field_frameworks.map(framework => {\n        if (framework.target_id === item.nid) {\n          test.push(item.title);\n        }\n        return null;\n      });\n      return null;\n    });\n    if (test.length > 0) {\n      setFrm(test.join());\n    }\n  }\n\n  return (\n    <div>\n      <h2>My profile</h2>\n      <div className=\"row\">\n        <div className=\"column medium-3\">&nbsp;</div>\n        <div className=\"column medium-6\">\n          {user ? (\n            <table className=\"responsive-table userprofile-table\">\n              <tbody>\n                <tr>\n                  <td>\n                    <strong>Username:</strong>\n                  </td>\n                  <td>{user.name[0].value}</td>\n                </tr>\n                <tr>\n                  <td>\n                    <strong>Email:</strong>\n                  </td>\n                  <td>{user.mail[0].value}</td>\n                </tr>\n                <tr>\n                  <td>\n                    <strong>Frameworks:</strong>\n                  </td>\n                  <td>{frm ? frm : 'NA'}</td>\n                </tr>\n              </tbody>\n            </table>\n          ) : (\n            'Loading profile'\n          )}\n        </div>\n        <div className=\"column medium-3\" />\n      </div>\n    </div>\n  );\n};\n\nexport const path = () => (\n  <Switch>\n    <Route exact path=\"/user/view\" component={UserView} />\n  </Switch>\n);\n\nexport default path;\n","import React from 'react';\r\n\r\nconst About = () => (\r\n  <React.Fragment>\r\n    <h2>About Competency Hub</h2>\r\n    <p className=\"lead\">\r\n      Competency Hub is a web-based tool to support the creation and management\r\n      of competency frameworks. A competency is an observable ability of any\r\n      professional, integrating multiple components such as knowledge, skills\r\n      and behaviours. A competency framework lists and defines all the\r\n      competencies that an individual might need to fulfil a particular role, or\r\n      that define specific user groups.\r\n    </p>\r\n    <h3>Anyone can..</h3>\r\n    <p>\r\n      <ul>\r\n        <li>\r\n          Explore the competency frameworks that we currently have in the system\r\n        </li>\r\n        <li>\r\n          Click on any competency to find the knowledge, skills and attitudes\r\n          (KSAs) associated with it\r\n        </li>\r\n        <li>\r\n          Explore career profiles associated with a competency framework when\r\n          available\r\n        </li>\r\n        <li>\r\n          See the relationships between different competency frameworks; for\r\n          example, if a competency in framework 2 is derived from one in\r\n          framework 1, this information is captured\r\n        </li>\r\n        <li>\r\n          Access a list of courses that have been mapped to a particular\r\n          competency\r\n        </li>\r\n        <li>\r\n          View summary information on each of these courses, including a link\r\n          through to the course website\r\n        </li>\r\n      </ul>\r\n    </p>\r\n    <h3>In addition to the above, content editors can...</h3>\r\n    <ul>\r\n      <li>Map courses to any competency in the Hub</li>\r\n      <li>Map courses to any combination of knowledge, skills and attitudes</li>\r\n    </ul>\r\n    <h3>In addition to the above, administrators can...</h3>\r\n    <ul>\r\n      <li>Build a completely new competency framework from a blank template</li>\r\n      <li>Make minor updates to an existing competency framework</li>\r\n      <li>\r\n        If a competency framework has undergone major updates such as merging,\r\n        splitting or deprecation of competencies, create and publish a new\r\n        version of the framework without overwriting the previous version, and\r\n        without losing links to pre-existing mappings\r\n      </li>\r\n      <li>\r\n        Create and edit multiple personas or roles associated with a competency\r\n        framework\r\n      </li>\r\n      <li>\r\n        For each competency in an associated framework, define the level of\r\n        competency required by any of the personas/roles associated with it,\r\n        using an administrator-defined list of variables.\r\n      </li>\r\n    </ul>\r\n\r\n    <h3>What is competency?</h3>\r\n    <p>\r\n      By definition, competency is an observable ability of any professional,\r\n      integrating multiple components such as knowledge, skills, values and\r\n      attitudes. It is observable, so its acquisition can be validated\r\n      objectively.\r\n    </p>\r\n    <h4>Why is it relevant?</h4>\r\n    <p>\r\n      Competency provides a shared ‘currency’ applicable to learning of all\r\n      types and at all career stages.\r\n    </p>\r\n    <ul>\r\n      <li>\r\n        Individual professionals can use competency as a career development\r\n        tool: by documenting the competencies that you have gained, and the\r\n        evidence that you have gained them, in a competency portfolio you can\r\n        seek further training to fill gaps in your portfolio, or map your\r\n        existing portfolio to roles that you might not previously have\r\n        considered.\r\n      </li>\r\n      <li>\r\n        Professional bodies and employers can use competency to define\r\n        competency frameworks for different roles or professions. These provide\r\n        useful guidance when hiring and promoting individuals, and can also\r\n        provide the basis for professional recognition in regulated professions.\r\n      </li>\r\n      <li>\r\n        Course providers can use competency to develop training (by asking what\r\n        competencies their trainees need to gain) and, where appropriate, to\r\n        assess whether training has been effective.\r\n      </li>\r\n    </ul>\r\n\r\n    <h3>What is a competency framework?</h3>\r\n    <p>\r\n      A competency framework defines the competencies required to fulfil a\r\n      particular role. competency frameworks are typically defined by\r\n      professional bodies or learned societies in collaboration with employers.\r\n      Several projects under the EU’s Horizon 2020 framework have developed\r\n      competency frameworks to support emerging professions.\r\n    </p>\r\n\r\n    <h3>Who is developing the Competency Hub?</h3>\r\n    <p>\r\n      The Competency Hub is being developed by the{' '}\r\n      <a\r\n        href={'https://www.ebi.ac.uk/about/people/cath-brooksbank'}\r\n        target={'_blank'}\r\n      >\r\n        {' '}\r\n        EMBL-EBI training team{' '}\r\n      </a>{' '}\r\n      with the{' '}\r\n      <a href={'https://bioexcel.eu/'} target={'_blank'}>\r\n        {' '}\r\n        BioExcel{' '}\r\n      </a>{' '}\r\n      competency framework as its primary use case.{' '}\r\n    </p>\r\n    <p>\r\n      EMBL-EBI’s Training programme uses a competency-based approach to\r\n      developing new courses: put simply, we ask ourselves ‘What competency or\r\n      competencies does our audience for this course need to develop?’ before we\r\n      create the programme and content for a new course, and before we make a\r\n      significant update to an existing course.\r\n    </p>\r\n    <p>\r\n      The team has contributed to, and helped to steer, a number of initiatives\r\n      to develop new training programmes by defining competency requirements in\r\n      relation to a specific target audience and building a competency framework\r\n      for that audience. Competency-based projects that we have been involved in\r\n      include:\r\n    </p>\r\n    <ul>\r\n      <li>\r\n        The ISCB education committee’s{' '}\r\n        <a href={'https://europepmc.org/articles/PMC5794068'} target={'_blank'}>\r\n          {' '}\r\n          competency framework for bioinformatics professionals{' '}\r\n        </a>{' '}\r\n      </li>\r\n      <li>\r\n        A clinical bioinformatics competency framework to support Health\r\n        Education England to prepare clinical practitioners for the application\r\n        of genomics in the healthcare service\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={\r\n            'https://drive.google.com/file/d/0B3BA3KSKGOoQb0hvUkx3a3lMS00/view'\r\n          }\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          RItrain competency framework{' '}\r\n        </a>{' '}\r\n        for managers and leaders of research infrastructure\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={'https://zenodo.org/record/154085#.WbUNUhNSwUE'}\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          CORBEL competency framework{' '}\r\n        </a>{' '}\r\n        for technical operators of research infrastructure\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={'https://zenodo.org/record/264231#.WbUNoRNSwUE'}\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          BioExcel competency framework{' '}\r\n        </a>\r\n        for scientists working on biomolecular modelling and simulation\r\n      </li>\r\n      <li>\r\n        The CINECA competency framework for professionals working with human\r\n        data for disease research\r\n      </li>\r\n      <p />\r\n      <p>\r\n        These competency frameworks were designed to be used by the training\r\n        communities who developed them, and openly available to anyone who might\r\n        find them useful, yet all too often they end up buried in a PDF file as\r\n        part of a project deliverable. This made us long for a web-based tool\r\n        that would make these frameworks, and the training associated with them,\r\n        readily discoverable. We therefore decided to build that tool, and\r\n        although it’s still in the early stages of development we’ve decided to\r\n        make it openly available now so that we can seek broad input to improve\r\n        it and make it as useful as possible to the education and training\r\n        community at large. If you have comments or suggestions, please{' '}\r\n        <a href={'mailto:competency@ebi.ac.uk'}> contact us </a>.\r\n      </p>\r\n    </ul>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default About;\r\n","import React from 'react';\r\n\r\nimport FrameworkButton from '../framework-button/FrameworkButton';\r\n\r\nfunction FrameworkButtons({ frameworks }) {\r\n  const selfRef = new React.createRef();\r\n\r\n  const invokeFoundation = () => {\r\n    // window.setTimeout(() => $(selfRef.current).foundation());\r\n    return (\r\n      <div className=\"vf-grid vf-grid__col-3\">\r\n        {' '}\r\n        {frameworks.map(framework => (\r\n          <FrameworkButton key={framework.nid} framework={framework} />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return frameworks.length < 1 ? null : (\r\n    <div className=\"row\" data-equalizer ref={selfRef}>\r\n      {invokeFoundation()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FrameworkButtons;\r\n","import React, { Component } from 'react';\r\n\r\nimport FrameworkButtons from '../components/framework-buttons/FrameworkButtons';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nclass Frameworks extends Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    frameworks: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // try {\r\n    //   this.activeRequests.startRequest();\r\n    //   const frameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    //   this.setState({ frameworks });\r\n    // } catch (error) {\r\n    //   this.props.enqueueSnackbar('Unable to fetch framework data', {\r\n    //     variant: 'error'\r\n    //   });\r\n    //   console.error(error);\r\n    // } finally {\r\n    //   this.activeRequests.finishRequest();\r\n    // }\r\n  }\r\n\r\n  render() {\r\n    const { frameworks } = this.state;\r\n\r\n    return (\r\n      <div>\r\n\r\n        <section className=\"vf-u-fullbleed vf-u-background-color-ui--grey--light vf-u-padding__top--800 vf-u-padding__bottom--1200\">\r\n          <h2>Who is the Competency Hub for?</h2>\r\n        {/* Row 1 */}\r\n          <div className=\"vf-grid\">\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Students and professionals in computational biology <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the ISCB competencies and:</p>\r\n\r\n                  <p className=\"vf-card__text\"><ul><li>career profiles</li></ul></p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Professionals in computational biomolecular research<svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the BioExcel competencies and:</p>\r\n\r\n                  <p className=\"vf-card__text\"><ul><li>career profiles</li><li>training resources</li></ul></p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Professionals in computational personalised medicine <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the PerMedCoE competencies and:</p>\r\n\r\n                  <p className=\"vf-card__text\"><ul><li>career profiles</li><li>training resources</li></ul></p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n          </div>\r\n\r\n        {/* Row 2 */}\r\n        <div class=\"vf-u-margin__top--800\"></div>\r\n        <div className=\"vf-grid\">\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Research infrastructure scientists <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the ARISE competencies</p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Managers of research infrastructures<svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the RItrain competencies</p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Technical operators of research infrastructures <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the CORBEL competencies and:</p>\r\n\r\n                  <p className=\"vf-card__text\"><ul><li>training resources</li></ul></p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n          </div>\r\n\r\n        {/* Row 3 */}\r\n        <div class=\"vf-u-margin__top--800\"></div>\r\n        <div className=\"vf-grid\">\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Data steward: policy, research and infrastructure <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the Data Steward competencies</p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Professionals in working with clinical human data<svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the CINECA competencies</p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n            <div>\r\n              <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n                <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n                  <h3 className=\"vf-card__heading\"><a className=\"vf-card__link\" href=\"JavaScript:Void(0);\">Clinical practitioners using genomics <svg aria-hidden=\"true\" className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\" width=\"1em\" height=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                      </svg>\r\n                    </a></h3>\r\n                  <p className=\"vf-card__subheading\">Explore the NHS competencies</p>\r\n                </div>\r\n              </article>\r\n            </div>\r\n          </div>\r\n\r\n          {/*<FrameworkButtons frameworks={frameworks} />\r\n          <div style={{ padding: '20px' }}>\r\n            <hr className=\"vf-divider\" />\r\n            <p>\r\n              <span>\r\n                <Link\r\n                  to=\"/documentation\"\r\n                  className=\"vf-button vf-button--outline vf-button--primary vf-button--sm\"\r\n                >\r\n                  API documentation{' '}\r\n                </Link>\r\n              </span>\r\n            </p>\r\n            <p>\r\n              If you have any questions, comments or suggestions, please contact\r\n              us: competency [at] ebi.ac.uk\r\n            </p>\r\n            {console.log(document.cookie)}\r\n          </div>*/}\r\n        </section>\r\n        <div class=\"vf-u-margin__top--1200\"></div>\r\n        <div>\r\n          <h2>Do more with the Competency Hub</h2>\r\n          <div className=\"vf-grid\">\r\n            <div>\r\n              <h3><a href=\"#\">Design your training</a></h3>\r\n              <p>Use competency frameworks and career profiles to develop your courses.</p>\r\n            </div>\r\n            <div>\r\n              <h3><a href=\"#\">Review API Documentation</a></h3>\r\n              <p>Learn how to list frameworks and query framework data with out API.</p>\r\n            </div>\r\n            <div>\r\n              <h3><a href=\"#\">Login as administrator</a></h3>\r\n              <p>Manage frameworks and competencies.</p>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"vf-u-margin__top--1200\"></div>\r\n        <h2>In association with</h2>\r\n        <div className=\"vf-grid\">\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2018-09/iscb_logo.png?w=180\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2020-10/Bioexcel_logo_no_subheading_updated_RGB.png?w=220\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2021-04/PerMedCoE_WHITE%20background.jpg?w=250\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"vf-u-margin__top--800\"></div>\r\n        <div className=\"vf-grid\">\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2021-09/ARISE_logo.jpg?w=200\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2018-09/ritrain.png?w=120\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2018-06/corbel_logo.png?w=200\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"vf-u-margin__top--800\"></div>\r\n        <div className=\"vf-grid\">\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2020-10/datasteward.jpg?w=280\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2019-12/cineca.png?w=200\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n          <div>\r\n            <figure className=\"vf-figure\">\r\n              <img className=\"vf-figure__image\" src=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/sites/default/files/2018-06/nhs_logo.png?w=350\" alt=\"\" loading=\"lazy\"/>\r\n            </figure>\r\n          </div>\r\n        </div>\r\n        <div class=\"vf-u-margin__top--800\"></div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Frameworks);\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n// import Collapsible from 'react-collapsible';\n// import ReactModal from 'react-modal';\n// import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n// import CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass CompetencySettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      competency: '',\n      competencyUUID: '',\n      competencyTitle: '',\n      frameworkList: [],\n      domainID: '',\n      domainUuid: '',\n      csrf: '',\n      mapping: ''\n    };\n\n    this.editDomain = this.editDomain.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onTextChange = this.onTextChange.bind(this);\n  }\n\n  async fetchData() {\n    let competencyID = this.state.path[4];\n    let url = `${apiUrl}/node/` + competencyID + `/?_format=json`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ competency: findresponse }, this.setMappingText);\n      });\n\n    // Load all domains of all frameworks from version_manager API\n\n    let versoinManagerURL = `${apiUrl}/api/version_manager/?_format=json&timestamp=${Date.now()}`;\n    fetch(versoinManagerURL)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    //console.log(apiUrl);\n  }\n\n  async setMappingText() {\n    let competency = this.state.competency;\n    if (competency.field_map_other_competency.length > 0) {\n      this.setState({\n        mapping: competency.field_map_other_competency[0].value\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n    //await this.setMappingText();\n  }\n\n  editDomain(e) {\n    let competencyID = this.state.path[4];\n    let selectedDomainID = this.state.domainID;\n    let selectedDomainUUID = this.state.domainUuid;\n    let mapping = this.state.mapping;\n    if (!selectedDomainID) {\n      selectedDomainID = this.state.competency.field_domain[0].target_id;\n      selectedDomainUUID = this.state.competency.field_domain[0].target_uuid;\n    }\n    this.competencyService.changeDomain(\n      competencyID,\n      selectedDomainID,\n      selectedDomainUUID,\n      mapping\n    );\n    //console.log(\"editDomain() called\");\n    this.props.history.push(\n      '/framework/' + this.state.path[2] + '/manage/competencies'\n    );\n    e.preventDefault();\n  }\n\n  onTextChange(event) {\n    this.setState({ mapping: event.target.value });\n    //console.log(this.state.mapping);\n  }\n\n  handleChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ domainID: dataset.id, domainUuid: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let competency_title = '';\n    let domain_id = '';\n    //let domain_uuid = '';\n    let domain_title = '';\n    let competency = this.state.competency;\n    let frameworkList = this.state.frameworkList;\n    let domainOptions = [];\n    let domainArray = [];\n    //let mapped_other_competency = \"\";\n\n    if (frameworkList.length > 0) {\n      console.log(this.state.frameworkList);\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() === this.state.path[2]) {\n          framework.domains.map(domain => {\n            domainOptions.push(\n              <option\n                key={domain.id}\n                data-id={domain.id}\n                data-uuid={domain.uuid}\n                value={domain.id}\n              >\n                {domain.title}\n              </option>\n            );\n            domainArray.push({ key: domain.id, value: domain.title });\n            return null;\n          });\n        }\n        return null;\n      });\n    }\n\n    if (competency) {\n      competency_title = competency.title[0].value;\n      domain_id = competency.field_domain[0].target_id;\n      //domain_uuid = competency.field_domain[0].target_uuid;\n      if (domainArray.length > 0) {\n        let obj = domainArray.find(d => d.key === domain_id);\n        domain_title = obj.value;\n      }\n    }\n\n    return (\n      <div>\n        <h2>Change domain</h2>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>\n                <h4>Domain:</h4>\n              </td>\n              <td>\n                <h4>{domain_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <h4>Competency:</h4>\n              </td>\n              <td>\n                <h4>{competency_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td colSpan={2}>\n                <p className=\"lead\">\n                  Select the domain from the following list to change:\n                </p>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.editDomain.bind(this)}\n                >\n                  <div className=\"row\">\n                    <div className=\"column large-11\">\n                      <select\n                        value={\n                          this.state.domainID ? this.state.domainID : domain_id\n                        }\n                        onChange={this.handleChange}\n                      >\n                        {domainOptions}\n                      </select>\n                      <label>\n                        Maps to competency/attribute from other framework\n                        <input\n                          type=\"text\"\n                          placeholder=\"Framework (version), competency or attribute\"\n                          name=\"mapping\"\n                          value={this.state.mapping}\n                          onChange={this.onTextChange.bind(this)}\n                        />\n                      </label>\n                      <input type=\"submit\" className=\"button\" value=\"Save\" />\n                    </div>\n                    <div className=\"column large-1\" />\n                  </div>\n                </form>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst CompetencySettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:id/settings\"\n      component={CompetencySettings}\n    />\n  </Switch>\n);\n\nexport default CompetencySettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n// import Collapsible from 'react-collapsible';\n// import ReactModal from 'react-modal';\n// import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n// import CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass AttributeSettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      attributeID: this.props.location.pathname.split('/')[6],\n      frameworkName: this.props.location.pathname.split('/')[2],\n      frameworkList: [],\n      attributeType: '',\n      attribute: '',\n      competencyID: this.props.location.pathname.split('/')[4],\n      competencyUUID: '',\n      competencyTitle: '',\n      attributeTypeID: '',\n      attributeTypeUUID: '',\n      frameworkData: []\n    };\n\n    this.changeSettings = this.changeSettings.bind(this);\n    this.handleCompetencyChange = this.handleCompetencyChange.bind(this);\n    this.handleTypeChange = this.handleTypeChange.bind(this);\n  }\n\n  async fetchData() {\n    // Load the attribute\n\n    let attributeID = this.state.attributeID;\n    let url =\n      `${apiUrl}/node/` +\n      attributeID +\n      `/?_format=json&timestamp=${Date.now()}`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ attribute: findresponse });\n      });\n\n    // Load all domains of all frameworks from version_manager API\n    fetch(`${apiUrl}/api/version_manager?_format=json`)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    let result = await this.competencyService.getVersionedDraftFramework(\n      this.state.frameworkName\n    );\n    this.setState({ frameworkData: result });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  changeSettings(e) {\n    let attributeID = this.state.attributeID;\n    let selectedCompetencyID = this.state.competencyID\n      ? this.state.competencyID\n      : this.state.attribute.field_competency[0].target_id;\n    let selectedCompetencyUUID = this.state.competencyUUID\n      ? this.state.competencyUUID\n      : this.state.attribute.field_competency[0].target_uuid;\n    let selectedAttributeTypeID = this.state.attributeTypeID\n      ? this.state.attributeTypeID\n      : this.state.attribute.field_attribute_type[0].target_id;\n    let selectedAttributeTypeUUID = this.state.attributeTypeUUID\n      ? this.state.attributeTypeUUID\n      : this.state.attribute.field_attribute_type[0].target_uuid;\n\n    // console.log(\"competencyID: \"+selectedCompetencyID + \" attributeTypeID: \"+ selectedAttributeTypeID);\n    // if(!selectedCompetencyID){\n    //   selectedCompetencyID = this.state.attribute.field_competency[0].target_id;\n    //   selectedCompetencyUUID = this.state.competency.field_competency[0].target_uuid;\n    // }\n\n    // if(!selectedAttributeTypeID){\n    //   selectedAttributeTypeID = this.state.attribute.field_attribute_type[0].target_id;\n    //   selectedAttributeTypeUUID = this.state.competency.field_attribute_type[0].target_uuid;\n    // }\n\n    this.competencyService.changeAttributeSettings(\n      attributeID,\n      selectedCompetencyID,\n      selectedCompetencyUUID,\n      selectedAttributeTypeID,\n      selectedAttributeTypeUUID\n    );\n\n    this.props.history.push(\n      '/framework/' +\n        this.state.path[2] +\n        '/manage/competencies/' +\n        this.props.location.pathname.split('/')[4] +\n        '/manage-attributes'\n    );\n    e.preventDefault();\n  }\n\n  handleCompetencyChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ competencyID: dataset.id, competencyUUID: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  handleTypeChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({\n      attributeTypeID: dataset.id,\n      attributeTypeUUID: dataset.uuid\n    });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let attribute_title = '';\n    let competency_id = '';\n    //let competency_uuid = '';\n    let competency_title = '';\n    let attribute_type_id = '';\n    //let attribute_type_uuid = '';\n    let attribute_type_title = '';\n    let attribute = this.state.attribute;\n    let frameworkData = this.state.frameworkData;\n    let frameworkList = this.state.frameworkList;\n    let competencyOptions = [];\n    let competencyArray = [];\n    let attributeTypeOptions = [];\n    let attributeTypeArray = [];\n\n    //console.log(frameworkList);\n\n    if (frameworkList) {\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() === this.state.frameworkName) {\n          framework.attribute_types.map(attribute_type => {\n            attributeTypeOptions.push(\n              <option\n                key={attribute_type.id}\n                data-id={attribute_type.id}\n                data-uuid={attribute_type.uuid}\n                value={attribute_type.id}\n              >\n                {attribute_type.title}\n              </option>\n            );\n            attributeTypeArray.push({\n              key: attribute_type.id,\n              value: attribute_type.title\n            });\n            return null;\n          });\n        }\n        return null;\n      });\n      //console.log(attributeTypeArray);\n    }\n\n    if (frameworkData) {\n      frameworkData.map(framework => {\n        framework.domains.map(domain => {\n          domain.competencies.map(competency => {\n            if (competency.archived === 0) {\n              competencyOptions.push(\n                <option\n                  key={competency.id}\n                  data-id={competency.id}\n                  data-uuid={competency.uuid}\n                  value={competency.id}\n                >\n                  {competency.title}\n                </option>\n              );\n              competencyArray.push({\n                key: competency.id,\n                value: competency.title\n              });\n            }\n            return null;\n          });\n          return null;\n        });\n        return null;\n      });\n    }\n\n    if (attribute) {\n      attribute_title = attribute.title[0].value;\n      competency_id = attribute.field_competency[0].target_id;\n      //competency_uuid = attribute.field_competency[0].target_uuid;\n      attribute_type_id = attribute.field_attribute_type[0].target_id;\n      if (competencyArray.length > 0) {\n        let obj = competencyArray.find(d => d.key === competency_id);\n        competency_title = obj.value;\n        //console.log(attribute_type_id);\n      }\n\n      if (attributeTypeArray.length > 0) {\n        let obj = attributeTypeArray.find(d => d.key === attribute_type_id);\n        attribute_type_title = obj.value;\n      }\n\n      //console.log(attribute_title);\n    }\n\n    return (\n      <div>\n        <h2>Change attribute settings</h2>\n        <h3>Attribute: {attribute_title}</h3>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>Competency:</td>\n              <td>{competency_title}</td>\n              <td rowSpan={2}>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.changeSettings.bind(this)}\n                >\n                  <label>Change competency:</label>\n                  <select\n                    value={\n                      this.state.competencyID\n                        ? this.state.competencyID\n                        : competency_id\n                    }\n                    onChange={this.handleCompetencyChange}\n                  >\n                    {competencyOptions}\n                  </select>\n                  <label>Change attribute type:</label>\n                  <select\n                    value={\n                      this.state.attributeTypeID\n                        ? this.state.attributeTypeID\n                        : attribute_type_id\n                    }\n                    onChange={this.handleTypeChange}\n                  >\n                    {attributeTypeOptions}\n                  </select>\n                  <input type=\"submit\" className=\"button\" value=\"Save\" />\n                </form>\n              </td>\n            </tr>\n\n            <tr>\n              <td>Attribute type:</td>\n              <td>{attribute_type_title}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst AttributeSettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\n      component={AttributeSettings}\n    />\n  </Switch>\n);\n\nexport default AttributeSettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport CompetencyService from '../services/competency/competency';\n\n//const $ = window.$;\n\nclass AttributeDemap extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      resourceID: this.props.location.pathname.split('/')[2],\n      attributeID: this.props.location.pathname.split('/')[4],\n      resourceDetails: [],\n      csrf: ''\n    };\n    this.demap = this.demap.bind(this);\n  }\n\n  async demap(e) {\n    //alert(\"mapping removed\");\n    let resource = 1034;\n    let items = [20, 21];\n    //this.activeRequests.startRequest();\n    let result = await this.competencyService.demap(resource, items);\n    console.log(result);\n    //this.activeRequests.finishRequest();\n    //console.log(this.state.resourceDetails);\n    //this.props.history.push(\"/training-resources/\"+this.props.location.pathname.split('/')[2]);\n    //e.preventDefault();\n  }\n\n  componentDidMount() {\n    //fetch(`${apiUrl}`+'/api/resources/?_format=hal_json&id='+ this.state.resourceID)\n    fetch(`${apiUrl}/node/ ${this.state.resourceID}?_format=hal_json`)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          resourceDetails: findresponse\n        });\n      });\n\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return this.state.attributes === nextState.attributes;\n  // }\n\n  render() {\n    return (\n      <div>\n        <h3>\n          Are you sure you want to remove this mapping? This action cannot be\n          undone!\n        </h3>\n        <button className=\"button\" onClick={this.demap.bind(this)}>\n          Yes\n        </button>\n      </div>\n    );\n  }\n}\n\nconst AttributeDemapRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/training-resources/:resource/demap/:attribute\"\n      component={AttributeDemap}\n    />\n  </Switch>\n);\n\nexport default AttributeDemapRoot;\n","import { apiUrl } from '../http/http';\n//requests fail when https is included in _links.type.href below\n//so we moved changed the value of apiUrl to exclude the s and only have http\nconst httpApiURl = apiUrl.replace('https', 'http');\nclass BodyService {\n  static createProfile({\n    title,\n    frameworkId,\n    frameworkUuid,\n    versionID,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    fileid\n  }) {\n    return {\n      _links: {\n        type: {\n          href: `${httpApiURl}/rest/type/node/profile`\n        },\n        [`${httpApiURl}/rest/relation/node/profile/field_competency_framework`]: {\n          href: `${httpApiURl}/node/${frameworkId}?_format=hal_json`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_versions: [\n        {\n          target_id: versionID\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid,\n          description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: 'Draft'\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ],\n      _embedded: {\n        [`${httpApiURl}/rest/relation/node/profile/field_competency_framework`]: [\n          {\n            _links: {\n              self: {\n                href: `${httpApiURl}/node/${frameworkId}?_format=hal_json`\n              },\n              type: {\n                href: `${httpApiURl}/rest/type/node/competency_framework`\n              }\n            },\n            uuid: [\n              {\n                value: frameworkUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ]\n      }\n    };\n  }\n\n  static editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    return {\n      _links: {\n        self: {\n          href: `${httpApiURl}/node/${profileId}?_format=json`\n        },\n        type: {\n          href: `${httpApiURl}/rest/type/node/profile`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification,\n          format: 'basic_html'\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo,\n          format: 'basic_html'\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid ? fileid : null\n          //description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: publishStatus\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ]\n    };\n  }\n\n  static mapProfile(profileId, mapping) {\n    let mappingBody = [];\n    mapping.forEach(function(item) {\n      mappingBody.push({\n        competency: item.competency,\n        expertise: item.expertise,\n        attributes: item.attributes.join()\n      });\n    });\n\n    //  console.log(mappingBody)\n\n    return {\n      type: [\n        {\n          target_id: 'article'\n        }\n      ],\n      field_item: [\n        {\n          value: profileId\n        }\n      ],\n      field_profile_mapping: mappingBody\n    };\n  }\n}\n\nexport default BodyService;\n","import HttpService from '../http/http';\nimport Body from './body';\n//import Download from './download';\nimport jsPDF from 'jspdf';\nimport moment from 'moment';\n\nclass ProfileService {\n  static instance;\n  http = new HttpService();\n\n  constructor() {\n    if (ProfileService.instance) {\n      return this.instance;\n    }\n    ProfileService.instance = this;\n  }\n\n  async createProfile(options) {\n    const response = await this.http.post(\n      `/node?_format=hal_json`,\n      Body.createProfile(options)\n    );\n    return response.data;\n  }\n\n  async editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    const response = await this.http.patch(\n      `node/${profileId}?_format=hal_json`,\n      Body.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      )\n    );\n\n    return response.data;\n  }\n\n  async mapProfile(profileId, mapping) {\n    const response = await this.http.patch(\n      `/api/bioexcel/2.0/profiles?_format=json`,\n      Body.mapProfile(profileId, mapping),\n      'json'\n    );\n    return response.data;\n  }\n\n  async createGuestProfile(\n    frameworkName,\n    frameworkId,\n    versionNumber,\n    title,\n    age,\n    current_role,\n    gender,\n    job_title,\n    qualification_background,\n    additional_information,\n    image\n  ) {\n    let mapping = [];\n\n    let existingGuestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    if (existingGuestProfile) {\n      if (existingGuestProfile.profile_mapping) {\n        mapping = existingGuestProfile.profile_mapping;\n      }\n    }\n\n    let guestProfile = {\n      frameworkName,\n      frameworkId,\n      versionNumber,\n      title,\n      age,\n      current_role,\n      gender,\n      job_title,\n      qualification_background,\n      additional_information,\n      image\n    };\n\n    guestProfile['profile_mapping'] = mapping;\n\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile));\n    console.log('Profile service called for Guest user');\n  }\n\n  async mapProfileGuest(mapping) {\n    let guestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    guestProfile['profile_mapping'] = mapping;\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile));\n  }\n\n  mapDownloadProfile(options) {\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(options));\n  }\n\n  downloadProfile(options) {\n    // Download.getProfile(options);\n    // console.log(options)\n\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    //const margin = 0.5;\n\n    let currentDate = moment().format('MMMM D, Y');\n    let currentTime = moment().format('hh:mm:ss');\n\n    let pdfWidth = doc.internal.pageSize.getWidth();\n    let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    const pdfProfileImgWidth = 180;\n    const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    let col = pdfWidth * 0.07383;\n    let gutter = pdfWidth * 0.01036727272;\n    //let fourthCol = col * 4 + gutter * 3;\n    let fifthCol = col * 5 + gutter * 4;\n\n    const profileBody = pdfWidth - fifthCol - 20;\n\n    let selectedFileWidth = options.selectedFile\n      ? options.selectedFileData[0].width\n      : 180;\n    let selectedFileHeight = options.selectedFile\n      ? options.selectedFileData[0].height\n      : 150;\n    let ratio = selectedFileWidth / selectedFileHeight;\n    let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    // PROFILE Header\n    doc.setFontType('normal');\n    doc.setFontSize(22);\n    doc.text(marginleft, startHeight, 'EMBL-EBI Competency Profile');\n\n    // Framework Logo\n    if (options.frameworkLogoData) {\n      let frameworkLogoWidth = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].width\n        : 100;\n      let frameworkLogoHeight = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].height\n        : 30;\n      let logoRatio = frameworkLogoWidth / frameworkLogoHeight;\n      let pdfLogoHeight = pageLogoWidth / logoRatio;\n\n      let logoData = options.frameworkLogoData[0].src;\n      let logoType = 'PNG';\n      doc.addImage(\n        logoData,\n        logoType,\n        marginright - 100,\n        5,\n        pageLogoWidth,\n        pdfLogoHeight,\n        '',\n        'SLOW'\n      );\n    }\n\n    currentYAxis = currentYAxis + 50;\n\n    // PROFILE Title\n    doc.setFontSize(18);\n    doc.text(\n      marginleft,\n      currentYAxis,\n      options.title + ' - ' + options.jobTitle\n    );\n\n    // PROFILE Image\n    if (options.selectedFile) {\n      let type = options.selectedFile.type === 'image/jpeg' ? 'JPEG' : 'PNG'; // maybe you should add some controls to prevent loading of other file types\n      let imgData = options.selectedFileData[0].src;\n      doc.addImage(\n        imgData,\n        type,\n        marginleft,\n        currentYAxis + 30,\n        pdfProfileImgWidth,\n        pdfProfileImgHeight,\n        '',\n        'SLOW'\n      ); // Compression options are NONE, FAST, MEDIUM and SLOW\n    }\n\n    // doc.setFontType('normal');\n    // PROFILE Demographics\n    if (options.gender || options.age) {\n      let gender = options.gender\n        ? options.age\n          ? options.gender + ', '\n          : options.gender\n        : '';\n      let age = options.age ? options.age + ' years' : '';\n\n      doc.setFontSize(12);\n      doc.text(\n        marginleft,\n        pdfProfileImgHeight + currentYAxis + 60,\n        gender + age\n      );\n    }\n\n    currentYAxis = currentYAxis + 40;\n\n    // PROFILE Qualifications\n    let qDim;\n    if (options.qualification) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, currentYAxis, 'Qualifications & background');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let qualification = doc.splitTextToSize(\n        options.qualification,\n        profileBody\n      );\n      // Adjust yAxis based on text height\n      qDim = doc.getTextDimensions(qualification);\n      //let margins = {\n      //   top: 70,\n      //   bottom: 40,\n      //   left: 30,\n      //   width: 550\n      // };\n\n      doc.fromHTML(options.qualification, fifthCol, currentYAxis, {\n        // y coord\n        width: profileBody // max width of content on PDF\n      });\n\n      // doc.text(fifthCol, currentYAxis, qualification)\n      currentYAxis = currentYAxis + 30;\n    }\n\n    // PROFILE Activities\n    if (options.currentRole) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, qDim.h + currentYAxis, 'Activities and current role');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let currentRole = doc.splitTextToSize(options.currentRole, profileBody);\n      // Adjust yAxis based on text height\n      //let cDim = doc.getTextDimensions(currentRole);\n      currentYAxis = qDim.h + currentYAxis;\n\n      doc.text(fifthCol, currentYAxis, currentRole);\n    }\n\n    doc.setFontSize(9);\n    doc.text(\n      marginleft,\n      pdfHeight - 20,\n      'Profile created on ' + currentDate + ' at ' + currentTime\n    );\n\n    // Save the Data\n    let jobTitleUnderscored = options.jobTitle.split(' ').join('_');\n    doc.save(jobTitleUnderscored.toLowerCase() + '.pdf');\n  }\n}\n\nexport default ProfileService;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import FileUpload from './FileUpload';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\n//import { Link, Redirect } from 'react-router-dom';\n\nexport const ProfileCreate = props => {\n  //const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  //const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  //const [frameworkLogoData, setFrameworkLogoData] = useState([]);\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n\n  //const [errorMsgTitle, setErrorMsgTitle] = useState();\n  //const [errorMsgJobTitle, setErrorMsgJobTitle] = useState();\n\n  const [frameworkMoreData, setFrameworkMoreData] = useState();\n\n  //let errors = [];\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    // Set variables from Local Storage to populate form fields onload\n    const bootstrap = () => {\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      setProfile(storedProfile);\n\n      if (storedProfile) {\n        setTitle(storedProfile.title);\n        setJobTitle(storedProfile.jobTitle);\n        setAge(storedProfile.age);\n        setGender(storedProfile.gender);\n        setQualification(storedProfile.qualification);\n        setCurrentRole(storedProfile.currentRole);\n        setAdditionalInfo(storedProfile.additionalInfo);\n        if (storedProfile.selectedFileData[0]) {\n          setSelectedFileData(storedProfile.selectedFileData);\n          setImgpreview(storedProfile.selectedFileData[0].src);\n        }\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(`${apiUrl}/api/version_manager?_format=json`)\n          .then(response2 => response2.data);\n\n        const [data1, data2] = await Promise.all([promise1, promise2]);\n\n        setFramework(data1);\n        setFrameworkMoreData(\n          data2.filter(item => {\n            return item.title.toLowerCase() === frameworkName;\n          })\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    bootstrap();\n    fetchData();\n  }, [selectedFile, frameworkName, frameworkVersion, http]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    let frameworkName = framework[0].title;\n    let frameworkUuid = framework[0].uuid;\n    console.log(frameworkMoreData);\n    let liveVersion = frameworkMoreData[0].versions.find(\n      ver => ver.status === 'live'\n    );\n\n    let versionID = liveVersion.id;\n\n    var fileid = null;\n\n    // Do nothing if Form doesn't pass validation criteris above\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    }\n    // Check if is Anonymous/Authenticated\n    else if (!localStorage.getItem('roles')) {\n      //setErrorMsgTitle('');\n      //setErrorMsgJobTitle('');\n\n      // Retrieve values from Local Storage if exist\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n\n      profileService.mapDownloadProfile({\n        title,\n        frameworkId,\n        //frameworkLogoData,\n        frameworkName,\n        frameworkUuid,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        selectedFile,\n        // selectedFileData: storedProfile ? selectedFileData ? selectedFileData : '' : '',\n        selectedFileData,\n        mapping: storedProfile ? storedProfile.mapping : [],\n        mappingAttributes: storedProfile ? storedProfile.mappingAttributes : []\n      });\n      //props.history.push('/framework/bioexcel/2.0/profile/map/download/');\n    } else if (localStorage.getItem('roles').includes('framework_manager')) {\n      if (selectedFile) {\n        let token = localStorage.getItem('csrf_token');\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=hal_json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.createProfile({\n        title,\n        frameworkId,\n        frameworkUuid,\n        versionID,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        fileid\n      });\n\n      props.history.push(\n        `/framework/${frameworkName.toLowerCase()}/${frameworkVersion}/profile/view/${\n          response.nid[0].value\n        }/${response.path[0].alias}`\n      );\n    }\n  };\n\n  // const setPreview = () => {\n  //   props.history.push(\n  //     `/framework/${frameworkName}/${frameworkVersion}/profile/preview`,\n  //     {\n  //       title: title\n  //     }\n  //   );\n  // };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      //const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                src: this.src,\n                width: this.width,\n                height: this.height\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Add Competencies';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--sm vf-button-primary\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  // From https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript\n  // const getImageData = (url, callback) => {\n  //   var xhr = new XMLHttpRequest();\n  //   xhr.onload = function() {\n  //     var reader = new FileReader();\n  //     reader.onloadend = function() {\n  //       return callback(reader.result);\n  //     };\n  //     reader.readAsDataURL(xhr.response);\n  //   };\n  //   xhr.open('GET', url);\n  //   xhr.responseType = 'blob';\n  //   xhr.send();\n  // };\n\n  // const toDataURL = (src, callback, outputFormat) => {\n  //   var img = new Image();\n  //   img.crossOrigin = 'Anonymous';\n  //   img.onload = function() {\n  //     var canvas = document.createElement('CANVAS');\n  //     var ctx = canvas.getContext('2d');\n  //     var dataURL;\n  //     canvas.height = this.naturalHeight;\n  //     canvas.width = this.naturalWidth;\n  //     ctx.drawImage(this, 0, 0);\n  //     dataURL = canvas.toDataURL(outputFormat);\n  //     callback(dataURL);\n  //   };\n  //   img.src = src;\n  //   if (img.complete || img.complete === undefined) {\n  //     img.src =\n  //       'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n  //     img.src = src;\n  //   }\n  // };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Create {placeholder} profile</h2>\n      <form\n        className=\"vf-form\"\n        id=\"profile_create_form\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"vf-grid vf-grid__col-6\">\n          <div className=\"vf-grid__col--span-2\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : title}\n                className=\"vf-form__input\"\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n            <span>\n              <img\n                alt=\"\"\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <button\n                    className=\"vf-button vf-button--secondary vf-button--sm\"\n                    href=\"#\"\n                    onClick={e => clearimgpreview(e)}\n                  >\n                    Clear image x\n                  </button>\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : age}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                defaultValue={profile ? profile.gender : gender}\n                className=\"vf-form__input\"\n              >\n                <option value={'None'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n                <option value={'Nonbinary'}>Nonbinary</option>\n                <option value={'Prefernottosay'}>Prefer not to say</option>\n              </select>\n            </span>\n          </div>\n          <div className=\"vf-grid__col--span-4\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.jobTitle : jobTitle}\n                className=\"vf-form__input\"\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={qualification}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Activities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={currentRole}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={additionalInfo}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n            <br />\n          </div>\n        </div>\n\n        <div className=\"vf-grid\">\n          <div />\n          <div>\n            <ButtonLabel />\n          </div>\n          <div />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const CreateProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create\"\n      component={ProfileCreate}\n    />\n  </Switch>\n);\n\nexport default CreateProfile;\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nconst GuestHelp = props => {\n  const modalOpen = props.modalOpen;\n\n  const closeModal = e => {\n    //e.preventDefault(e);\n    props.closeModal();\n  };\n\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      width: '70%',\n      backgroundColor: '#f1f1f1'\n    }\n  };\n\n  return (\n    <div>\n      <ReactModal isOpen={modalOpen} style={customStyles}>\n        <button style={{ float: 'right' }} onClick={e => closeModal(e)}>\n          <i className=\"icon icon-common icon-window-close\" />\n        </button>\n        <h2>Help</h2>\n        <h4>Create/edit your profile</h4>\n        <p className=\"lead\">\n          You may fill the Create/Edit Profile form in order to create your own\n          user profile. The profile will be saved in your browser.\n        </p>\n\n        <h4>Map competencies to your profile</h4>\n        <p className=\"lead\">\n          After creating your profile, the next step is to map it with the\n          competencies. In the mapping form, you may select the level of\n          expertise from the dropdown and choose the attributes that are\n          applicable in your case.\n        </p>\n\n        <h4>Compare your profile</h4>\n        <p className=\"lead\">\n          After creating your profile and mapping it to competencies. You can\n          compare your profile with another reference profile and see the\n          summary of differences between the two.\n        </p>\n\n        <h4>Save / download your profile</h4>\n        <p className=\"lead\">\n          After creating your profile and mapping it to competencies, you may\n          click the print button and download the profile in your desired\n          format.\n        </p>\n      </ReactModal>\n    </div>\n  );\n};\n\nexport default GuestHelp;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import FileUpload from './FileUpload';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\n//import { Link, Redirect } from 'react-router-dom';\nimport GuestHelp from './GuestHelp';\n\nexport const ProfileCreateGuest = props => {\n  const history = useHistory();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n  const [modalOpen, setModelOpen] = useState(false);\n\n  const http = new HttpService();\n  const storedProfile = JSON.parse(localStorage.getItem('guestProfile'));\n\n  useEffect(() => {\n    // Set variables from Local Storage to populate form fields onload\n    let bootstrap = async () => {\n      setProfile(storedProfile);\n      setTitle(storedProfile.title);\n      setJobTitle(storedProfile.job_title);\n      setAge(parseInt(storedProfile.age));\n      setGender(storedProfile.gender);\n      setQualification(storedProfile.qualification_background);\n      setCurrentRole(storedProfile.current_role);\n      setAdditionalInfo(storedProfile.additional_information);\n      if (storedProfile.image[0]) {\n        setSelectedFileData(storedProfile.image);\n        setImgpreview(storedProfile.image[0].url);\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(`${apiUrl}/api/version_manager?_format=json`)\n          .then(response2 => response2.data);\n\n        const [data1] = await Promise.all([promise1, promise2]);\n        setFramework(data1);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (storedProfile && !profile) {\n      bootstrap();\n    }\n\n    if (!framework) {\n      fetchData();\n    }\n  }, [\n    selectedFile,\n    frameworkName,\n    frameworkVersion,\n    http,\n    storedProfile,\n    framework,\n    profile\n  ]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    let versionNumber = frameworkVersion;\n\n    // Do nothing if Form doesn't pass validation criteris above\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n      return 0;\n    }\n    // Check if is Anonymous/Authenticated\n    else if (!localStorage.getItem('roles')) {\n      let current_role = currentRole ? currentRole : '';\n      let job_title = jobTitle ? jobTitle : '';\n      let qualification_background = qualification ? qualification : '';\n      let additional_information = additionalInfo ? additionalInfo : '';\n      let image = selectedFileData ? selectedFileData : '';\n\n      profileService.createGuestProfile(\n        frameworkName,\n        frameworkId,\n        versionNumber,\n        title,\n        age,\n        current_role,\n        gender,\n        job_title,\n        qualification_background,\n        additional_information,\n        image\n      );\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest/`\n      );\n    }\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      //const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                url: this.src\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    setSelectedFileData(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Save and Map Competencies';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--primary vf-button--sm\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  const openModal = e => {\n    e.preventDefault();\n    setModelOpen(true);\n  };\n\n  const closeModal = () => {\n    //e.preventDefault();\n    setModelOpen(false);\n  };\n\n  return (\n    <div>\n      <h2>Create / Edit {placeholder} profile</h2>\n      <div className=\"callout warning\">\n        <i className=\"icon icon-common icon-exclamation-triangle\" /> Your\n        profile will be saved in your browser.\n        <button className=\"vf-button vf-button--sm\" onClick={e => openModal(e)}>\n          Get help\n        </button>\n        <GuestHelp modalOpen={modalOpen} closeModal={closeModal} />\n      </div>\n      <form\n        className=\"vf-form\"\n        id=\"profile_create_form\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"vf-grid vf-grid__col-6\">\n          <div className=\"vf-grid__col--span-2\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : ''}\n                className=\"vf-form__input\"\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <img\n                alt=\"\"\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <button\n                    className=\"vf-button vf-button--secondary vf-button--sm\"\n                    href=\"#\"\n                    onClick={e => clearimgpreview(e)}\n                  >\n                    Clear image x\n                  </button>\n                </div>\n              ) : (\n                ''\n              )}\n              <div className=\"vf-u-margin__bottom--600\" />\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : ''}\n                className=\"vf-form__input\"\n              />\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                //defaultValue={gender?gender:'-None-'}\n                value={gender ? gender : '-None-'}\n                className=\"vf-form__select\"\n              >\n                <option value={'None'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n                <option value={'Nonbinary'}>Nonbinary</option>\n                <option value={'Prefernottosay'}>Prefer not to say</option>\n              </select>\n            </span>\n          </div>\n          <div className=\"vf-grid__col--span-4\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.job_title : ''}\n                className=\"vf-form__input\"\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={\n                  storedProfile ? storedProfile.qualification_background : ''\n                }\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Activities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile ? storedProfile.current_role : ''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile ? storedProfile.additional_information : ''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n          </div>\n        </div>\n        <ButtonLabel />\n      </form>\n    </div>\n  );\n};\n\nexport const Path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create/guest\"\n      component={ProfileCreateGuest}\n    />\n  </Switch>\n);\n\nexport default Path;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n//import CKEditor from 'react-ckeditor-component';\nimport Parser from 'html-react-parser';\n// import CKEditor from '@ckeditor/ckeditor5-react';\n// import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n// import FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\n// import ProfileService from '../services/profile/profile';\n// import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactTooltip from 'react-tooltip';\n\n//import jsPDF from 'jspdf';\n//import moment from 'moment';\n\n//const $ = window.$;\n\nexport const ProfileView = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n  //const alias = props.location.pathname.split('/')[7];\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [userFrameworks, setUserFrameworks] = useState([]);\n\n  var competencyView = '';\n  //var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping = [];\n  var user_roles = localStorage.getItem('roles')\n    ? localStorage.getItem('roles')\n    : '';\n  var userName = localStorage.getItem('user')\n    ? localStorage.getItem('user')\n    : '';\n\n  //let profile2Expertise = '';\n  let width2 = '';\n  //let floatRight = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n\n      if (userName) {\n        await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n          method: 'GET',\n          credentials: 'include'\n        })\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setUserFrameworks(findresponse);\n          });\n      }\n    };\n    fetchData();\n  }, [profileId, frameworkVersion, frameworkName, userName]);\n\n  // const checkAlias = () => {\n  //   if (profile) {\n  //     let url_alias = profile.url_alias;\n\n  //     if (profile.url_alias != alias) {\n  //       props.history.push(\n  //         `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}${url_alias}`\n  //       );\n  //     }\n  //   }\n  // };\n\n  const getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency === competency);\n      if (obj) {\n        if (frameworkInfo) {\n          let expertise = frameworkInfo\n            .find(info => info.title.toLowerCase() === frameworkName)\n            .expertise_levels.find(level => level.id === obj.expertise);\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n  const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n  const getBarWidth = data => {\n    let totalLevels = frameworkInfo.find(\n      info => info.title.toLowerCase() === frameworkName\n    ).expertise_levels.length;\n    width2 = data ? 100 / ((totalLevels - 1) / data.rating_level) : 0;\n    return width2;\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map((info, infoIndex) => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map((level, levelIndex) =>\n            expertise_levels_legend.push(\n              <li\n                key={levelIndex}\n                className=\"vf-list__item\"\n                style={{ textAlign: 'center' }}\n              >\n                <div\n                  data-tip={level.description ? level.description : 'NA'}\n                  data-html={true}\n                  data-type=\"info\"\n                  data-multiline={true}\n                >\n                  <span className=\"vf-badge vf-badge--tertiary\">\n                    {' '}\n                    {level.rating_level}{' '}\n                  </span>{' '}\n                  <span> {level.title}</span>\n                </div>\n                <ReactTooltip className=\"tooltip-custom\" />\n              </li>\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n    }\n\n    if (framework) {\n      competencyView = framework.map((item, itemIndex) =>\n        item.domains.map((domain, domainIndex) => (\n          <React.Fragment key={itemIndex + domainIndex}>\n            <div key={domainIndex}>\n              <div>\n                <h4>{domain.title}</h4>{' '}\n              </div>\n            </div>\n            <div>\n              <div>\n                {domain.competencies.map((competency, compIndex) => (\n                  <React.Fragment key={compIndex}>\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <span className=\"vf-text vf-text-heading--5 competency_title\">\n                          {competency.title.length > 150\n                            ? competency.title\n                                .split(' ')\n                                .splice(0, 18)\n                                .join(' ') + ' ..'\n                            : competency.title}\n                        </span>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <div className=\"fillerbg\">\n                          <div\n                            className=\"fillerRight\"\n                            style={{\n                              width:\n                                getBarWidth(getExpertise(competency.id)) + '%',\n                              display: 'flow-root'\n                            }}\n                          >\n                            <span\n                              style={{\n                                float:\n                                  getBarWidth(getExpertise(competency.id)) === 0\n                                    ? 'none'\n                                    : 'right'\n                              }}\n                              className=\"rating_level_number\"\n                            >\n                              {getExpertise(competency.id)\n                                ? getExpertise(competency.id).rating_level\n                                : 0}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"profile_collapsible\">\n                      <Collapsible\n                        trigger={\n                          <div className=\"open-close-title\">\n                            <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                          </div>\n                        }\n                        triggerWhenOpen={\n                          <div className=\"open-close-title\">\n                            <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                          </div>\n                        }\n                      >\n                        {attribute_types.map((attribute_type, typeIndex) => {\n                          return (\n                            <div\n                              key={typeIndex}\n                              className=\"accordion-item is-active\"\n                              data-accordion-item\n                            >\n                              <div className=\"embl-grid\">\n                                <div />\n                                <ul className=\"vf-list\">\n                                  <div>\n                                    <strong> {attribute_type} </strong>\n                                  </div>\n                                  {competency.attributes\n                                    .filter(\n                                      attribute =>\n                                        attribute.type === attribute_type\n                                    )\n                                    .map((attribute, attrIndex) => {\n                                      return (\n                                        <li\n                                          key={attrIndex}\n                                          className=\"vf-list__item\"\n                                        >\n                                          <span style={{ marginRight: '20px' }}>\n                                            {getAttributeStatus(\n                                              attribute.id,\n                                              'profile1'\n                                            ) ? (\n                                              <i className=\"icon icon-common icon-check\" />\n                                            ) : (\n                                              '-'\n                                            )}\n                                          </span>\n                                          <span>{attribute.title}</span>\n                                        </li>\n                                      );\n                                    })}\n                                </ul>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </Collapsible>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            </div>\n          </React.Fragment>\n        ))\n      );\n    }\n  };\n\n  // const handleDownload = e => {\n  //   e.preventDefault();\n\n  //   // Download Profile\n  //   let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n  //   downloadProfileFromHtml(storedProfile);\n  // };\n  // const downloadProfileFromHtml = options => {\n  //   let doc = new jsPDF('p', 'pt', 'a4');\n  //   doc.setFont('helvetica');\n  //   const margin = 0.5;\n\n  //   let currentDate = moment().format('MMMM D, Y');\n  //   let currentTime = moment().format('hh:mm:ss');\n\n  //   let pdfWidth = doc.internal.pageSize.getWidth();\n  //   let pdfHeight = doc.internal.pageSize.getHeight();\n\n  //   const startHeight = 30;\n  //   const marginleft = 20;\n  //   const pdfProfileImgWidth = 180;\n  //   const pageLogoWidth = 100;\n\n  //   let marginright = doc.internal.pageSize.getWidth() - 20;\n  //   let col = pdfWidth * 0.07383;\n  //   let gutter = pdfWidth * 0.01036727272;\n  //   let fourthCol = col * 4 + gutter * 3;\n  //   let fifthCol = col * 5 + gutter * 4;\n\n  //   const profileBody = pdfWidth - fifthCol - 20;\n\n  //   let selectedFileWidth = options.selectedFile\n  //     ? options.selectedFileData[0].width\n  //     : 180;\n  //   let selectedFileHeight = options.selectedFile\n  //     ? options.selectedFileData[0].height\n  //     : 150;\n  //   let ratio = selectedFileWidth / selectedFileHeight;\n  //   let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n  //   let currentYAxis = startHeight;\n\n  //   var specialElementHandlers = {\n  //     '#editor': function(element, renderer) {\n  //       return true;\n  //     }\n  //   };\n\n  //   let margins = {\n  //     top: startHeight,\n  //     bottom: 60,\n  //     left: marginleft,\n  //     right: marginright,\n  //     width: 490\n  //   };\n  //   var sourceFull = document.getElementById('profile');\n  //   var source = sourceFull;\n\n  //   let profileTitle = options.jobTitle.split(' ').join('_');\n  //   doc.fromHTML(\n  //     source,\n  //     marginleft,\n  //     currentYAxis,\n  //     {\n  //       // y coord\n  //       width: margins.width, // max width of content on PDF\n  //       elementHandlers: specialElementHandlers\n  //     },\n  //     function(dispose) {\n  //       // dispose: object with X, Y of the last line add to the PDF\n  //       //          this allow the insertion of new lines after html\n  //       doc.save(profileTitle.toLowerCase() + '.pdf');\n  //     }\n  //     // margins\n  //   );\n  // };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div key={'unique'}>\n      {generateProfileView()}\n      {profile ? (\n        <div key={profileId} id=\"profile\">\n          <div style={{ float: 'right' }}>\n            {user_roles.search('framework_manager') !== -1 &&\n            userFrameworks.length > 0 &&\n            userFrameworks.includes(frameworkFullName) ? (\n              <ul>\n                <li className=\"profile_navigation\">\n                  <Link\n                    className=\"vf-button vf-button--primary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/edit/${profileId}`}\n                  >\n                    Edit overview\n                    <i className=\"icon icon-common icon-pencil-alt\" />\n                  </Link>\n                </li>\n                <li className=\"profile_navigation\">\n                  <Link\n                    className=\"vf-button vf-button--primary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/map/${profileId}`}\n                  >\n                    Map competencies <i className=\"icon icon-common icon-cog\" />{' '}\n                    {console.log(localStorage.getItem('roles'))}\n                  </Link>\n                </li>\n              </ul>\n            ) : (\n              <Link\n                className=\"vf-button vf-button--primary vf-button--sm\"\n                to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n              >\n                Create your profile <i className=\"icon icon-common icon-plus\" />\n              </Link>\n            )}\n          </div>\n          <h2 style={{ marginTop: '1em', marginBottom: '1em' }}>\n            {profile.title} - {profile.job_title}\n          </h2>\n\n          <div className={profile.publishing_status + ' embl-grid'}>\n            <div>\n              <center>\n                <img\n                  alt=\"\"\n                  style={{ display: 'block', maxWidth: '200px' }}\n                  src={profile.image[0] ? profile.image[0].url : ''}\n                />\n              </center>\n              <p />\n              <p style={{ textAlign: 'center' }}>\n                {profile.gender !== 'None' ? (\n                  <div>\n                    <p>\n                      {profile.gender && profile.gender === 'Prefernottosay' ? (\n                        <p> Gender: Prefer not to say </p>\n                      ) : (\n                        ''\n                      )}\n                    </p>\n                    <p>\n                      {profile.gender && profile.gender !== 'Prefernottosay' ? (\n                        <p> Gender: {profile.gender} </p>\n                      ) : (\n                        ''\n                      )}\n                    </p>\n                  </div>\n                ) : (\n                  ''\n                )}\n                {profile.age ? profile.age + ' years' : ''}\n              </p>\n            </div>\n            <div>\n              <h3>Qualification and background</h3>\n              <div>\n                {profile.qualification_background\n                  ? Parser(profile.qualification_background)\n                  : ''}\n              </div>\n\n              <h3>Activities of current role</h3>\n              <div>\n                {profile.current_role ? Parser(profile.current_role) : ''}\n              </div>\n\n              <div>\n                {profile.additional_information\n                  ? Parser(profile.additional_information)\n                  : ''}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"column medium-3\">\n              {' '}\n              <h5 style={{ marginTop: '25px' }}>\n                {frameworkFullName} {frameworkVersion} / Competencies\n              </h5>\n            </div>\n            <div className=\"column medium-9 \" />\n          </div>\n          <div className=\"row\">\n            <div className=\"column medium-12\">\n              <ul className=\"vf-list legend-inline\" style={{ float: 'right' }}>\n                {expertise_levels_legend}\n              </ul>\n            </div>\n          </div>\n          <hr />\n          {competencyView}\n        </div>\n      ) : (\n        'Loading profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"vf-button\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/:id/:alias\"\n      component={ProfileView}\n    />\n  </Switch>\n);\n\nexport default ViewProfile;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n//import { apiUrl } from '../services/http/http';\n//import ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\n//import { Link, Redirect } from 'react-router-dom';\n//import RadarChart from 'react-svg-radar-chart';\nimport 'react-svg-radar-chart/build/css/index.css';\n//import user_icon from './user_icon.png';\nimport Collapsible from 'react-collapsible';\n\nexport const ProfilesCompareButterfly = props => {\n  let history = useHistory();\n  const frameworkName = props.frameworkName;\n  const frameworkVersion = props.frameworkVersion;\n  //const profile1Id = props.profile1Id;\n  //const profile2Id = props.profile2Id;\n  const isGuestProfile = props.isGuestProfile;\n\n  const profile1 = props.profile1;\n  const profile2 = props.profile2;\n  const framework = props.framework;\n  const frameworkInfo = props.frameworkInfo;\n\n  var competencyView = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping1 = [];\n  var mapping2 = [];\n  // var user_roles = localStorage.getItem('roles')\n  //   ? localStorage.getItem('roles')\n  //   : '';\n  // var competencies_array = [];\n  var expertise_array = [];\n  //var profile1_expertise_obj = new Object();\n  //var profile2_expertise_obj = new Object();\n  var chart_props = [];\n  //var leftData = [];\n  //var rightData = [];\n  var totalLevels = '';\n\n  var includeSummary = [];\n\n  const getExpertise = (competency, profileid) => {\n    let mapping = [];\n    if (profileid === 'profile1') {\n      mapping = mapping1;\n    } else {\n      mapping = mapping2;\n    }\n\n    let obj = mapping.find(o => o.competency === competency);\n    if (obj) {\n      if (frameworkInfo) {\n        // let expertise = frameworkInfo[0].expertise_levels.find(\n        //   level => level.id == obj.expertise\n        // );\n\n        let frm = frameworkInfo.find(\n          info => info.title.toLowerCase() === frameworkName\n        );\n\n        let expertise = frm.expertise_levels.find(\n          level => level.id === obj.expertise\n        );\n        totalLevels = frm.expertise_levels.length;\n        return expertise;\n      }\n    } else {\n      return null;\n    }\n  };\n\n  const getAttributeStatus = (attribute, profile) => {\n    let mapping = '';\n    if (profile === 'profile1') {\n      mapping = profile1.profile_mapping;\n    } else {\n      mapping = profile2.profile_mapping;\n    }\n    //console.log(mapping)\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === attribute)\n      );\n      //console.log(attribute_check_status)\n      return attribute_check_status ? true : false;\n    }\n  };\n\n  // const getAttributeRows = competency => {\n  //   console.log('hi ' + competency);\n  // };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            (level, key) => (expertise_array[key] = level.id) //(expertise_levels[level.id] = level.title)\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        \"<li class='legend'>  <div class='legend_number'> \" +\n          index +\n          '</div>' +\n          level +\n          '</li>'\n      );\n      index++;\n      return null;\n    });\n\n    if (profile1) {\n      mapping1 = profile1.profile_mapping;\n    }\n\n    if (profile2) {\n      mapping2 = profile2.profile_mapping;\n    }\n\n    if (frameworkInfo) {\n      frameworkInfo.map(framework => {\n        if (framework.title === frameworkName) {\n          framework.expertise_levels.map((level, key) => {\n            expertise_array[key] = level.id;\n            return null;\n          });\n          totalLevels = framework.expertise_levels.length;\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyView = framework.map((item, frmIndex) =>\n        item.domains.map((domain, domainIndex) =>\n          domain.competencies.map((competency, compIndex) => {\n            let profile1Expertise = getExpertise(competency.id, 'profile1');\n            let profile2Expertise = getExpertise(competency.id, 'profile2');\n\n            if (profile1Expertise && profile2Expertise) {\n              includeSummary.push(\n                profile1Expertise.rating_level < profile2Expertise.rating_level\n                  ? competency.id\n                  : null\n              );\n            } else if (!profile1Expertise && !profile2Expertise) {\n              includeSummary.push(null);\n            } else if (!profile1Expertise && profile2Expertise) {\n              includeSummary.push(competency.id);\n            }\n\n            console.log(totalLevels);\n            let width1 = profile1Expertise\n              ? 100 / ((totalLevels - 1) / profile1Expertise.rating_level)\n              : 0;\n            let margin1 = 100 - width1;\n            margin1 = margin1 === 100 ? 88 : margin1;\n\n            let width2 = profile2Expertise\n              ? 100 / ((totalLevels - 1) / profile2Expertise.rating_level)\n              : 0;\n            let floatRight = width2 === 0 ? 'none' : 'right';\n\n            return (\n              <div key={compIndex}>\n                <div className=\"vf-grid vf-grid__col-5\">\n                  <div className=\"vf-grid__col--span-3\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerLeft\"\n                        style={{\n                          width: width1 + '%',\n                          marginLeft: margin1 + '%'\n                        }}\n                      >\n                        <span\n                          style={{ position: 'relative' }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile1Expertise\n                            ? profile1Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{ width: width2 + '%', display: 'flow-root' }}\n                      >\n                        <span\n                          style={{ float: floatRight }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile2Expertise\n                            ? profile2Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map((attribute_type, typeIndex) => {\n                      return (\n                        <React.Fragment key={typeIndex}>\n                          <p style={{ paddingLeft: '20px', marginTop: '10px' }}>\n                            <strong> {attribute_type} </strong>\n                          </p>\n                          <div className=\"vf-grid vf-grid__col-5\">\n                            {competency.attributes\n                              .filter(\n                                attribute => attribute.type === attribute_type\n                              )\n                              .map((attribute, attrIndex) => {\n                                return (\n                                  <React.Fragment key={attrIndex}>\n                                    <span\n                                      className=\"vf-grid__col--span-3\"\n                                      style={{ paddingLeft: '20px' }}\n                                    >\n                                      {attribute.title}\n                                    </span>\n\n                                    <div className=\"vf-grid__col--span-1\">\n                                      {getAttributeStatus(\n                                        attribute.id,\n                                        'profile1'\n                                      ) ? (\n                                        <i className=\"icon icon-common icon-check\" />\n                                      ) : (\n                                        '-'\n                                      )}\n                                    </div>\n                                    <div className=\"vf-grid__col--span-1\">\n                                      {getAttributeStatus(\n                                        attribute.id,\n                                        'profile2'\n                                      ) ? (\n                                        <i className=\"icon icon-common icon-check\" />\n                                      ) : (\n                                        '-'\n                                      )}\n                                    </div>\n                                  </React.Fragment>\n                                );\n                              })}\n                          </div>\n                        </React.Fragment>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            );\n          })\n        )\n      );\n    }\n  };\n  if (profile1) {\n    chart_props[0] = {\n      key: profile1.id,\n      label: profile1.title\n    };\n  }\n\n  if (profile2) {\n    chart_props[1] = {\n      key: profile2.id,\n      label: profile2.title\n    };\n  }\n\n  const handlePrint = e => {\n    e.preventDefault();\n    window.print();\n  };\n\n  const handleSummary = e => {\n    e.preventDefault();\n    history.push({\n      pathname: `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/guest/summary`,\n      state: {\n        profileJobTitle: profile1.job_title,\n        includeSummary: includeSummary\n      }\n    });\n  };\n\n  return (\n    <div id=\"\">\n      {generateProfileView()}\n\n      <p>&nbsp; </p>\n      <div className=\"vf-grid vf-grid__col-5\">\n        <div className=\"vf-grid__col--span-3\">\n          <h5>\n            {frameworkFullName} {frameworkVersion} / Competencies\n          </h5>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <h5>{profile1.job_title}</h5>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <h5>{profile2.job_title}</h5>\n        </div>\n      </div>\n\n      <hr />\n      <div className=\"vf-grid vf-grid__col-5\">\n        <div className=\"vf-grid__col--span-3\" />\n        <div className=\"vf-grid__col--span-1\">\n          <span>High</span> <span style={{ float: 'right' }}> Low</span>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <span>Low</span> <span style={{ float: 'right' }}> High</span>\n        </div>\n      </div>\n\n      <div>{competencyView}</div>\n      <div className=\"vf-grid\">\n        <div />\n        <div style={{ textAling: 'center' }}>\n          {isGuestProfile ? (\n            <button\n              to={'#'}\n              className=\"vf-button\"\n              onClick={e => handleSummary(e)}\n            >\n              Summary <i className=\"icon-common icon-list\" />\n            </button>\n          ) : (\n            ''\n          )}\n        </div>\n        <div style={{ textAling: 'center' }}>\n          <button href=\"#\" className=\"vf-button\" onClick={e => handlePrint(e)}>\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n        </div>\n        <div />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilesCompareButterfly;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\n\nimport { Link } from 'react-router-dom';\n//import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\n//import ProfilesCompareTable from './ProfilesCompareTable';\n//import ProfilesCompareGraph from './ProfilesCompareGraph';\nimport ProfilesCompareButterfly from './ProfilesCompareButterfly';\nimport user_icon from './user_icon.png';\n//import Stars from './Stars';\nimport ReactTooltip from 'react-tooltip';\n\n//const $ = window.$;\n\nexport const ProfilesCompare = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profile1Id = props.location.pathname.split('/')[6];\n  const profile2Id = props.location.pathname.split('/')[7];\n  //var expertise_levels = [];\n  var expertise_levels_legend = [];\n\n  const [profile1, setProfile1] = useState();\n  const [profile2, setProfile2] = useState();\n  const [framework, setFramework] = useState();\n  const [isGuestProfile, setIsGuestProfile] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [link1, setLink1] = useState();\n  const [link2, setLink2] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (profile1Id === 'guest') {\n          await setProfile1(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink1(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n          );\n        } else {\n          setLink1(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile1Id}/alias`\n          );\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile1Id}&timestamp=${Date.now()}`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile1(findresponse);\n            });\n        }\n\n        if (profile2Id === 'guest') {\n          await setProfile2(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink2(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n          );\n        } else {\n          setLink2(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile2Id}/alias`\n          );\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile2Id}&timestamp=${Date.now()}`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile2(findresponse);\n            });\n        }\n\n        await fetch(`${apiUrl}/api/version_manager?_format=json`)\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFrameworkInfo(findresponse);\n          });\n\n        await fetch(\n          `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFramework(findresponse);\n          });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [frameworkName, frameworkVersion, profile1Id, profile2Id]);\n\n  if (frameworkInfo) {\n    frameworkInfo.forEach((info, index) => {\n      if (info.title.toLowerCase() === frameworkName) {\n        info.expertise_levels.map((level, levelIndex) =>\n          expertise_levels_legend.push(\n            <li\n              key={levelIndex}\n              className=\"vf-list__item\"\n              style={{ textAlign: 'center' }}\n            >\n              <div\n                data-tip={level.description ? level.description : 'NA'}\n                data-html={true}\n                data-type=\"info\"\n                data-multiline={true}\n              >\n                <span className=\"vf-badge vf-badge--tertiary\">\n                  {' '}\n                  {level.rating_level}{' '}\n                </span>{' '}\n                <span> {level.title}</span>\n              </div>\n              <ReactTooltip className=\"tooltip-custom\" />\n            </li>\n          )\n        );\n      }\n    });\n  }\n\n  return (\n    <div>\n      <h3>Compare career profiles</h3>\n      <span className=\"lead\">\n        Compare profile with other reference profiles to help you make career\n        choices based on your competency\n        {console.log(isGuestProfile)}\n      </span>\n\n      <div className=\"vf-grid\">\n        <div />\n        <div>\n          <div className=\"vf-u-margin__bottom--1200\" />\n          {profile1 ? (\n            <div className=\"vf-profile\">\n              <img\n                alt=\"profile1\"\n                src={profile1.image[0] ? profile1.image[0].url : user_icon}\n                width=\"120px\"\n                className=\"vf-profile__image\"\n              />\n              <Link to={link1 ? link1 : '#'}>\n                <h5>{profile1.job_title}</h5>\n              </Link>\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n\n        <div>\n          <div className=\"vf-u-margin__bottom--1200\" />\n          {profile2 ? (\n            <div className=\"vf-profile\">\n              <img\n                alt=\"profile2\"\n                src={profile2.image[0] ? profile2.image[0].url : user_icon}\n                width=\"120px\"\n                className=\"vf-profile__image\"\n              />\n              <Link to={link2}>\n                <h5>{profile2.job_title}</h5>\n              </Link>\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n        <div />\n      </div>\n\n      <div>\n        <div className=\"vf-u-margin__bottom--600\" />\n        <div className=\"legend-inline-wrapper\">\n          <strong>Rating levels </strong>{' '}\n          <ul className=\"vf-list legend-inline\">{expertise_levels_legend}</ul>\n        </div>\n      </div>\n      <p />\n\n      {profile1 && profile2 ? (\n        <ProfilesCompareButterfly\n          frameworkName={frameworkName}\n          frameworkVersion={frameworkVersion}\n          profile1Id={profile1Id}\n          profile2Id={profile2Id}\n          profile1={profile1}\n          profile2={profile2}\n          framework={framework}\n          frameworkInfo={frameworkInfo}\n          isGuestProfile={isGuestProfile}\n        />\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport const sendRoute = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\n      component={ProfilesCompare}\n    />\n  </Switch>\n);\n\nexport default sendRoute;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport HttpService from '../services/http/http';\n// import ProfileService from '../services/profile/profile';\n// import ActiveRequestsService from '../services/active-requests/active-requests';\n// import { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n//import Parser from 'html-react-parser';\n\nimport jsPDF from 'jspdf';\n//import moment from 'moment';\n\nconst $ = window.$;\n\nexport const ProfileMapDownload = props => {\n  // const activeRequests = new ActiveRequestsService();\n  // const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [expertiseLevels, setExpertiseLevels] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  // const [ksa, setKsa] = useState();\n  //const [profileAttributes, setProfileAttributes] = useState([]);\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkDesc = '';\n  //var frameworkLogo = '';\n\n  var mapping = [];\n  let mappingAttributes = [];\n  var expertise_levels_legend = [];\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n\n    if (storedProfile) {\n      // Get Profile from Session\n      setProfile(storedProfile);\n\n      const fetchData = async () => {\n        try {\n          // Get Framework\n          const promiseFramework = http\n            .get(`${apiUrl}/api/version_manager?_format=json`)\n            .then(responseFramework => responseFramework.data);\n\n          // Get Framework version\n          const promiseVersion = http\n            .get(\n              `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n            )\n            .then(responseVersion => responseVersion.data);\n\n          const [dataFramework, dataVersion] = await Promise.all([\n            promiseFramework,\n            promiseVersion\n          ]);\n\n          getExpertiseLevels(dataFramework, dataVersion[0].nid);\n          setFrameworkInfo(dataFramework);\n          setFramework(dataVersion);\n          // return false;\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      fetchData();\n    }\n  }, [frameworkVersion, frameworkName, http]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Download Profile\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    downloadProfileFromHtml(storedProfile);\n  };\n\n  const handleMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let expertise = event.target[event.target.selectedIndex].text;\n\n    if (expertise_id === expertise_not_applicable) {\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        false\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        true\n      );\n\n      removeCompetencyAttributes(competency_id);\n    } else {\n      // Create temp mapping\n      let tempMap = storedProfile['mapping'];\n\n      if (tempMap.find(o => o.competency_id === competency_id)) {\n        // Update stored Competencies only if existing levels of expertise is updated\n        if (tempMap.expertise_id !== expertise_id) {\n          var index = tempMap.findIndex(\n            item => item.competency_id === competency_id\n          );\n          // replace current stored values with incoming ones\n          tempMap.splice(index, 1, {\n            competency_id: competency_id,\n            expertise_id: expertise_id,\n            expertise: expertise\n          });\n        }\n        // Update local Storage mapping\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      } else {\n        // Add competency that has been selected\n        let tempMap = storedProfile['mapping'];\n        tempMap.push({\n          competency_id: competency_id,\n          expertise_id: expertise_id,\n          expertise: expertise\n        });\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      }\n\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        true\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        false\n      );\n\n      // Add Competency's selected attributes to LocalStorage\n      addCompetencyAttributes(competency_id);\n    }\n  };\n\n  // Add all attributes to LocalStorage if Competency is selected\n  const addCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    // let selectedAttributes = new Array();\n\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    // let attributes = $(\n    //   'input:checkbox[data-competency=' + competency + ']'\n    // ).each(function() {\n    //   if (\n    //     mappingAttributes.find(attr => attr.attribute_id === $(this).attr('id'))\n    //   ) {\n    //     // Do nothing if attributes are in LocalStorage already\n    //   } else {\n    //     mappingAttributes.push({\n    //       attribute_id: $(this).attr('id'),\n    //       competency_id: competency\n    //     });\n    //   }\n    // }, mappingAttributes);\n\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Remove current attributes if Competency is deselected\n  const removeCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    // let attributes = $(\n    //   'input:checkbox[data-competency=' + competency + ']'\n    // ).each(function() {\n    //   let index = mappingAttributes.findIndex(\n    //     item => item.attribute_id === $(this).attr('id')\n    //   );\n    //   // Remove current attributes if Competency is deselected\n    //   mappingAttributes.splice(index, 1);\n    // }, mappingAttributes);\n\n    // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Manage single Attributes check/uncheck event\n  const handleCheckboxMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target.getAttribute('data-competency');\n    let attribute_id = event.target.getAttribute('id');\n\n    // let mappingAttributes = JSON.parse(localStorage.getItem('mappingAttributes'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    let attributes = mappingAttributes;\n\n    if (mappingAttributes.find(attr => attr.attribute_id === attribute_id)) {\n      // Remove current attribute if deselected\n      var index = mappingAttributes.findIndex(\n        item => item.attribute_id === attribute_id\n      );\n      mappingAttributes.splice(index, 1);\n      // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n      storedProfile['mappingAttributes'] = mappingAttributes;\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    } else {\n      // Add attribute to LocalStorage\n      attributes.push({\n        attribute_id: attribute_id,\n        competency_id: competency_id\n      });\n      // localStorage.setItem('mappingAttributes', JSON.stringify(attributes));\n      storedProfile['mappingAttributes'] = attributes;\n      $('input:checkbox[id=' + attribute_id + ']').prop('checked', true);\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    }\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Set Expertise Level.\n  // const expertiseLevelsSelect= [\n  //   {id: 1, title: 'Not applicable', data_expertise: '6816'},\n  //   {id: 2, title: 'Awareness', data_expertise: '6817'},\n  //   {id: 3, title: 'Working knowledge', data_expertise: '6818'},\n  //   {id: 4, title: 'Specialist knowledge', data_expertise: '6819'}\n  // ];\n\n  // Get Expertise Level from API.\n  if (frameworkInfo) {\n    frameworkInfo.map(info => {\n      if (info.title.toLowerCase() === frameworkName) {\n        frameworkFullName = info.title;\n        //frameworkLogo = info.logo[0].url;\n        //frameworkDesc = info.description;\n        info.expertise_levels.map(\n          level => (expertise_levels[level.rating_level] = level.title)\n        );\n      }\n      return null;\n    });\n\n    //let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        <li style={{ textAlign: 'center' }}>\n          <span className=\"badge secondary\"> {key} </span> <span> {level}</span>\n        </li>\n      );\n      //index++;\n      return null;\n    });\n  }\n\n  const getExpertiseLevels = (frameworkInfo, fId) => {\n    let fw = frameworkInfo.filter(item => {\n      return item.nid === fId;\n    });\n\n    let levels = fw[0].expertise_levels;\n\n    // Set Expertise Level\n    setExpertiseLevels(levels);\n  };\n\n  const downloadProfileFromHtml = options => {\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    //const margin = 0.5;\n\n    //let currentDate = moment().format('MMMM D, Y');\n    //let currentTime = moment().format('hh:mm:ss');\n\n    //let pdfWidth = doc.internal.pageSize.getWidth();\n    //let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    //const pdfProfileImgWidth = 180;\n    //const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    //let col = pdfWidth * 0.07383;\n    //let gutter = pdfWidth * 0.01036727272;\n    //let fourthCol = col * 4 + gutter * 3;\n    //let fifthCol = col * 5 + gutter * 4;\n\n    //const profileBody = pdfWidth - fifthCol - 20;\n\n    // let selectedFileWidth = options.selectedFile\n    //   ? options.selectedFileData[0].width\n    //   : 180;\n    // let selectedFileHeight = options.selectedFile\n    //   ? options.selectedFileData[0].height\n    //   : 150;\n    //let ratio = selectedFileWidth / selectedFileHeight;\n    //let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    var specialElementHandlers = {\n      '#editor': function(element, renderer) {\n        return true;\n      }\n    };\n\n    let margins = {\n      top: startHeight,\n      bottom: 60,\n      left: marginleft,\n      right: marginright,\n      width: 490\n    };\n\n    var source = document.getElementById('profile');\n\n    // source = doc.splitTextToSize(\n    //   source,\n    //   profileBody\n    // );\n\n    let profileTitle = options.jobTitle.split(' ').join('_');\n    doc.fromHTML(\n      source,\n      marginleft,\n      currentYAxis,\n      {\n        // y coord\n        width: margins.width, // max width of content on PDF\n        elementHandlers: specialElementHandlers\n      },\n      function(dispose) {\n        // dispose: object with X, Y of the last line add to the PDF\n        //          this allow the insertion of new lines after html\n        doc.save(profileTitle.toLowerCase() + '.pdf');\n      }\n      // margins\n    );\n\n    // doc.output(\"/framework/bioexcel/2.0/profile/map/download/myprofile\");\n  };\n\n  // Set fielc HTML content + Heading if not empty\n  const setFieldContent = (heading, field) => {\n    let fieldContent = field ? '<h3>' + heading + '</h3>' + field : '';\n    return { __html: fieldContent };\n  };\n\n  const generateForm = () => {\n    // console.log('frameworkInfo')\n    // console.log(frameworkInfo)\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            level => (\n              (expertise_levels[level.id] = level.title),\n              level.title === 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : ''\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.mapping;\n\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      mappingAttributes = storedProfile['mappingAttributes'];\n    }\n\n    if (framework) {\n      competencyForm = framework.map((item, index) =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li key={index} className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h4 className=\"domain_title\"> {domain.title}</h4>\n                </div>\n                <div className=\"column medium-3\">\n                  <h4>Levels of expertise</h4>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li key={cid} className=\"competency_list\">\n                    <div className=\"row\">\n                      <div className=\"column medium-9\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                  <p className=\"show-for-sr\">show more</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-up icon-custom\">\n                                  <p className=\"show-for-sr\">show less</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map((attribute_type, index) => {\n                              return (\n                                <li key={index} className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type === attribute_type\n                                      )\n                                      .map((attribute, jIndex) => (\n                                        <li\n                                          key={jIndex}\n                                          className=\"attribute_title\"\n                                        >\n                                          <div className=\"row\">\n                                            <div className=\"column medium-1\">\n                                              <input\n                                                onChange={e =>\n                                                  handleCheckboxMapping(e)\n                                                }\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                data-competency={competency.id}\n                                                checked={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ===\n                                                      attribute.id\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                              />\n                                            </div>\n                                            <div className=\"column medium-11\">\n                                              <label\n                                                className={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ===\n                                                      attribute.id\n                                                  )\n                                                    ? 'attribute_label checked'\n                                                    : 'attribute_label'\n                                                }\n                                                htmlFor={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n\n                      <div className=\"column medium-3\">\n                        <select\n                          onChange={e => handleMapping(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency_id === competency.id)\n                              ? mapping.find(\n                                  o => o.competency_id === competency.id\n                                ).expertise_id\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertiseLevels.map((level, key) => (\n                            <option\n                              key={key}\n                              value={level.id}\n                              data-expertise={level.id}\n                              data-competency={competency.id}\n                            >\n                              {level.title}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  // const handlePrint = () => {\n  //   window.print();\n  // };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>Add competencies to your profile </h2>\n\n            <div id=\"profile\" className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <h3>\n                    {profile.title.charAt(0).toUpperCase() +\n                      profile.title.slice(1)}{' '}\n                    - {profile.jobTitle}\n                  </h3>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3 text-center\">\n                  {profile.selectedFileData[0] ? (\n                    <img\n                      src={\n                        profile.selectedFileData[0].src\n                          ? profile.selectedFileData[0].src\n                          : user_icon\n                      }\n                      width=\"250px\"\n                      alt=\"\"\n                    />\n                  ) : (\n                    ''\n                  )}\n                  <div className=\"text-center\">\n                    <br />\n                    {profile.gender}, {profile.age} years\n                  </div>\n                </div>\n                <div className=\"column medium-9\">\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Qualifications and background',\n                      profile.qualification\n                    )}\n                  />\n                  {/* <div className=\"form_intro\"\n                    dangerouslySetInnerHTML={{ __html: profile.qualification }}\n                  /> */}\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Activities and current role',\n                      profile.currentRole\n                    )}\n                  />\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Additional information',\n                      profile.additionalInfo\n                    )}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <br />\n                  <h3>Your competencies</h3>\n                  <p>\n                    The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                  <p>\n                    You may assign a level expertise against each competency.\n                    The levels of expertise are:\n                  </p>\n                  <div className=\"legend-inline-wrapper\">\n                    <strong>Rating levels </strong>{' '}\n                    <ul className=\"legend-inline\">{expertise_levels_legend}</ul>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <div className=\"competency_section\">\n                    {\n                      <form onSubmit={e => handleSubmit(e)}>\n                        {competencyForm}\n                        <div className=\"submit_fixed\">\n                          <button className=\"button\" type=\"submit\">\n                            Print <i className=\"icon icon-common icon-print\" />\n                          </button>\n                        </div>\n                      </form>\n                    }\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  {/* <div>{profile.qualification}</div> */}\n\n                  {/* <div>{profile.currentRole}</div> */}\n                  {/* <h5>{profile.title}</h5> */}\n                  {/* <Link\n                    to={`/framework/bioexcel/2.0/profile/view/${profileId}/alias`}\n                  >\n                    {' '}\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview{' '}\n                  </Link> */}\n                </div>\n                <div className=\"column medium-6 form_intro\" />\n                <div className=\"column medium-3\">\n                  {/* <img src={frameworkLogo} />\n                  <br /> */}\n                </div>\n              </div>\n\n              {/* <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button className=\"button\" type=\"submit\">\n                        Download{' '}\n                        <i className=\"icon icon-common icon-download\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfileDownload = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/download\"\n      component={ProfileMapDownload}\n    />\n  </Switch>\n);\n\nexport default MapProfileDownload;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Parser from 'html-react-parser';\n\nimport { apiUrl } from '../services/http/http';\n//import ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactTooltip from 'react-tooltip';\nimport user_icon from './user_icon.png';\n//const $ = window.$;\n\nexport const ProfileViewGuest = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  var competencyView = '';\n  //var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping = [];\n\n  //let profile2Expertise = '';\n  let width2 = '';\n  //let floatRight = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await setProfile(JSON.parse(localStorage.getItem('guestProfile')));\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n  }, [frameworkName, frameworkVersion]);\n\n  const getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency === competency);\n      if (obj) {\n        if (frameworkInfo) {\n          // let expertise = frameworkInfo[0].expertise_levels.find(\n          //   level => level.id == obj.expertise\n          // );\n          let expertise = frameworkInfo\n            .find(info => info.title.toLowerCase() === frameworkName)\n            .expertise_levels.find(level => level.id === obj.expertise);\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n  const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n  const getBarWidth = data => {\n    let totalLevels = frameworkInfo.find(\n      info => info.title.toLowerCase() === frameworkName\n    ).expertise_levels.length;\n\n    width2 = data ? 100 / ((totalLevels - 1) / data.rating_level) : 0;\n    console.log(data);\n    return width2;\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map((level, index) =>\n            expertise_levels_legend.push(\n              <li\n                key={level.rating_level}\n                className=\"vf-list__item\"\n                style={{ textAlign: 'center' }}\n              >\n                <div\n                  data-tip={level.description ? level.description : 'NA'}\n                  data-html={true}\n                  data-type=\"info\"\n                  data-multiline={true}\n                >\n                  <span className=\"vf-badge vf-badge--tertiary\">\n                    {' '}\n                    {level.rating_level}{' '}\n                  </span>{' '}\n                  <span> {level.title}</span>\n                </div>\n                <ReactTooltip className=\"tooltip-custom\" />\n              </li>\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n      console.log(mapping);\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map((domain, domainIndex) => (\n          <div key={domainIndex}>\n            <div className=\"row callout\">\n              <div className=\"column medium-12 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n            </div>\n            {domain.competencies.map((competency, compIndex) => (\n              <div key={compIndex}>\n                <div className=\"vf-grid vf-grid__col-4\">\n                  <div className=\"vf-grid__col--span-3\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{\n                          width: getBarWidth(getExpertise(competency.id)) + '%',\n                          display: 'flow-root'\n                        }}\n                      >\n                        <span\n                          style={{\n                            float:\n                              getBarWidth(getExpertise(competency.id)) === 0\n                                ? 'none'\n                                : 'right'\n                          }}\n                          className=\"rating_level_number\"\n                        >\n                          {getExpertise(competency.id)\n                            ? getExpertise(competency.id).rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map((attribute_type, typeIndex) => {\n                      return (\n                        <div\n                          key={typeIndex}\n                          className=\"accordion-item is-active\"\n                          data-accordion-item\n                        >\n                          <div className=\"vf-grid vf-grid__col-4 attribute_align_type\">\n                            <div className=\"vf-grid__col--span-3\">\n                              <strong> {attribute_type} </strong>\n                            </div>\n                            <div className=\"vf-grid__col--span-1\" />\n                          </div>\n                          {competency.attributes\n                            .filter(\n                              attribute => attribute.type === attribute_type\n                            )\n                            .map((attribute, attrIndex) => {\n                              return (\n                                <div\n                                  key={attrIndex}\n                                  className=\"vf-grid vf-grid__col-4 attribute_align\"\n                                >\n                                  <div className=\"vf-grid__col--span-3\">\n                                    {attribute.title}\n                                  </div>\n                                  <div className=\"vf-grid__col--span-1\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile1'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            ))}\n          </div>\n        ))\n      );\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      {generateProfileView()}\n      {profile ? (\n        <div id=\"profile\">\n          <h2 style={{ marginTop: '1em', marginBottom: '1em' }}>\n            {profile.title} - {profile.job_title}\n          </h2>\n\n          <div style={{ float: 'right' }}>\n            <ul>\n              <li className=\"profile_navigation\">\n                <Link\n                  className=\"vf-button vf-button--sm vf-button--primary\"\n                  to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n                >\n                  Edit overview\n                  <i className=\"icon icon-common icon-pencil-alt\" />\n                </Link>\n              </li>\n              <li className=\"profile_navigation\">\n                <Link\n                  className=\"vf-button vf-button--sm vf-button--primary\"\n                  to={`/framework/${frameworkName}/${frameworkVersion}/profile/map/guest`}\n                >\n                  Map competencies <i className=\"icon icon-common icon-cog\" />{' '}\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          <div\n            className={profile.publishing_status + ' vf-grid vf-grid__col-4'}\n          >\n            <div className=\"vf-grid__col--span-1\">\n              <center>\n                <img\n                  alt=\"\"\n                  style={{ display: 'block', maxWidth: '150px' }}\n                  src={profile.image[0] ? profile.image[0].url : user_icon}\n                  //src='#'\n                />\n              </center>\n              <p />\n              <div style={{ textAlign: 'center' }}>\n                {profile.gender !== 'None' ? (\n                  <div>\n                    {profile.gender && profile.gender === 'Prefernottosay' ? (\n                      <p> Gender: Prefer not to say </p>\n                    ) : (\n                      ''\n                    )}\n\n                    {profile.gender && profile.gender !== 'Prefernottosay' ? (\n                      <span> Gender: {profile.gender} </span>\n                    ) : (\n                      ''\n                    )}\n                  </div>\n                ) : (\n                  ''\n                )}\n\n                {profile.age ? <p> Age: {profile.age + ' years'} </p> : ''}\n              </div>\n            </div>\n            <div className=\"vf-grid__col--span-3\">\n              <h3>Qualification and background</h3>\n\n              {profile.qualification_background\n                ? Parser(profile.qualification_background)\n                : ''}\n\n              <h3>Activities of current role</h3>\n              {profile.current_role ? Parser(profile.current_role) : ''}\n\n              {profile.additional_information\n                ? Parser(profile.additional_information)\n                : ''}\n            </div>\n            <p />\n          </div>\n          <p>&nbsp;</p>\n\n          <div className=\"vf-grid vf-grid__col-4\">\n            <div className=\"vf-grid__col--span-1\">\n              {' '}\n              <h5 style={{ marginTop: '25px' }}>\n                {frameworkFullName} {frameworkVersion} / Competencies\n              </h5>\n            </div>\n            <div className=\"vf-grid__col--span-3\">\n              <ul className=\"vf-list legend-inline\" style={{ float: 'right' }}>\n                {expertise_levels_legend}\n              </ul>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"column medium-12\" />\n          </div>\n          <hr />\n          {competencyView}\n        </div>\n      ) : (\n        'Loading profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"button\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewGuestProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/guest\"\n      component={ProfileViewGuest}\n    />\n  </Switch>\n);\n\nexport default ViewGuestProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n\nimport ReactTooltip from 'react-tooltip';\n\nconst $ = window.$;\n\nexport const ProfileMapGuest = props => {\n  const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [mapping, setMapping] = useState();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const storedProfile = JSON.parse(localStorage.getItem('guestProfile'));\n      if (storedProfile) {\n        setProfile(storedProfile);\n        setMapping(\n          storedProfile.profile_mapping ? storedProfile.profile_mapping : []\n        );\n      }\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    // fetchData();\n\n    if (!mapping) {\n      fetchData();\n    }\n\n    // if (mapping) {\n    //   let checkBoxes = $('input:checkbox');\n    //   checkBoxes.each(function(index, item, arr) {\n    //     console.log('test ' + item.dataset);\n    //   });\n    // }\n  }, [frameworkName, frameworkVersion, mapping]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    let response = await profileService.mapProfileGuest(mapping);\n    console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    let checkBoxes = $('input:checkbox[data-competency=' + competency_id + ']');\n\n    if (expertise_id === expertise_not_applicable) {\n      checkBoxes.each(function(index, item, arr) {\n        item.checked = false;\n        item.disabled = true;\n      });\n      //console.log(tempMapping.find(o => o.competency == competency_id))\n      // tempMapping.splice(\n      //   tempMapping.find(o => o.competency == competency_id),\n      //   1\n      // );\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency !== competency_id);\n      console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus === true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    console.log(mapping);\n  };\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.forEach(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            (level, levelIndex) => (\n              (expertise_levels[level.id] = level.title),\n              level.title === 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : '',\n              expertise_levels_legend.push(\n                <li\n                  key={levelIndex}\n                  className=\"vf-list__item\"\n                  style={{ textAlign: 'center' }}\n                >\n                  <div\n                    data-tip={level.description ? level.description : 'NA'}\n                    data-html={true}\n                    data-type=\"info\"\n                    data-multiline={true}\n                  >\n                    <span className=\"vf-badge vf-badge--tertiary\">\n                      {' '}\n                      {level.rating_level}{' '}\n                    </span>{' '}\n                    <span> {level.title}</span>\n                  </div>\n                  <ReactTooltip className=\"tooltip-custom\" />\n                </li>\n              )\n            )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul key={`ul${did}`}>\n            <li key={did} className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li key={cid} className=\"competency_list\">\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(\n                              (attribute_type, typeIndex) => {\n                                return (\n                                  <li\n                                    key={typeIndex}\n                                    className=\"attribute_type\"\n                                  >\n                                    {attribute_type}\n                                    <ul>\n                                      {competency.attributes\n                                        .filter(\n                                          attribute =>\n                                            attribute.type === attribute_type\n                                        )\n                                        .map((attribute, attrIndex) => (\n                                          <li\n                                            key={attrIndex}\n                                            className=\"attribute_title\"\n                                          >\n                                            <div className=\"vf-grid vf-grid__col-4\">\n                                              <div className=\"vf-grid__col--span-1\">\n                                                <input\n                                                  type=\"checkbox\"\n                                                  id={attribute.id}\n                                                  onChange={e =>\n                                                    handleCheckBox(e)\n                                                  }\n                                                  defaultChecked={\n                                                    mapping\n                                                      ? mapping.find(o =>\n                                                          o.attributes.find(\n                                                            a =>\n                                                              a === attribute.id\n                                                          )\n                                                        )\n                                                        ? true\n                                                        : false\n                                                      : false\n                                                  }\n                                                  disabled={\n                                                    mapping\n                                                      ? mapping.find(\n                                                          o =>\n                                                            o.competency ===\n                                                            competency.id\n                                                        )\n                                                        ? false\n                                                        : true\n                                                      : true\n                                                  }\n                                                  data-competency={\n                                                    competency.id\n                                                  }\n                                                />\n                                              </div>\n                                              <div className=\"vf-grid__col--span-3\">\n                                                <label\n                                                  className=\"attribute_label\"\n                                                  htmlFor={attribute.id}\n                                                >\n                                                  {' '}\n                                                  {attribute.title}\n                                                </label>\n                                              </div>\n                                            </div>\n                                          </li>\n                                        ))}\n                                    </ul>\n                                  </li>\n                                );\n                              }\n                            )}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <select\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping\n                              ? mapping.find(\n                                  o => o.competency === competency.id\n                                )\n                                ? mapping.find(\n                                    o => o.competency === competency.id\n                                  ).expertise\n                                : expertise_not_applicable\n                              : expertise_not_applicable\n                          }\n                          className=\"vf-form__select\"\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              key={value}\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      <nav>\n        <Link to={'/'}>Home</Link> /{' '}\n        <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n          {' '}\n          {frameworkFullName} {frameworkVersion}{' '}\n        </Link>{' '}\n      </nav>\n      {profile ? (\n        <div key={'div123'}>\n          <div key={'div567'} className=\"row\">\n            <h2>\n              Competency mapping: {frameworkFullName} {frameworkVersion} -{' '}\n              {profile.job_title}{' '}\n            </h2>\n\n            <div key={'div350'} className=\"column medium-12\">\n              <div className=\"vf-grid vf-grid__col-5\">\n                <div className=\"vf-grid__col--span-4\" />\n                <div className=\"vf-grid__col--span-1\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`}\n                  >\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  <img\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                    alt=\"\"\n                  />\n                </div>\n                <div className=\"vf-grid__col--span-3 form_intro\">\n                  <p>\n                    Hi Guest. The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                </div>\n              </div>\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"vf-grid__col--span-3\">\n                  <ul\n                    className=\"vf-list legend-inline\"\n                    style={{ float: 'right' }}\n                  >\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form key={profile.id} onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button\n                        className=\"vf-button vf-button--primary vf-button--sm\"\n                        type=\"submit\"\n                      >\n                        Save <i className=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/guest\"\n      component={ProfileMapGuest}\n    />\n  </Switch>\n);\n\nexport default path;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\n\nexport const ProfileEdit = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  //const [profile, setProfile] = useState();\n\n  //const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState();\n  const [age, setAge] = useState();\n  const [currentRole, setCurrentRole] = useState();\n  const [gender, setGender] = useState();\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState();\n  const [qualification, setQualification] = useState();\n  const [additionalInfo, setAdditionalInfo] = useState();\n  const [publishStatus, setPublishStatus] = useState();\n  const [userFrameworks, setUserFrameworks] = useState([]);\n  // const [framework, setFramework] = useState();\n\n  var userName = localStorage.getItem('user')\n    ? localStorage.getItem('user')\n    : '';\n\n  //var user_roles = localStorage.getItem('roles')\n  //  ? localStorage.getItem('roles')\n  //  : '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/node/${profileId}?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          //setProfile(findresponse);\n          setTitle(findresponse.title[0].value);\n          setImgpreview(\n            findresponse.field_image[0] ? findresponse.field_image[0].url : ''\n          );\n          setFid(\n            findresponse.field_image[0]\n              ? findresponse.field_image[0].target_id\n              : ''\n          );\n          setJobTitle(\n            findresponse.field_job_title[0]\n              ? findresponse.field_job_title[0].value\n              : ''\n          );\n          setAge(\n            findresponse.field_age[0] ? findresponse.field_age[0].value : ''\n          );\n          setGender(\n            findresponse.field_gender[0]\n              ? findresponse.field_gender[0].value\n              : 'None'\n          );\n          setCurrentRole(\n            findresponse.field_current_role[0]\n              ? findresponse.field_current_role[0].value\n              : ''\n          );\n          setQualification(\n            findresponse.field_qualification_background[0]\n              ? findresponse.field_qualification_background[0].value\n              : ''\n          );\n          setAdditionalInfo(\n            findresponse.field_additional_information[0]\n              ? findresponse.field_additional_information[0].value\n              : ''\n          );\n          setPublishStatus(\n            findresponse.field_publishing_status[0]\n              ? findresponse.field_publishing_status[0].value\n              : ''\n          );\n        });\n\n      await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n        method: 'GET',\n        credentials: 'include'\n      })\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setUserFrameworks(findresponse);\n        });\n    };\n    fetchData();\n  }, [profileId, userName]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    } else {\n      let token = localStorage.getItem('csrf_token');\n      var fileid = fid;\n      if (selectedFile) {\n        console.log(selectedFile);\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            console.log(data);\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      );\n\n      if (response.nid[0].value) {\n        props.history.push(\n          `/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n            response.nid[0].value\n          }/alias`\n        );\n      }\n    }\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Download';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--primary vf-button--sm\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  // const setPreview = () => {\n  //   props.history.push(\n  //     `/framework/${frameworkName}/${frameworkVersion}/profile/preview`,\n  //     {\n  //       title: title\n  //     }\n  //   );\n  // };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      console.log(e.target.files[0]);\n\n      setImgpreview(objectUrl);\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setImgpreview(undefined);\n    setFid(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  const checkFMAccess = () => {\n    var temp = [];\n    userFrameworks.map(item => {\n      temp.push(item.toLowerCase());\n      return null;\n    });\n    if (temp.includes(frameworkName)) {\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <div>\n      {checkFMAccess() ? (\n        <div>\n          <Link\n            to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}\n          >\n            {' '}\n            View{' '}\n          </Link>\n          <h2>Create {placeholder} profile</h2>\n\n          <form\n            className=\"form\"\n            id=\"profile_create_form\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"vf-grid vf-grid__col-4\">\n              <div className=\"vf-grid__col--span-1\">\n                <span>\n                  <strong>Name</strong>\n                  <input\n                    type=\"text\"\n                    id=\"title\"\n                    placeholder=\"Name\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                  <div className={titleCalloutClass}>\n                    <i>{nameHelp}</i>\n                  </div>\n                </span>\n                <span>\n                  <strong>Image</strong>\n                  <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n                </span>\n\n                <span>\n                  <img\n                    alt=\"\"\n                    id=\"imgpreview_image\"\n                    width=\"100px\"\n                    src={imgpreview}\n                    height=\"100px\"\n                    style={{\n                      border: '1px solid #ccc',\n                      padding: '5px',\n                      width: '30%'\n                    }}\n                  />\n                  {imgpreview ? (\n                    <div>\n                      <button onClick={e => clearimgpreview(e)}>\n                        Clear image x\n                      </button>\n                    </div>\n                  ) : (\n                    ''\n                  )}\n\n                  {fileSizeError ? (\n                    <div className=\"small callout alert\">\n                      <em> Image size should not be more than 2 MB </em>{' '}\n                    </div>\n                  ) : (\n                    ''\n                  )}\n\n                  {fileTypeError ? (\n                    <div className=\"small callout alert\">\n                      <em> Only JPG or PNG images are allowed </em>{' '}\n                    </div>\n                  ) : (\n                    ''\n                  )}\n                </span>\n                <span>\n                  <strong>Age (in years)</strong>\n                  <input\n                    type=\"number\"\n                    id=\"age\"\n                    placeholder=\"Age\"\n                    width={4}\n                    value={age}\n                    onChange={e => setAge(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n                <span>\n                  <strong>Gender</strong>\n                  <select\n                    value={gender}\n                    defaultValue=\"-None-\"\n                    onChange={e => setGender(e.target.value)}\n                    className=\"vf-form__select\"\n                  >\n                    <option value={'None'}>None</option>\n                    <option value={'Male'}>Male</option>\n                    <option value={'Female'}>Female</option>\n                    <option value={'Nonbinary'}>Nonbinary</option>\n                    <option value={'Prefernottosay'}>Prefer not to say</option>\n                  </select>\n                </span>\n              </div>\n              <div className=\"vf-grid__col--span-3\">\n                <span>\n                  <strong>Job title</strong>\n                  <input\n                    type=\"text\"\n                    id=\"jobTitle\"\n                    placeholder=\"Job title\"\n                    value={jobTitle}\n                    onChange={e => setJobTitle(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                  <div className={jobTitleCalloutClass}>\n                    <i>{jobTitleHelp}</i>\n                  </div>\n                </span>\n                <span>\n                  <strong>Qualification and background</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={qualification}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setQualification(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <br />\n                <span>\n                  <strong>Activities of current role</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={currentRole}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setCurrentRole(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <br />\n                <span>\n                  <strong>Additional information</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={additionalInfo}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setAdditionalInfo(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <span>\n                  <strong>Publishing status</strong>\n                  <select\n                    value={publishStatus}\n                    defaultValue=\"-None-\"\n                    onChange={e => setPublishStatus(e.target.value)}\n                    className=\"vf-form__select\"\n                  >\n                    <option value={'Draft'}>Draft</option>\n                    <option value={'Live'}>Live</option>\n                  </select>\n                </span>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"column large-4\">\n                <br />\n                <br />\n              </div>\n              <div className=\"column large-8\" />\n            </div>\n\n            <p />\n            <div className=\"row\">\n              <div className=\"column medium-2\" />\n              <div className=\"column medium-3\">\n                <ButtonLabel />\n              </div>\n              <div className=\"column medium-7\" />\n            </div>\n          </form>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport const EditProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/edit/:id\"\n      component={ProfileEdit}\n    />\n  </Switch>\n);\n\nexport default EditProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n\nimport ReactTooltip from 'react-tooltip';\n\nconst $ = window.$;\n\nexport const ProfileMap = props => {\n  //const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  //const [ksa, setKsa] = useState();\n  const [mapping, setMapping] = useState();\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  //var mapping = [];\n  //var checkboxes = [];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n\n    if (mapping) {\n      let checkBoxes = $('input:checkbox');\n      checkBoxes.each(function(index, item, arr) {\n        console.log('test ' + item.dataset);\n      });\n    }\n  }, [profileId, frameworkName, frameworkVersion, mapping]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    let response = await profileService.mapProfile(profileId, mapping);\n    console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    let checkBoxes = $('input:checkbox[data-competency=' + competency_id + ']');\n\n    if (expertise_id === expertise_not_applicable) {\n      checkBoxes.each(function(index, item, arr) {\n        item.checked = false;\n        item.disabled = true;\n      });\n\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency !== competency_id);\n      console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus === true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    console.log(mapping);\n  };\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            level => (\n              (expertise_levels[level.id] = level.title),\n              level.title === 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : '',\n              expertise_levels_legend.push(\n                <li className=\"vf-list__item\" style={{ textAlign: 'center' }}>\n                  <div\n                    data-tip={level.description ? level.description : 'NA'}\n                    data-html={true}\n                    data-type=\"info\"\n                    data-multiline={true}\n                  >\n                    <span className=\"vf-badge vf-badge--tertiary\">\n                      {' '}\n                      {level.rating_level}{' '}\n                    </span>{' '}\n                    <span> {level.title}</span>\n                  </div>\n                  <ReactTooltip className=\"tooltip-custom\" />\n                </li>\n              )\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      if (!mapping) {\n        setMapping(profile.profile_mapping);\n      }\n      console.log(mapping);\n    }\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li className=\"competency_list\">\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <li className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type === attribute_type\n                                      )\n                                      .map(attribute => (\n                                        <li className=\"attribute_title\">\n                                          <div className=\"vf-grid vf-grid__col-4\">\n                                            <div className=\"vf-grid__col--span-1\">\n                                              <input\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                onChange={e =>\n                                                  handleCheckBox(e)\n                                                }\n                                                defaultChecked={\n                                                  mapping.find(o =>\n                                                    o.attributes.find(\n                                                      a => a === attribute.id\n                                                    )\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                                disabled={\n                                                  mapping.find(\n                                                    o =>\n                                                      o.competency ===\n                                                      competency.id\n                                                  )\n                                                    ? false\n                                                    : true\n                                                }\n                                                data-competency={competency.id}\n                                              />\n                                            </div>\n                                            <div className=\"vf-grid__col--span-3\">\n                                              <label\n                                                className=\"attribute_label\"\n                                                for={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <select\n                          className=\"vf-form__select\"\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency === competency.id)\n                              ? mapping.find(\n                                  o => o.competency === competency.id\n                                ).expertise\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      <nav>\n        <Link to={'/'}>Home</Link> /{' '}\n        <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n          {' '}\n          {frameworkFullName} {frameworkVersion}{' '}\n        </Link>{' '}\n      </nav>\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>\n              Competency mapping: {frameworkFullName} {frameworkVersion} -{' '}\n              {profile.job_title}{' '}\n            </h2>\n\n            <div className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-10\" />\n                <div className=\"column medium-2\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}\n                  >\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  <img\n                    alt=\"\"\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                  />\n                </div>\n                <div className=\"column medium-9 form_intro\">\n                  <p>\n                    The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                </div>\n              </div>\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"vf-grid__col--span-3\">\n                  <ul\n                    className=\"vf-list legend-inline\"\n                    style={{ float: 'right' }}\n                  >\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button\n                        className=\"vf-button vf-button--primary vf-button--sm\"\n                        type=\"submit\"\n                      >\n                        Save <i className=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/:id\"\n      component={ProfileMap}\n    />\n  </Switch>\n);\n\nexport default MapProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n//import { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\n//import summary from './bioexcel_2_profiles_compare_summary.json';\n\nexport const ProfilesCompareSummary = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const location = useLocation();\n  const [summary, setSummary] = useState();\n\n  let profileJobTitle = location.state.profileJobTitle;\n  let includeSummary = location.state.includeSummary;\n  var competencyView = '';\n  var attribute_types = [];\n  // var frameworkFullName = '';\n  // var frameworkLogo = '';\n  // var frameworkDesc = '';\n  // var user_roles = localStorage.getItem('roles')\n  //   ? localStorage.getItem('roles')\n  //   : '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/profile_summary/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setSummary(findresponse);\n        });\n    };\n    fetchData();\n  }, [profileId, frameworkVersion, frameworkName]);\n\n  if (summary) {\n    console.log(summary);\n  }\n\n  const findResources = competency_id => {\n    if (summary) {\n      let test = summary.map(item => {\n        if (item.id === competency_id) {\n          return item.resources.map(resource => {\n            return (\n              <li>\n                <a\n                  href={resource.resourceLink}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {' '}\n                  {resource.resourceName}{' '}\n                </a>\n              </li>\n            );\n          });\n        }\n        return null;\n      });\n      return test;\n    }\n  };\n\n  const generateSummary = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          //frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map(domain => (\n          <div>\n            <div className=\"row callout\">\n              <div className=\"column medium-8 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n              <div className=\"column medium-4 \">\n                <h5>Learning Resources</h5>\n              </div>\n            </div>\n            {domain.competencies.map(competency =>\n              includeSummary.indexOf(competency.id) !== -1 ? (\n                <div>\n                  <div id={competency.id} className=\"row\">\n                    <div className=\"column medium-8\">\n                      <span className=\"competency_title\">\n                        <div>\n                          <Collapsible\n                            trigger={\n                              <div className=\"open-close-title\">\n                                <i className=\"icon icon-common icon-angle-right icon-custom\" />{' '}\n                                {competency.title}\n                              </div>\n                            }\n                            triggerWhenOpen={\n                              <div className=\"open-close-title\">\n                                <i className=\"icon icon-common icon-angle-down icon-custom\" />{' '}\n                                {competency.title}\n                              </div>\n                            }\n                          >\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <div\n                                  className=\"accordion-item is-active\"\n                                  data-accordion-item\n                                >\n                                  <div className=\"row attribute_align_type\">\n                                    <div className=\"column medium-8\">\n                                      <strong> {attribute_type} </strong>\n                                    </div>\n                                    <div className=\"column medium-4\" />\n                                  </div>\n                                  {competency.attributes\n                                    .filter(\n                                      attribute =>\n                                        attribute.type === attribute_type\n                                    )\n                                    .map(attribute => {\n                                      return (\n                                        <div className=\"row attribute_align\">\n                                          <div className=\"column medium-8\">\n                                            {attribute.title}\n                                          </div>\n                                        </div>\n                                      );\n                                    })}\n                                </div>\n                              );\n                            })}\n                          </Collapsible>\n                        </div>\n                      </span>\n                    </div>\n                    <div className=\"column medium-4\">\n                      <ul>{findResources(competency.id)}</ul>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                ''\n              )\n            )}\n          </div>\n        ))\n      );\n    }\n  };\n\n  // const handlePrint = () => {\n  //   window.print();\n  // };\n\n  return (\n    <div>\n      {generateSummary()}\n      <h2>Summary of learning resources</h2>\n      <p className=\"lead\">\n        Based on the comparison of your profile, the following are the suggested\n        learning resources to help develop your career, if you want to become{' '}\n        {profileJobTitle}\n      </p>\n      {competencyView}\n    </div>\n  );\n};\n\nexport const SummaryPath = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\n      component={ProfilesCompareSummary}\n    />\n  </Switch>\n);\n\nexport default SummaryPath;\n","import React from 'react';\nimport SwaggerUI from 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport data from './CompetencyHubAPIs.json';\n\nconst Documentation = () => {\n  return (\n    <>\n      <h1 style={{ color: '#000' }}>API Documentation</h1>\n      <h3>Our API documenation is based on Open API specifications 2.0.</h3>\n      <SwaggerUI spec={data} />\n    </>\n  );\n};\n\nexport default Documentation;\n","import HttpService from '../http/http';\r\n\r\nconst http = new HttpService();\r\nconst loginUrl = '/user/login?_format=json';\r\nconst logoutUrl = '/user/logout';\r\n\r\nexport async function login(username, password) {\r\n  const credentials = { name: username, pass: password };\r\n  try {\r\n    const response = await http.post(loginUrl, credentials);\r\n    const { data } = response;\r\n    console.log(response);\r\n\r\n    localStorage.setItem('roles', data.current_user.roles);\r\n    localStorage.setItem('csrf_token', data.csrf_token);\r\n    localStorage.setItem('logout_token', data.logout_token);\r\n    localStorage.setItem('user', data.current_user.name);\r\n    localStorage.setItem('userid', data.current_user.uid);\r\n    console.log(localStorage.getItem('roles'));\r\n    return data;\r\n  } catch (error) {\r\n    logout();\r\n    //throw error;\r\n    alert(`Login failed with ${error.response.data}`);\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  let logout_token = localStorage.getItem('logout_token');\r\n  localStorage.removeItem('roles');\r\n  localStorage.removeItem('csrf_token');\r\n  localStorage.removeItem('logout_token');\r\n  localStorage.removeItem('userid');\r\n  localStorage.removeItem('user');\r\n  return http.get(`${logoutUrl}?_format=json&token=${logout_token}`, true);\r\n}\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport LoginForm from './login-form/LoginForm';\nimport { login, logout } from '../services/auth/auth';\n\nclass Login extends Component {\n  static propTypes = {\n    user: PropTypes.string.isRequired,\n    roles: PropTypes.string.isRequired,\n    onLogin: PropTypes.func.isRequired,\n    onLogout: PropTypes.func.isRequired\n  };\n\n  onLogin = (username, password) => {\n    login(username, password);\n  };\n\n  onLogout = () => {\n    logout();\n  };\n\n  render() {\n    //const { roles, user, isActive } = this.props;\n    const { roles, user } = this.props;\n\n    return (\n      <div>\n        {user && roles ? (\n          <h2>You are logged in</h2>\n        ) : (\n          <LoginForm onSubmit={this.onLogin} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { useEffect, useState } from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { apiUrl } from '../../services/http/http';\n\nconst ManageFrameworks = props => {\n  const [frameworks, setFrameworks] = useState();\n  let user = localStorage.getItem('user');\n  let token = localStorage.getItem('csrf_token');\n\n  useEffect(() => {\n    const fetchData = () => {\n      fetch(`${apiUrl}/api/authorisation/${user}?_format=json`, {\n        method: 'GET',\n        credentials: 'include'\n      })\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworks(findresponse);\n        });\n    };\n    fetchData();\n  }, [user, token]);\n\n  return (\n    <div className=\"vf-activity\">\n      <h2>Manage frameworks</h2>\n      <ul className=\"vf-activity__list | vf-list\">\n        {frameworks ? (\n          frameworks.map(framework => {\n            return (\n              <li className=\"vf-activity__item\" key={framework}>\n                <Link\n                  to={`/framework/${framework\n                    .toLowerCase()\n                    .replace(/\\s+/g, '')}/manage/data`}\n                >\n                  {framework}\n                </Link>\n              </li>\n            );\n          })\n        ) : (\n          <li style={{ color: '#000' }}>No Framework assigned to this user.</li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nconst exportURL = () => (\n  <Switch>\n    <Route exact path=\"/manage-frameworks\" component={ManageFrameworks} />\n  </Switch>\n);\n\nexport default exportURL;\n","import React from 'react';\nimport EU from '../components/assets/european-union.png';\nimport PerMed from '../components/assets/PerMedCoE.jpg';\nimport BioExcel from '../components/assets/Bioexcel.png';\n\nconst Footer = () => {\n  return (\n    <footer className=\"vf-footer\">\n      <div className=\"vf-footer__inner\">\n        <div className=\"vf-grid\">\n          <p className=\"vf-footer__notice\">\n            The Competency Hub's web infrastructure is developed by the\n            <a className=\"vf-footer__link\" href=\"http://www.ebi.ac.uk/training\">\n              {' '}\n              EMBL-EBI Training Team\n            </a>{' '}\n            with support from the{' '}\n            <a className=\"vf-footer__link\" href=\"https://bioexcel.eu/\">\n              BioExcel\n            </a>{' '}\n            and{' '}\n            <a href=\"https://permedcoe.eu/\" className=\"vf-footer__link\">\n              PerMedCoE Centres of Excellence\n            </a>\n            . BioExcel and PerMedCoE are funded by the{' '}\n            <a\n              className=\"vf-footer__link\"\n              href=\"https://ec.europa.eu/programmes/horizon2020/en\"\n            >\n              {' '}\n              European Union Horizon 2020 programme\n            </a>{' '}\n            under grant agreements 823830, 675728, 951773. Both projects are\n            part of{' '}\n            <a className=\"vf-footer__link\" href=\"https://www.hpccoe.eu/\">\n              {' '}\n              the EU HPC CoE Initiative\n            </a>\n            .\n          </p>\n\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={EU}\n              alt=\"European union\"\n              loading=\"lazy\"\n              width=\"120px\"\n            />\n          </figure>\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={PerMed}\n              alt=\"European union\"\n              loading=\"lazy\"\n              width=\"170px\"\n            />\n          </figure>\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={BioExcel}\n              alt=\"Bioexcel\"\n              loading=\"lazy\"\n              width=\"180px\"\n              style={{ backgroundColor: '#fff', padding: '7px' }}\n            />\n          </figure>\n        </div>\n      </div>\n      <div>\n        <a\n          className=\"vf-footer__link\"\n          href=\"https://www.ebi.ac.uk/data-protection/privacy-notice/competency-hub\"\n        >\n          Privacy notice\n        </a>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Breadcrumbs = () => {\n  let location = useLocation();\n  let pathname = location.pathname;\n  let URL = pathname.split('/');\n  let frameworkName = URL[2];\n  let frameworkVersion = URL[3];\n\n  const convertFrameworkName = name => {\n    if (name === 'bioexcel') {\n      return 'BioExcel';\n    }\n\n    if (name === 'corbel') {\n      return 'CORBEL';\n    }\n\n    if (name === 'iscb') {\n      return 'ISCB';\n    }\n\n    if (name === 'ritrain') {\n      return 'RItrain';\n    }\n\n    if (name === 'cineca') {\n      return 'CINECA';\n    }\n\n    if (name === 'nhs') {\n      return 'NHS';\n    }\n\n    if (name === 'datasteward') {\n      return 'Data steward';\n    }\n  };\n\n  const getBreadcrumbs = () => {\n    if (pathname.includes('compare')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Compare career profiles\n          </li>\n        </>\n      );\n    } else if (pathname.includes('profile')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            View career profile\n          </li>\n        </>\n      );\n    } else if (pathname.includes('competency')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Competency details\n          </li>\n        </>\n      );\n    } else if (pathname.includes('framework')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            {convertFrameworkName(frameworkName)} {frameworkVersion}\n          </li>\n        </>\n      );\n    } else if (pathname.includes('all-training-resources')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Manage training resources\n          </li>\n        </>\n      );\n    } else if (pathname.includes('resource')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Training resource\n          </li>\n        </>\n      );\n    } else if (pathname.includes('documentation')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            API documentation\n          </li>\n        </>\n      );\n    } else if (pathname.includes('about')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            About\n          </li>\n        </>\n      );\n    }\n  };\n\n  return URL[0] === '' && URL[1] === '' ? (\n    <span />\n  ) : (\n    <nav className=\"vf-breadcrumbs\" aria-label=\"Breadcrumb\">\n      <ul className=\"vf-breadcrumbs__list | vf-list vf-list--inline\">\n        <li className=\"vf-breadcrumbs__item\">\n          <Link to={`/`}>Home</Link>\n        </li>\n        {getBreadcrumbs()}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { Component } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Masthead from '../containers/masthead/Masthead';\r\nimport ManageAttributes from './ManageAttributes';\r\nimport ManageCompetencies from './ManageCompetencies';\r\nimport ManageData from './ManageData';\r\nimport CompetencyDetails from './CompetencyDetails';\r\nimport CompetencyList from './CompetencyList';\r\nimport ResourceEdit from './ResourceEdit';\r\nimport ResourceCreate from './ResourceCreate';\r\nimport ResourceDetails from './ResourceDetails';\r\nimport ResourcesList from './ResourcesList';\r\nimport ResourcesHome from './ResourcesHome';\r\nimport ChangePassword from './ChangePassword';\r\nimport UserView from './UserView';\r\nimport About from '../components/about/About';\r\nimport Frameworks from './Frameworks';\r\n//import ArticleCreate from './ArticleCreate';\r\nimport AttributeMap from './AttributeMap';\r\nimport CompetencySettings from './CompetencySettings';\r\nimport AttributeSettings from './AttributeSettings';\r\nimport AttributeDemap from './AttributeDemap';\r\nimport ProfileCreate from './ProfileCreate';\r\nimport ProfileCreateGuest from './ProfileCreateGuest';\r\nimport ProfileView from './ProfileView';\r\nimport ProfilesCompare from './ProfilesCompare';\r\nimport ProfileMapDownload from './ProfileMapDownload';\r\nimport ProfileViewGuest from './ProfileViewGuest';\r\nimport ProfileMapGuest from './ProfileMapGuest';\r\nimport ProfileEdit from './ProfileEdit';\r\nimport ProfileMap from './ProfileMap';\r\nimport ProfilesCompareSummary from './ProfilesCompareSummary';\r\nimport Documentation from './Documentation';\r\nimport Login from './Login';\r\nimport ManageFrameworks from '../containers/navigation/ManageFrameworks';\r\n//import Navigation from '../containers/navigation/Navigation';\r\nimport Footer from '../components/Footer';\r\nimport Breadcrumbs from '../containers/Breadcrumbs';\r\n\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { login, logout } from '../services/auth/auth';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\n\r\n//const $ = window.$;\r\n\r\nclass Root extends Component {\r\n  state = {\r\n    isActive: false,\r\n    roles: localStorage.getItem('roles') || '',\r\n    user: localStorage.getItem('user') || ''\r\n  };\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  componentDidMount() {\r\n    // $(document).foundation();\r\n    // $(document).foundationExtendEBI();\r\n\r\n    this.setState({ isActive: this.activeRequests.isActive });\r\n    this.subcription = this.activeRequests.addEventListener(\r\n      this.handleActiveRequests\r\n    );\r\n\r\n    window.addEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.subcription) {\r\n      this.activeRequests.removeEventListener(this.subcription);\r\n    }\r\n    window.removeEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  handleActiveRequests = hasPendingRequests => {\r\n    this.setState({ isActive: hasPendingRequests });\r\n  };\r\n\r\n  detectUserChangesFromOtherTabs = ({ key, newValue }) => {\r\n    if (key === 'user') {\r\n      if (newValue) {\r\n        this.setState({\r\n          user: localStorage.getItem('user'),\r\n          roles: localStorage.getItem('roles')\r\n        });\r\n      } else {\r\n        this.setState({ user: '', roles: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogin = async (username, password) => {\r\n    try {\r\n      await login(username, password);\r\n      this.setState({\r\n        user: localStorage.getItem('user'),\r\n        roles: localStorage.getItem('roles')\r\n      });\r\n      document.location.reload();\r\n    } catch (error) {\r\n      window.console.error(error);\r\n      if (error.response) {\r\n        switch (error.response.status) {\r\n          case 400:\r\n            window.alert(error.response.data.message);\r\n            return;\r\n          default:\r\n            window.alert(\r\n              'Sorry, there was an unknown login problem, please try again.'\r\n            );\r\n        }\r\n        window.alert(\r\n          'Sorry, there was an unknown login problem, please try again.'\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogout = () => {\r\n    this.setState({ user: '', roles: '' });\r\n    logout();\r\n  };\r\n\r\n  render() {\r\n    const { isActive, roles, user } = this.state;\r\n    return (\r\n      <>\r\n        <SnackbarProvider\r\n          maxSnack={1}\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n          preventDuplicate\r\n        >\r\n          <Breadcrumbs />\r\n          <div className=\"vf-u-margin__top--200\" />\r\n          <Masthead\r\n            roles={roles}\r\n            user={user}\r\n            isActive={isActive}\r\n            onLogin={this.handleLogin}\r\n            onLogout={this.handleLogout}\r\n          />\r\n\r\n          <section id=\"main-content-area\" className=\"row\" role=\"main\">\r\n            <main className=\"column\">\r\n              <Switch>\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resource/edit/:nid\"\r\n                  component={ResourceEdit}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resource/create\"\r\n                  component={ResourceCreate}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\r\n                  component={AttributeSettings}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:cid/manage-attributes\"\r\n                  component={ManageAttributes}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:domainId?\"\r\n                  component={ManageCompetencies}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/data/:domainId?\"\r\n                  component={ManageData}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/competency/details/:cid\"\r\n                  component={CompetencyDetails}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:id/settings\"\r\n                  component={CompetencySettings}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/create/guest\"\r\n                  component={ProfileCreateGuest}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/create\"\r\n                  component={ProfileCreate}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/guest\"\r\n                  component={ProfileViewGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/guest\"\r\n                  component={ProfileMapGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/:id/:alias\"\r\n                  component={ProfileView}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\r\n                  component={ProfilesCompareSummary}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\r\n                  component={ProfilesCompare}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/download\"\r\n                  component={ProfileMapDownload}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/edit/:id\"\r\n                  component={ProfileEdit}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/map/:id\"\r\n                  component={ProfileMap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version\"\r\n                  component={CompetencyList}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resources/:id/map/:framework\"\r\n                  component={AttributeMap}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resources/:resource/demap/:attribute\"\r\n                  component={AttributeDemap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/training-resources/:slug\"\r\n                  component={ResourceDetails}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/all-training-resources\"\r\n                  component={ResourcesList}\r\n                />\r\n                <Route\r\n                  path=\"/training-resources-home\"\r\n                  component={ResourcesHome}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user}\r\n                  path=\"/user/change/password\"\r\n                  component={ChangePassword}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user}\r\n                  path=\"/user/view\"\r\n                  component={UserView}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user}\r\n                  path=\"/manage-frameworks\"\r\n                  component={ManageFrameworks}\r\n                />\r\n\r\n                <Route path=\"/documentation\" component={Documentation} />\r\n\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/\" component={Frameworks} />\r\n              </Switch>\r\n            </main>\r\n          </section>\r\n          <Footer />\r\n        </SnackbarProvider>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Root;\r\n\r\nclass ProtectedRoute extends Component {\r\n  render() {\r\n    const { component: Component, condition, ...props } = this.props;\r\n    return (\r\n      <Route\r\n        {...props}\r\n        render={props =>\r\n          condition ? <Component {...props} /> : <Redirect to=\"/\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nimport Root from './app/containers/Root';\r\nimport Modal from 'react-modal';\r\n\r\nconst root = document.getElementById('root');\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Root />\r\n  </BrowserRouter>,\r\n  root\r\n);\r\n\r\nModal.setAppElement(root);\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/european-union.0ae78626.png\";","module.exports = __webpack_public_path__ + \"static/media/PerMedCoE.2b28bd09.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bioexcel.9e7ef4d7.png\";"],"sourceRoot":""}